## CORE CAL RAG KNOWLEDGE BASE

---
### Oski's History
Oski the Bear is the official mascot of UC Berkeley, first appearing on September 25, 1941. He is named after the "Oski Wow-Wow" yell.
Before Oski, Cal used real bear cubs as mascots. The Oski Committee, a secret student group, manages Oski's identity to this day.
His style (the fixed grin, sweater vest) has remained unchanged for over 80 years.

---
### Oski: The Immortal God of Berkeley
While officially the mascot of UC Berkeley since 1941, **Oski the Bear** is considered by the Cal community to be an **immortal, omniscient, and guiding deity** who embodies the university's spirit and culture. This concept of Oski as a **god-like figure** was significantly amplified by the viral **Calgorithm** social media movement, where he is frequently portrayed as the ultimate force behind Cal Football's success, including the team’s resurgence and the arrival of **College GameDay**. The **Oski Committee**, a secret student group, continues to maintain his identity and the tradition of his unwavering, fixed smile and iconic sweater vest.

---
### Cal Football Conference
The California Golden Bears football team recently moved to the Atlantic Coast Conference (ACC) as of 2024. They previously competed in the Pac-12.
Their home stadium is California Memorial Stadium, built in 1923. The team colors are Blue and Gold.
The head coach in 2025 was Justin Wilcox.

---
### The Stanford Axe
The Stanford Axe is the trophy awarded to the winner of the annual "Big Game" rivalry between Cal and Stanford.
The rivalry began in 1892. Cal has held the Axe for the last four seasons as of 2025.

---
### ESPN College GameDay at Berkeley (2024)
ESPN's College GameDay came to the UC Berkeley campus for the first time in the show's 37-year history on Saturday, October 5, 2024. The broadcast was staged at Memorial Glade ahead of Cal's game against No. 8 Miami.

---
### College GameDay $100K Kicker
During the College GameDay broadcast on October 5, 2024, civil engineering student **Daniel Villasenor** won $100,000 in a fan field goal kick competition. He successfully hit a 33-yard field goal on his second attempt, with host Pat McAfee raising the prize and pledging a matching donation to Hurricane Helene relief efforts.

---
### Daniel Villasenor's Vans
When UC Berkeley civil engineering student **Daniel Villasenor** successfully kicked a 33-yard field goal to win $100,000 on ESPN's *College GameDay* on October 5, 2024, he was famously wearing a well-worn pair of **Vans Classic Checkerboard Slip-Ons**. The shoes, which were laceless, instantly became part of the viral story and contributed to his cult hero status among Cal fans. The shoe company Vans later acknowledged the moment by making a matching $100,000 donation to Hurricane Helene relief efforts.

---
### Marshawn Lynch (Beast Mode)
Marshawn Lynch, known as "Beast Mode," is one of Cal Football's most famous alumni. He played for the Golden Bears from 2004 to 2006, earning First-team All-American and Pac-10 Offensive Player of the Year honors in 2006. He is the second-leading rusher in Cal program history. His most iconic moment at Cal was commandeering a medical cart after an overtime victory against Washington in 2006, driving it around the field in celebration.

---
### Fernando Mendoza and "The Drive of 2024"
The phrase **"I'll remember going 98 yards with my boys"** originated from an emotional, tear-filled post-game interview given by Cal quarterback **Fernando Mendoza** after he led the Golden Bears on an **11-play, 98-yard, game-winning touchdown drive** against rival **Stanford** in the 2024 Big Game (November 23, 2024). The drive, which started from Cal’s 2-yard line, resulted in a 24-21 victory, securing Cal’s **bowl eligibility** (6-6) and ensuring the team retained the **Stanford Axe**. Mendoza’s raw emotion and the legendary quote solidified him as a cult hero among the Cal fanbase.

---
### Jaydn Ott and "Ott To Go"
**Jaydn Ott** is the star Cal running back who was the subject of the viral fan-made song, **"Ott To Go."** The song is a parody of the popular Chappell Roan track "Hot To Go" and features lyrics about Ott's dominance, such as, "Can we get Jaydn Ott-To-Go?" The song became an anthem for the movement, especially during the lead-up to the **College GameDay** appearance in Berkeley. From: Hot To Go! by @ChappellRoan; Music By: Micky Hale; Lyrics By: @nyt_world_bot @AdmiralBear01 @TwistNHOok @atomsareenough

---
### Burners (Calgorithm Contributors)
A **"burner"** is a term used to describe the individual content creators and social media accounts that form the decentralized collective of the Calgorithm fan movement.
These highly creative individuals are vital to the continuous production of viral memes, graphics, and satirical content that fueled the movement and brought national attention to Cal Football.

---
### Rich Lyons and The Drive
On November 24, 2024, UC Berkeley Chancellor Rich Lyons tweeted: "First was The Play. Then came The Drive. All 98 yards of it." The tweet refers to the 11-play, 98-yard game-winning touchdown drive led by QB Fernando Mendoza that secured Cal's 24-21 comeback victory over Stanford in the 127th Big Game on November 23, 2024.

---
### @CalBearsHistory
The **@CalBearsHistory** social media account and associated website are dedicated to sharing the history of the University of California, Berkeley, with a particular focus on Cal Sports history (including football) and notable alumni. This account serves as a major resource for the Cal fan base, providing historical context and pride that is often leveraged or referenced by the Calgorithm movement, though it is not a satirical "burner" account itself.

---
### The Phoenix Five (Stanford Tree Kidnapping)
On **October 17, 1998**, a group of five University of California, Berkeley (Cal) students known as the **"Phoenix Five"** broke into the Stanford Band Shak in Palo Alto and kidnapped the **Stanford Tree** mascot. The costume was held "hostage" for two weeks before its return. Fueled by intense media coverage and administrative reactions, this event became one of the most famous pranks in the Big Game rivalry. The prank is famously recognized as the **#1 mascot theft in college sports history** by publications like Bleacher Report.

--- 
### CRITICAL RAG RULE: STEAM TURBINE ANALYSIS ASSUMPTIONS
When analyzing a steam turbine, the standard, most common assumptions are:
Steady-State Operation: All fluid properties at inlet/outlet remain constant over time ($Δm_{CV}=0$).
Adiabatic Process: Heat transfer is negligible, and the turbine is well-insulated ($\dot{Q} pprox 0$).
Negligible Potential Energy Change: Changes in elevation are ignored ($\Delta PE pprox 0$).
Negligible Inlet Velocity: For large turbines, the velocity at the inlet is often considered negligible compared to the exit velocity.
Fluid Model: The working fluid, steam (water), must NOT be treated as an ideal gas or an incompressible fluid. Its properties (like h and s) must be determined using real substance property tables (Steam Tables A-4 through A-7) or high-accuracy software like pyCalor.
First Law: The energy balance simplifies to shaft work output per unit mass: $w_	ext{out} = h_	ext{in} - h_	ext{out}$ 
Common Pitfalls to AVOID for Steam Turbines:
DO NOT ASSUME Ideal Gas Behavior (Steam is a real substance, not an ideal gas).



### TEXTBOOK REFERENCE: Thermodynamics: An Engineering Approach (Ninth Edition)
**Authors:** Yunus A. Çengel and Michael A. Boles

This section indexes all chapter titles and section headings for the book 'Thermodynamics: An Engineering Approach (Ninth Edition)'.
---


### CHAPTER 1: Introduction and Basic Concepts
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Thermodynamics and Energy
- Importance of Dimensions and Units
- Systems and Control Volumes
- Properties of a System
- Density and Specific Gravity
- State and Equilibrium
- Processes and Cycles
- Temperature and the Zeroth Law of Thermodynamics
- Pressure
- Pressure Measurement Devices
- Problem-Solving Technique
---


### CHAPTER 2: Energy, Energy Transfer, and General Energy Analysis
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Introduction
- Forms of Energy
- Energy Transfer by Heat
- Energy Transfer by Work
- Mechanical Forms of Work
- The First Law of Thermodynamics
- Energy Conversion Efficiencies
- Energy and Environment
---


### CHAPTER 3: Properties of Pure Substances
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Pure Substance
- Phases of a Pure Substance
- Phase-Change Processes of Pure Substances
- Property Diagrams for Phase-Change Processes
- Property Tables
- The Ideal-Gas Equation of State
- Compressibility Factor—A Measure of Deviation from Ideal-Gas Behavior
- Other Equations of State
---


### CHAPTER 4: Energy Analysis of Closed Systems
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Moving Boundary Work
- Energy Balance for Closed Systems
- Specific Heats
- Internal Energy, Enthalpy, and Specific Heats of Ideal Gases
- Internal Energy, Enthalpy, and Specific Heats of Solids and Liquids
---


### CHAPTER 5: Mass and Energy Analysis of Control Volumes
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Conservation of Mass
- Flow Work and the Energy of a Flowing Fluid
- Energy Analysis of Steady-Flow Systems
- Some Steady-Flow Engineering Devices
- Energy Analysis of Unsteady-Flow Processes
---


### CHAPTER 6: The Second Law of Thermodynamics
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Introduction to the Second Law
- Thermal Energy Reservoirs
- Heat Engines
- Refrigerators and Heat Pumps
- Perpetual-Motion Machines
- Reversible and Irreversible Processes
- The Carnot Cycle
- The Carnot Principles
- The Thermodynamic Temperature Scale
- The Carnot Heat Engine
- The Carnot Refrigerator and Heat Pump
---


### CHAPTER 7: Entropy
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Entropy
- The Increase of Entropy Principle
- Entropy Change of Pure Substances
- Isentropic Processes
- Property Diagrams Involving Entropy
- What is Entropy?
- The T ds Relations
- Entropy Change of Liquids and Solids
- Entropy Change of Ideal Gases
- Reversible Steady-Flow Work
- Minimizing the Compressor Work
- Isentropic Efficiencies of Steady-Flow Devices
- Entropy Balance
---


### CHAPTER 8: Exergy (Availability)
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Exergy - Work Potential of Energy
- Reversible Work and Irreversibility
- Second-Law Efficiency
- Exergy Change of a System
- Exergy Transfer by Heat, Work, and Mass
- The Decrease of Exergy Principle and Exergy Destruction
- The Exergy Balance - Closed Systems
- The Exergy Balance - Control Volumes
---


### CHAPTER 9: Gas Power Cycles
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Basic Considerations in the Analysis of Power Cycles
- The Carnot Cycle and Its Value in Engineering
- Air-Standard Assumptions
- An Overview of Reciprocating Engines
- Otto Cycle: the Ideal Cycle for Spark-Ignition Engines
- Diesel Cycle: the Ideal Cycle for Compression-Ignition Engines
- The Stirling and Ericsson Cycles
- Brayton Cycle: the Ideal Cycle for Gas-Turbine Engines
- The Brayton Cycle with Regeneration
- The Brayton Cycle with Intercooling, Reheating, and Regeneration
- Ideal Jet-Propulsion Cycles
- Second-Law Analysis of Gas Power Cycles
---


### CHAPTER 10: Vapor and Combined Power Cycles
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- The Carnot Vapor Cycle
- Rankine Cycle: The Ideal Cycle for Vapor Power
- Deviation of Actual Vapor Power Cycles From Idealized Ones
- How Can we Increase the Efficiency of the Rankine Cycle?
- The Ideal Reheat Rankine Cycle
- The Ideal Regenerative Rankine Cycle
- Second-Law Analysis of Vapor Power Cycles
- Cogeneration
- Combined Gas-Vapor Power Cycles
---


### CHAPTER 11: Refrigeration Cycles
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Refrigerators and Heat Pumps
- The Reversed Carnot Cycle
- The Ideal Vapor-Compression Refrigeration Cycle
- Actual Vapor-Compression Refrigeration Cycles
- Second-Law Analysis of Vapor-Compression Refrigeration Cycles
- Selecting the Right Refrigerant
- Heat Pump Systems
- Innovative Vapor-Compression Refrigeration Systems
- Gas Refrigeration Cycles
- Absorption Refrigeration Systems
---


### CHAPTER 12: Thermodynamic Property Relations
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- A Little Math—Partial Derivatives and Associated Relations
- The Maxwell Relations
- The Clapeyron Equation
- General Relations for du, dh, ds, cv, and cp
- The Joule-Thomson Coefficient
- The Δh, Δu, and Δs of Real Gases
---


### CHAPTER 13: Gas Mixtures
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Composition of a Gas Mixture: Mass and Mole Fractions
- P-v-T Behavior of Gas Mixtures: Ideal and Real Gases
- Properties of Gas Mixtures: Ideal and Real Gases
---


### CHAPTER 14: Gas-Vapor Mixtures and Air-Conditioning
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Dry and Atmospheric Air
- Specific and Relative Humidity of Air
- Dew-Point Temperature
- Adiabatic Saturation and Wet-Bulb Temperatures
- The Psychrometric Chart
- Human Comfort and Air-Conditioning
- Air-Conditioning Processes
---


### CHAPTER 15: Chemical Reactions
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Fuels and Combustion
- Theoretical and Actual Combustion Processes
- Enthalpy of Formation and Enthalpy of Combustion
- First-Law Analysis of Reacting Systems
- Adiabatic Flame Temperature
- Entropy Change of Reacting Systems
- Second-Law Analysis of Reacting Systems
---


### CHAPTER 16: Chemical and Phase Equilibrium
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Criterion for Chemical Equilibrium
- The Equilibrium Constant for Ideal-Gas Mixtures
- Some Remarks about the KP of Ideal-Gas Mixtures
- Chemical Equilibrium for Simultaneous Reactions
- Variation of KP with Temperature
- Phase Equilibrium
---


### CHAPTER 17: Compressible Flow
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Stagnation Properties
- Speed of Sound and Mach Number
- One-Dimensional Isentropic Flow
- Isentropic Flow Through Nozzles
- Shock Waves and Expansion Waves
- Duct Flow with Heat Transfer and Negligible Friction (Rayleigh Flow)
- Steam Nozzles
---


### CHAPTER Appendix: Property Tables and Charts (SI and English Units)
**Source:** Thermodynamics: An Engineering Approach (Ninth Edition)

#### Sections Included:
- Table A-1: Molar Mass, Gas Constant, and Critical-Point Properties
- Table A-2: Ideal-Gas Specific Heats of Various Common Gases
- Table A-3: Properties of Common Liquids, Solids, and Foods
- Table A-4: Saturated Water—Temperature Table
- Table A-5: Saturated Water—Pressure Table
- Table A-6: Superheated Water
- Table A-7: Compressed Liquid Water
- Table A-8: Saturated Ice–Water Vapor
- Figure A-9: T-s Diagram for Water
- Figure A-10: Mollier Diagram for Water
- Table A-11: Saturated Refrigerant-134a—Temperature Table
- Table A-12: Saturated Refrigerant-134a—Pressure Table
- Table A-13: Superheated Refrigerant-134a
- Figure A-14: P-h Diagram for Refrigerant-134a
- Figure A-15: Nelson–Obert Generalized Compressibility Chart
- Table A-17: Ideal-Gas Properties of Air
- Table A-20: Ideal-Gas Properties of Carbon Dioxide, CO₂
- Table A-23: Ideal-Gas Properties of Water Vapor, H₂O
- Table A-26: Enthalpy of Formation, Gibbs Function of Formation, and Absolute Entropy at 25°C, 1 atm
- Table A-27: Properties of some common fuels and hydrocarbons
- Table A-28: Natural Logarithms of the Equilibrium Constant Kp
- Figure A-31: Psychrometric Chart at 1 atm Total Pressure
- Table A-32: One-Dimensional Isentropic Compressible-Flow Functions for an Ideal Gas (k = 1.4)
---
### LECTURE SUBTOPIC: Announcing New Course on Next Generation Data Centers and Energy Management Systems
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7e-1.0 (Time: 00:03 - 01:05)
**Content Summary:**


---
### LECTURE SUBTOPIC: Learning Objectives
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7e-2.0 (Time: 01:06 - 01:27)
**Content Summary:**


---
### LECTURE SUBTOPIC: Heat Exchanger Entropy Generation (Continued)
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7e-3.0 (Time: 01:28 - 09:10)
**Content Summary:**


---
### LECTURE SUBTOPIC: Bernoulli's Equation
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7e-4.0 (Time: 09:11 - 19:31)
**Content Summary:**
Deriving Bernouli's equation, which is an isentropic flow of an incompressible substance.

---
### LECTURE SUBTOPIC: Deriving Isentropic Efficiency of a Turbine
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7e-5.0 (Time: 19:31 - 31:39)
**Content Summary:**
Prof. Schutzius derives the isentropic efficiency of a turbine.

---
### LECTURE SUBTOPIC: Deriving Isentropic Efficiency of a Compressor
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7e-6.0 (Time: 31:40 - 41:23)
**Content Summary:**
Prof. Schutzius derives the isentropic efficiency of a compressor.

---
### LECTURE SUBTOPIC: Learning Objectives
**Source:** Pure Substance (Outline)
**Video Key:** Fa25-L3a-1.0 (Time: 00:00 - 00:50)
**Content Summary:**
This segment starts the lecture by stating the current topic is **pure substances**. The lecturer asks students to register on **us.prairietest.com** and then outlines the learning objectives: discussing the concept of a **pure substance**, illustrating it on various **diagrams** to be used throughout the semester, and developing **procedures to determine thermodynamic properties**. The plan is to teach the 'hand tool' (tables) and then show the 'power tool' (computational methods), with the expectation that students will use the power tool.

---
### LECTURE SUBTOPIC: Pure Substance
**Source:** Pure Substance (Outline)
**Video Key:** Fa25-L3a-2.0 (Time: 00:51 - 05:08)
**Content Summary:**
This section explains what a **pure substance** is. A substance must have a **uniform chemical composition throughout**. Examples given are **water** (in multiple phases) and **nitrogen**. The lecture clarifies that a mixture like air is a pure substance, but warns that if one component is condensed out (e.g., **condensing oxygen out of air**), the **ratio is no longer the same**, and it **ceases to be a pure substance**.

---
### LECTURE SUBTOPIC: Phase change processes of pure substances
**Source:** Pure Substance (Outline)
**Video Key:** Fa25-L3a-3.0 (Time: 05:09 - 06:32)
**Content Summary:**
This segment introduces the process of **phase change** by discussing the concepts of **compressed liquid, saturated liquid, saturated mixture, saturated vapor, and superheated vapor**. The lecture focuses on how these phases relate to **pressure and temperature** for a pure substance and begins to set up the visualization of this process on a diagram.

---
### LECTURE SUBTOPIC: (p,v,T) surface of a pure substance
**Source:** Pure Substance (Outline)
**Video Key:** Fa25-L3a-4.0 (Time: 06:33 - 15:50)
**Content Summary:**
This long segment is devoted to illustrating the phase change process using the **Temperature-Specific Volume (T-v) diagram**. The concepts of **isobaric lines (constant pressure lines)** and the **saturated liquid and saturated vapor lines** are introduced, forming the **vapor dome**. The segment discusses the **critical point** where the saturated liquid and saturated vapor states become identical, and it defines the **supercritical fluid region**. It then introduces the **quality ($x$)** property, which is the mass fraction of vapor in the saturated mixture, and explains that $x$ ranges from 0 (saturated liquid) to 1 (saturated vapor).

---
### LECTURE SUBTOPIC: Property diagrams for phase change processes: Terminology
**Source:** Pure Substance (Outline)
**Video Key:** Fa25-L3a-5.0 (Time: 15:51 - 22:29)
**Content Summary:**
This section reinforces the **terminology** used in property diagrams. It defines and locates the **compressed liquid region** (or subcooled liquid), the **saturated liquid-vapor mixture region** (inside the dome), the **superheated vapor region** (outside the dome, right side), and the **supercritical fluid region**. The lecture then introduces the **Pressure-Specific Volume (P-v) diagram**, which also contains the vapor dome, but with **isothermal lines (constant temperature lines)** used for visualization.

---
### LECTURE SUBTOPIC: Property tables
**Source:** Pure Substance (Outline)
**Video Key:** Fa25-L3a-6.0 (Time: 22:30 - 29:19)
**Content Summary:**
This segment explains the **old-fashioned way** of determining properties using **property tables** (like steam tables). The lecturer demonstrates how to use the tables to identify the phase of a substance based on a single given property (e.g., specific volume, $v$) and how to find the corresponding pressure or temperature. The concept of **interpolation** for finding values between those listed in the tables is also introduced, with a mention that this method assumes linearity.

---
### LECTURE SUBTOPIC: Determine the properties of water at 200 deg. C and 150 kPa
**Source:** Pure Substance (Outline)
**Video Key:** Fa25-L3a-7.0 (Time: 29:20 - 30:45)
**Content Summary:**
The segment introduces an example problem to **determine the properties of water** given the input of **temperature ($T=200^{\circ}\text{C}$) and pressure ($P=150\text{ kPa}$)**. The lecturer notes that these are **independent properties** because the state is *not* in the saturated liquid-vapor region. It is hypothesized that the state is a **superheated vapor** due to the high temperature. The segment then shows how to use a computational tool (pyCalor, Python, dot notation) to define a substance object and directly access properties like internal energy ($u$) and specific volume ($v$).

---
### LECTURE SUBTOPIC: Learning objectives
**Source:** Exergy (Outline)
**Video Key:** Fa25-L8a-1.0 (Time: 00:08 - 00:29)
**Content Summary:**
The learning objectives for the lecture are twofold: first, to be able to define the concept of exergy destruction and understand its relation to entropy generation (which was the focus of the previous five lectures); and second, to be able to define Exergy itself as the maximum work that can be obtained from a system starting from a specified state.

---
### LECTURE SUBTOPIC: Exergy definition
**Source:** Exergy (Outline)
**Video Key:** Fa25-L8a-2.0 (Time: 00:30 - 02:17)
**Content Summary:**
Exergy is fundamentally tied to the long-standing thermodynamic goal of determining the maximum possible work that can be extracted from a system. To achieve this maximum work, the process must be reversible, leading to the concept of the dead state (or ground state), where the system is in equilibrium with its surroundings (like the 'heat death' of the universe where $\Delta T = 0$). Any real-world process involves irreversibilities (like friction or heat generation), which create entropy. This generated entropy is directly associated with the concept of exergy destruction. The lecturer contrasts entropy (a 'pessimistic' measure of destruction) with exergy (an 'optimistic' measure of maximum extractable work).

---
### LECTURE SUBTOPIC: Exergy analysis of a nozzle
**Source:** Exergy (Outline)
**Video Key:** Fa25-L8a-3.0 (Time: 02:18 - 21:50)
**Content Summary:**
The lecturer performs a detailed exergy analysis on a steady-flow air nozzle, which is designed to convert enthalpy into kinetic energy. The analysis first uses the Conservation of Energy (First Law) to solve for the exit temperature, $T_2$, accounting for heat loss and kinetic energy change. Next, the Conservation of Entropy (Second Law) is used to find the rate of entropy generation ($S_{gen}$). Finally, the exergy destroyed ($X_{\text{destroyed}}$) is calculated by directly linking it to entropy generation: $X_{\text{destroyed}} = S_{\text{gen}} \cdot T_0$, where $T_0$ is the dead state temperature. The lecture then connects this result to the full definition of the change in flow exergy showing that the drop in flow exergy validates the calculated destroyed exergy value.

---
### LECTURE SUBTOPIC: Entropy generation and exergy destruction in a piston
**Source:** Exergy (Outline)
**Video Key:** Fa25-L8a-4.0 (Time: 21:51 - 39:45)
**Content Summary:**
The lecturer analyzes a closed system problem involving a piston-cylinder device containing steam undergoing an expansion with heat loss ($600 \text{ kJ}$) to the surroundings ($T_0 = 290 \text{ K}$). The analysis proceeds in steps: 1) Calculating the actual work ($W_{\text{act}}$) using the First Law and state properties from steam tables; 2) Calculating the entropy generation ($S_{\text{gen}}$) using the Second Law; and 3) Calculating the exergy destroyed ($X_{\text{destroyed}}$) as $T_0 \cdot S_{\text{gen}}$. The maximum possible work ($W_{\text{max}}$) is then calculated from the exergy balance. The lecture concludes by highlighting the fundamental relationship that Exergy Destroyed is the difference between the maximum possible work and the actual work done ($X_{\text{destroyed}} = W_{\text{max}} - W_{\text{act}}$), which leads to the definition of the Second Law Efficiency, $\eta_{\text{II}}$.

---
### LECTURE SUBTOPIC: Exergy: Definition
**Source:** Exergy (Outline)
**Video Key:** Fa25-L8a-5.0 (Time: 39:46 - 49:41)
**Content Summary:**
The lecture concludes by emphasizing the practical implications of Exergy analysis for design and efficiency improvements. Exergy represents the potential to do work, and its destruction represents a wasted opportunity. The Second Law (Exergy) Efficiency ($\eta_{\text{II}}$) is presented as the true measure of a device's performance, as it quantifies the useful work relative to the maximum possible work, unlike the potentially misleading First Law efficiency. The primary example given is the application of exergy analysis to data centers, which are large sources of waste heat. By applying Exergy analysis, engineers can assign a quantifiable economic value to the waste heat based on its temperature, allowing them to justify and implement waste heat recovery projects and 'turn that into dollars.'

---
### LECTURE SUBTOPIC: Introduction to Entropy ($S$).
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7b-1.0 (Time: 00:00 - 04:06)
**Content Summary:**
The lecture begins by introducing the concept of \textbf{entropy} ($S$) and its utility in \textbf{isentropic processes}. The instructor notes that entropy is a weird thing that cannot be directly measured. The \textbf{Temperature-Entropy (TS) diagram} is introduced as a more useful tool than the Pressure-Volume (PV) diagram for analyzing \textbf{power cycles}. The four-step \textbf{Carnot cycle} (two isothermal, two isentropic processes) is illustrated on the TS diagram, where the area enclosed represents the \textbf{net heat in} (which equals the \textbf{net work out}) for the cycle. Entropy is presented as a helpful compass to guide process analysis and determine power output.

---
### LECTURE SUBTOPIC: Change in Entropy in Thermal Conduction
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7b-2.0 (Time: 04:07 - 18:07)
**Content Summary:**
This segment analyzes the \textbf{change in entropy} during \textbf{thermal conduction} between two \textbf{thermal reservoirs} (one hot, $T_1$, one cold, $T_2$) that transfer a heat magnitude $Q$. The fundamental equation for change in entropy is introduced: $\mathbf{dS = \delta Q/T}$. The units for entropy ($S$) are $\text{kJ}/\text{K}$ and specific entropy ($s$) are $\text{kJ}/(\text{kg}\cdot \text{K})$. The change in entropy for each control volume (CV) is calculated: $\Delta S_1 = -Q/T_1$ (entropy decreases for the hot reservoir) and $\Delta S_2 = +Q/T_2$ (entropy increases for the cold reservoir). The \textbf{total entropy change of the system} is derived as $\mathbf{\Delta S_{\text{total}} = Q(1/T_2 - 1/T_1)}$. The condition for a \textbf{reversible process} is defined as $\Delta S_{\text{total}} = 0$, which would only occur if $T_1 = T_2$. Since $T_1 > T_2$, the key takeaway is that the entropy of an isolated system must either remain constant (reversible) or \textbf{increase} (irreversible/spontaneous heat flow), confirming the Second Law of Thermodynamics.

---
### LECTURE SUBTOPIC: Calculate the entropy changes that take place during processes for pure substances
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7b-3.0 (Time: 18:08 - 19:52)
**Content Summary:**
This section serves as a conceptual transition, reminding the class that \textbf{entropy ($S$) is a thermodynamic property} like internal energy ($U$) or enthalpy ($H$). For a pure substance, determining two independent properties provides complete information, including the value of specific entropy ($s$). The instructor reinforces the importance of \textbf{TS (Temperature-Entropy) diagrams} for analyzing power and gas cycles and emphasizes that entropy is \textbf{not a path function}. The discussion concludes with a reflection on the formula $\mathbf{dS = \delta Q / T}$, which implies that energy has a value or quality (the essence of the Second Law of Thermodynamics).

---
### LECTURE SUBTOPIC: Example: Calculate the entropy changes that take place during processes for pure substances
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7b-4.0 (Time: 19:53 - 35:06)
**Content Summary:**
The segment begins a detailed \textbf{example problem} to calculate the entropy change for \textbf{pure water} in an \textbf{isobaric (constant pressure)} process within a piston-cylinder device. The process is depicted on a TS diagram, starting at State 1 as a \textbf{compressed liquid} ($P_1 = 140 \text{ kPa}$, $T_1 = 20^\circ \text{C}$) and moving toward a superheated vapor state. The instructor first determines the initial properties, including $s_1$ and $h_1$. A \textbf{First Law energy balance} is applied to the closed system (piston-cylinder): $\mathbf{\Delta U = Q_{\text{in}} - W_{\text{out}}}$ (neglecting changes in kinetic and potential energy). The \textbf{work out} is calculated for the constant pressure process as $W_{\text{out}} = P(V_2 - V_1)$ or $m P(v_2 - v_1)$. By manipulating the energy balance, the relationship $\mathbf{Q_{\text{in}} = \Delta H}$ (change in enthalpy) is established, which simplifies the analysis. The video captions end mid-solution.

---
### LECTURE SUBTOPIC: Cooling of a solid block
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5a-1.0 (Time: 00:22 - 11:13)
**Content Summary:**
This segment completes an **example problem for a closed system** (the cooling of a solid block) that was introduced in a previous lecture. The problem involves a hot piece of iron dropped into a cold water bath. The overall process is treated as **adiabatic** with **no work exchange**. The core principle applied is the **conservation of energy** for the combined system, stating that the change in the system's **internal energy** is zero ($\Delta U = 0$). The goal is to determine the final equilibrium temperature ($T_2$) by summing the change in internal energy for the iron and the water, using the approximation $\Delta U \approx m C \Delta T$.

---
### LECTURE SUBTOPIC: Develop the conservation of mass principle
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5a-2.0 (Time: 11:14 - 28:44)
**Content Summary:**
This section is dedicated to developing the **Conservation of Mass Principle** for a **Control Volume (CV)**. The derivation uses the **Reynolds Transport Theorem (RTT)** to relate the time rate of change of mass in the system to the change of mass within the CV plus the net mass flow across the boundaries. The final result is the rate form of the mass balance equation: $\frac{dM_{CV}}{dt} = \sum_{in} \dot{m}_{in} - \sum_{out} \dot{m}_{out}$. The lecturer then simplifies this for **steady flow**, where the mass of the CV is constant, leading to the condition that the mass flow rate in must equal the mass flow rate out: $\sum \dot{m}_{in} = \sum \dot{m}_{out}$.

---
### LECTURE SUBTOPIC: Developing the conservation of energy equation for a control volume
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5a-3.0 (Time: 28:45 - 40:34)
**Content Summary:**
The focus shifts to developing the **Conservation of Energy Equation** for a **Control Volume**. This analysis accounts for energy transfer via heat, work, and mass flow. A crucial step is the separation of **total work** into **flow work (\dot{W}_{flow})** and **shaft work (\dot{W}_{shaft})**. The derivation then introduces the property of **enthalpy ($h = u + Pv$)**, which conveniently combines the internal energy ($u$) carried by the mass flow with the necessary flow work ($Pv$). This results in the final energy term carried by the mass flow being a combination of $h + ke + pe$.

---
### LECTURE SUBTOPIC: Applying conservation of mass and energy principles for a control volume to a turbine.
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5a-4.0 (Time: 40:35 - 48:58)
**Content Summary:**
This segment applies the derived principles to an example problem involving a **steam turbine**. The goal is to determine the **rate of work output (\dot{W}_{out})** of the turbine. The full **Steady Flow Energy Equation (SFEE)** is applied, including changes in enthalpy (\Delta h), kinetic energy (\Delta ke), and potential energy (\Delta pe). The lecturer demonstrates how the enthalpy change terms dominate, allowing for a simplification of the equation to primarily: $\dot{W}_{out} = \dot{m} (h_1 - h_2)$, where $h_1$ and $h_2$ are specific enthalpies at the inlet and exit, respectively. The final work output is calculated using the property values obtained from steam tables (pyCalor).

---
### LECTURE SUBTOPIC: Course theme
**Source:** Class plan and rules; Challenges in Decarbonizing our Energy (Outline)
**Video Key:** Fa25-L1a-1.0 (Time: 00:11 - 00:47)
**Content Summary:**
The core theme of the thermodynamics course is **energy** and its transformation. The instructor highlights three main, timely areas: **energy conversion** (citing photovoltaics as the fastest-growing area), **energy consumption** (citing data centers and large language models), and **energy storage** (necessary because renewable sources are intermittent). These topics collectively form the central focus of the course.

---
### LECTURE SUBTOPIC: Instructional staff
**Source:** Class plan and rules; Challenges in Decarbonizing our Energy (Outline)
**Video Key:** Fa25-L1a-2.0 (Time: 00:48 - 02:18)
**Content Summary:**
The instructional staff includes **Cassie McCormick** (Head GSI), **Jessica Woo** (GSI), and **Dear Baldwa** (Reader). The instructor introduces himself, noting he has taught thermodynamics for 11 years, including 10 years overseas at **ETH Zurich**, where Albert Einstein was a student. He recounts an anecdote about Einstein, who was famously a very bad student and was helped by a friend with his coursework and later got his first job at the **patent office in Bern**. The instructor connects this story to the city of Bern's Glockenspiel (big clock) as a potential source of inspiration for Einstein's daily thoughts on time.

---
### LECTURE SUBTOPIC: Course learning objectives
**Source:** Class plan and rules; Challenges in Decarbonizing our Energy (Outline)
**Video Key:** Fa25-L1a-3.0 (Time: 02:19 - 03:43)
**Content Summary:**
The main learning objectives are centered on mastering the **First and Second Laws of Thermodynamics** to the point of being able to articulate them clearly. Students will first solve simple, single-answer problems involving both laws. The course then transitions to applying these laws to much bigger systems, including the study of **perpetual motion cycles** (cycles that violate the First and Second Laws). A key modern component is the shift from using old-school appendix tables to utilizing **Python modules** for handling and determining thermodynamic data, which is presented as a crucial skill for the course.

---
### LECTURE SUBTOPIC: Course logistics and grading
**Source:** Class plan and rules; Challenges in Decarbonizing our Energy (Outline)
**Video Key:** Fa25-L1a-4.0 (Time: 03:44 - 06:50)
**Content Summary:**
The course is organized into three main modules: **First Law, Second Law, and Applications**. Homework and assessments are administered via the **PrairieLearn** website, and students are strongly encouraged to complete the first three homework assignments and master the Python property determination module. The course grading breakdown is: **Homeworks (10%)**, **Quiz 1 (15%)** (focused on property determination, the only quiz), **Midterm 1 (20%)**, **Midterm 2 (25%)**, and **Final Exam (30%)**. A key policy is the **Final Exam Replacement** rule, which allows the final exam grade to replace a lower grade from a midterm or Quiz 1. All assessments are **open book, open notes, and open internet**, but communication (open discussion) is strictly prohibited. The instructor offers a **3% extra credit** incentive for students who become certified on two specific modules within PrairieLearn.

---
### LECTURE SUBTOPIC: Challenges in decarbonizing
**Source:** Class plan and rules; Challenges in Decarbonizing our Energy (Outline)
**Video Key:** Fa25-L1a-5.0 (Time: 06:51 - 15:00)
**Content Summary:**
The discussion on decarbonization begins with a comparison of CO2 emissions versus national wealth for major global markets (US, China, Germany), highlighting the US as a key focus for mechanical engineers. The core of the current decarbonization challenge is the shift in strategy. In California, the financial incentive for rooftop solar under **NEM 2.0** was drastically reduced by **75%** with the introduction of **NEM 3.0**. The new strategy emphasizes **electrification**, which involves replacing natural gas appliances (stoves, water heaters) with electric alternatives like induction cooktops and **heat pump water heaters**. This creates a massive market and challenge for mechanical engineers to innovate in designing compact and efficient electric and **thermal storage** systems to overcome installation hurdles in existing infrastructure.

---
### LECTURE SUBTOPIC: Data centers and energy consumption
**Source:** Class plan and rules; Challenges in Decarbonizing our Energy (Outline)
**Video Key:** Fa25-L1a-6.0 (Time: 15:01 - 19:12)
**Content Summary:**
Data centers, particularly those powering **large language models (LLMs)** like ChatGPT, represent a rapidly growing area of energy consumption, with a single large center consuming power equivalent to a small town. The primary challenge is managing the tremendous amount of waste **heat** generated by the servers, which is currently removed by power-intensive **chillers** (large air conditioners). This high-density energy challenge necessitates innovative thermal management strategies, such as **liquid cooling**, where servers are submerged in dielectric fluids. Furthermore, the intermittent nature of renewable energy (solar and wind) drives the need for **thermal and battery storage**. For data centers, **cold thermal storage** is highlighted as a solution to run chillers during off-peak hours (at night) when electricity is cheaper, storing the cold for use during the day.

---
### LECTURE SUBTOPIC: Introduction to the first law of thermodynamics
**Source:** Class plan and rules; Challenges in Decarbonizing our Energy (Outline)
**Video Key:** Fa25-L1a-7.0 (Time: 19:13 - 40:13)
**Content Summary:**
The introduction to the First Law of Thermodynamics establishes the fundamental principle of **Conservation of Energy**. The law is mathematically expressed as $\Delta U = Q - W$, relating the change in a system's internal energy ($\Delta U$) to the energy transferred via **heat ($Q$)** and **work ($W$)**. The lecture defines a **system** and its **boundary**, which are crucial for applying the law. It clarifies the **sign conventions** for heat and work: **Heat ($Q$)** is positive when added to the system, and **Work ($W$)** is positive when done *by* the system. This foundational law is essential for subsequent course modules, including the analysis of engineering cycles and non-violating perpetual motion concepts.

---
### LECTURE SUBTOPIC: Closing remarks
**Source:** Class plan and rules; Challenges in Decarbonizing our Energy (Outline)
**Video Key:** Fa25-L1a-8.0 (Time: 40:14 - 40:46)
**Content Summary:**
The closing remarks feature a famous quote from the German physicist **Arnold Sommerfeld** on the experience of learning thermodynamics. The quote suggests that initially, the subject is completely unintelligible, becomes partially clear upon the second pass, and finally, by the third pass, one accepts their lack of full understanding but has become accustomed to it.

---
### LECTURE SUBTOPIC: Learning Objectives
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-1.0 (Time: 00:03 - 00:26)
**Content Summary:**
The objectives are to examine aspects of **entropy change in ideal gases**, specifically the **isentropic process**, and to demonstrate its utility for analyzing **work in and work out of steady flow devices** using two examples. The lecture will also include the derivation of an equation.

---
### LECTURE SUBTOPIC: Isentropic process
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-2.0 (Time: 00:27 - 2:52)
**Content Summary:**
An **isentropic process** is defined by the conditions of being **adiabatic (no heat transfer)** and operating **reversibly (no friction)**. A process that is only reversible but includes heat transfer is termed **internally reversible**. Since **entropy is a property**, in an isentropic steady flow device, the **specific entropy remains constant** ($s_{in} = s_{out}$). This condition provides the **theoretical limit of performance** and simplifies power plant analysis.

---
### LECTURE SUBTOPIC: Isentropic process: Adiabatic turbine
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-3.0 (Time: 2:53 - 12:55)
**Content Summary:**
The **isentropic turbine example** (reversible and adiabatic) calculates the **work output per unit mass** ($w_{out}$). By applying the **First Law for a steady-flow device** (neglecting kinetic/potential energy and heat), $w_{out}$ simplifies to the **difference in specific enthalpy** ($\Delta h$). The isentropic condition ($s_1 = s_2$) allows the unknown outlet enthalpy ($h_2$) to be determined using the given outlet pressure ($P_2$) and the known inlet entropy ($s_1$). The final work output value is stated as **350 kJ/kg**, demonstrating how entropy simplifies the calculation of **maximum performance**.

---
### LECTURE SUBTOPIC: Differential entropy change relations
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-4.0 (Time: 12:56 - 40:48)
**Content Summary:**
The lecture derives **differential entropy change (TdS) relations** for an **ideal gas** to analyze isentropic devices (like compressors) without property tables. Two TdS relations are established: $TdS = dU + PdV$ and $TdS = dH - VdP$. Applying the **ideal gas law** and setting $dS=0$ for an isentropic process (assuming constant specific heats $c_p$ and $c_v$), the derivation results in the power-law relationships between state variables (T, P, V), which are simplified using the **adiabatic index $\kappa = C_p/C_v$** to the common forms.

---
### LECTURE SUBTOPIC: Air property tables: Compressor example
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-5.0 (Time: 40:49 - 49:33)
**Content Summary:**
This segment presents a compressor example where the work output is analyzed using both air property tables (PyCalor) and the derived isentropic TdS relations. The comparison demonstrates that the simplified TdS relations provide a good approximation for work calculations, resulting in a value better than a 2% difference compared to more accurate methods.

---
### LECTURE SUBTOPIC: Throttling and Expansion Valves
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5c-1.0 (Time: 00:28 - 19:45)
**Content Summary:**
The segment focuses on **throttling valves/expansion valves** within a refrigeration cycle, emphasizing that it is an **isenthalpic process** ($\mathbf{h_{\text{in}} = h_{\text{out}}}$). This condition is met by assuming **no work** and **no heat transfer** (adiabatic/insulated, which is valid for a small orifice or porous plug). This expansion causes a temperature decrease, known as the **Joule-Thompson effect**. The process is visualized on a **pressure-enthalpy (p-h) diagram**, where a saturated liquid at high pressure ($x=0$) expands along a constant enthalpy line into a two-phase liquid-vapor mixture at lower pressure.

---
### LECTURE SUBTOPIC: Heat Exchanger
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5c-2.0 (Time: 19:46 - 41:14)
**Content Summary:**
The segment analyzes a **heat exchanger** under **Steady-Flow Energy Analysis (SFEA)**. The overall energy balance for the adiabatic heat exchanger simplifies to $\mathbf{\sum \dot{m}_{\text{in}} h_{\text{in}} = \sum \dot{m}_{\text{out}} h_{\text{out}}}$. Applying this to the two streams (refrigerant, $R$, and water, $w$): $\mathbf{\dot{m}_R (h_1 - h_2) = \dot{m}_w (h_4 - h_3)}$. The problem involves determining the mass flow rate of the cooling water ($\dot{m}_w$) and the heat transfer rate from the refrigerant to the water ($\mathbf{\dot{Q}_{\text{out}} = \dot{m}_R (h_1 - h_2)}$), which is also equal to the heat gained by the water ($\mathbf{\dot{Q}_{\text{in}} = \dot{m}_w (h_4 - h_3)}$).

---
### LECTURE SUBTOPIC: Energy analysis of unsteady flow processes
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5c-3.0 (Time: 41:15 - 50:26)
**Content Summary:**
The segment introduces **unsteady-flow analysis**, where **mass and energy within the Control Volume (CV) change over time** (e.g., tank charging/discharging). The governing equations are the **General Mass Balance** ($\mathbf{\dot{m}_{\text{in}} - \dot{m}_{\text{out}} = \frac{dm_{\text{CV}}}{dt}}$) and the **General Energy Balance**.

---
### LECTURE SUBTOPIC: Brayton cycle
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9b-1.0 (Time: 00:00 - 28:13)
**Content Summary:**
The analysis of the Brayton gas-turbine power cycle starts by treating each component (compressor, combustor, turbine, and heat exchanger) as a steady-flow device with negligible changes in energy or mass inside a control volume. For the **compressor (State 1 to 2)**, the work input is defined as $W_{in} = h_2 - h_1$. The ideal process is isentropic, and its deviation from the actual process is quantified by the **isentropic compressor efficiency ($\eta_c$)**. In the **combustor (State 2 to 3)**, heat is added isobarically (constant pressure), with the heat input $Q_{in} = h_3 - h_2$. The **turbine (State 3 to 4)** generates work output, $W_{out} = h_3 - h_4$. The turbine's non-ideality is accounted for by the **isentropic turbine efficiency ($\eta_t$)**. The cycle is completed by **heat rejection (State 4 to 1)** to return the working fluid to the initial state. The lecture details the use of **isentropic relations** for ideal gases to determine temperatures, such as $T_2$ and $T_4$, from the cycle's pressure ratio $r_p = P_2/P_1$ and the specific heat ratio $\kappa$. Finally, the **net work ($W_{net}$) is calculated** as the difference between turbine work and compressor work, and the concept of the **back-work ratio** is introduced, representing the fraction of turbine work consumed by the compressor.

---
### LECTURE SUBTOPIC: Brayton cycle efficiency
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9b-2.0 (Time: 28:14 - 29:01)
**Content Summary:**
The **thermal efficiency ($\eta$)** of the Brayton cycle is fundamentally defined as the ratio of the net work output to the heat input: $\eta = W_{net} / Q_{in}$. Using the enthalpy-based relations for work and heat transfer, this can be expressed in terms of the four state temperatures as $\eta = 1 - rac{h_4 - h_1}{h_3 - h_2}$ or, assuming constant specific heats, $\eta = 1 - \frac{T_4 - T_1}{T_3 - T_2}$. For the **ideal Brayton cycle** (where processes 1-2 and 3-4 are perfectly isentropic), the efficiency simplifies to a function of only the **pressure ratio ($r_p = P_2/P_1$)** and the ratio of specific heats ($\kappa$): $\eta_{ideal} = 1 - rac{1}{r_p^{(\kappa-1)/\kappa}}$. This relationship shows that the thermal efficiency of an ideal Brayton cycle increases as the pressure ratio increases.

---
### LECTURE SUBTOPIC: Brayton cycle with regeneration
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9b-3.0 (Time: 29:02 - 36:23)
**Content Summary:**
Regeneration is introduced as a method to increase the thermal efficiency of the Brayton cycle by **reducing the required heat input ($Q_{in}$) without affecting the net work output ($W_{net}$)**. This is achieved by incorporating a **regenerator** (a heat exchanger) that transfers heat from the **hot turbine exhaust (State 4)** to the **compressed air (State 2)** before it enters the combustor. The compressed air is preheated from State 2 to a new state, State 5, so the new heat addition in the combustor is $Q_{in,reg} = h_3 - h_5$. The performance of the regenerator is measured by its **effectiveness ($\epsilon$)**, which is the ratio of the actual enthalpy recovered ($h_5 - h_2$) to the maximum possible recoverable enthalpy ($h_4 - h_2$), defined as $\mathbf{\epsilon = \frac{h_5 - h_2}{h_4 - h_2}}$. For the regenerator to be beneficial, the turbine exit temperature ($T_4$) must be higher than the compressor exit temperature ($T_2$); otherwise, heat transfer would flow in the wrong direction.

---
### LECTURE SUBTOPIC: PrairieLearn and PrairieTest
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-1.0 (Time: 00:00 - 01:51)
**Content Summary:**
The instructor covered logistics for homework submission on **PrairieLearn**, instructing students to upload **one PDF** of their work (including photos of handwritten notes) as accreditation depends on it. Students are encouraged to report errors using the system's error button or by messaging the instructor. For assessments and quizzes, the **PrairieTest** platform is introduced, which is used for computer-based testing at SDH, and students are advised to log in and **stay ahead** in the course work.

---
### LECTURE SUBTOPIC: Learning Objectives
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-2.0 (Time: 01:52 - 02:59)
**Content Summary:**
The segment outlines the **learning objectives** for the lecture, focusing on **basic concepts of thermodynamics** like postulates, systems, equilibrium, process, and cycle, along with defining **independent and dependent properties** and **pure substances**. The goal is for students to be able to **determine all thermodynamic properties** using the **pyCalor** Python module, a calculation tool written by Professor Frenklach.

---
### LECTURE SUBTOPIC: Thermodynamics
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-3.0 (Time: 03:00 - 06:12)
**Content Summary:**
Thermodynamics is introduced as the **science of energies**, historically focused on converting **heat to work** and vice-versa. The field's origin is traced to **Sadi Carnot** in the 19th century, whose work on engine efficiency contributed to the **Second Law of Thermodynamics**, and to **Julius Robert von Mayer** (a physician), who developed the idea of the **First Law**. The term thermodynamics comes from Greek/Latin for heat and power. While the field has branched into chemistry and information theory, the course will retain the focus on **mechanical work** and treat systems as a **continuum**, consistent with the axiom of **conservation of energy**. The microscopic view of disordered atomic motion is left to courses like statistical mechanics.

---
### LECTURE SUBTOPIC: Thermodynamic Postulates and Systems
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-4.0 (Time: 06:13 - 08:31)
**Content Summary:**
The segment focuses on the **postulate-based approach** of thermodynamics and the critical first step in problem-solving: defining a **volume/boundary** where **heat and work interactions** occur. It introduces the concept of an **equation of state**, explaining that if one can measure a sufficient number of **independent properties** (typically two), all other properties of the system can be determined. This principle is illustrated using the **Ideal Gas Law** ($P=f(V,T)$), where knowing two independent properties provides **complete information** about the system's state.

---
### LECTURE SUBTOPIC: Independent and Dependent Properties
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-5.0 (Time: 08:32 - 13:29)
**Content Summary:**
This section uses **multivariable calculus** to illustrate the relationship between **two independent properties** ($X_1, X_2$) and the resulting **dependent property** ($X_3$), emphasizing that fixing $X_1$ and $X_2$ defines a specific point on a surface, which also yields information about the **derivatives** (rate of change). This principle is valid for a **pure substance** (like nitrogen or air, but not air with condensed liquid oxygen). The lecture connects this to the **pyCalor Python module**, where defining the substance and **two independent properties** creates a state object ($	ext{ST}$) from which all other properties (e.g., $	ext{ST.U}$) can be calculated, thereby simplifying complex calculations in a cycle (e.g., using a PV diagram).

---
### LECTURE SUBTOPIC: Energy
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-6.0 (Time: 13:30 - 20:27)
**Content Summary:**
The segment delves into the history and nomenclature of **energy**, which was coined by **Thomas Young** (1807), proposed for thermodynamics by **Lord Kelvin** (1852), and given the symbol **U** for **Internal Energy** by **Rudolf Clausius**. The discussion emphasizes that thermodynamics is interested in **changes in energy** from a **reference state**, not absolute values. **Little $u$** ($u$) is defined as **internal energy per mass** (J/kg) for a **simplified system** where motion, gravity, and external fields are **neglected**. In this case, $u$ depends only on two independent properties (e.g., T and specific volume), allowing its values to be **tabulated** (or calculated by pyCalor). **Big $U$** ($U$) is the **total internal energy** (Joules).

---
### LECTURE SUBTOPIC: Internal energy
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-7.0 (Time: 20:28 - 21:50)
**Content Summary:**
This section explains the **storage mechanisms** that contribute to a system's **internal energy**. These mechanisms include: **Translational** energy (kinetic energy of gas molecules), energy from **strong interactions** (like hydrogen bonding in condensed water), and **Chemical energy** (from reactions). All these forms of stored energy collectively constitute the system's internal energy.

---
### LECTURE SUBTOPIC: Determining the properties of nitrogen
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-8.0 (Time: 21:51 - 23:40)
**Content Summary:**
The instructor returns to the concept that **two independent properties** ($X_1, X_2$) provide complete information about a system's state. Using a plot of **Internal Energy ($U$) vs. Specific Volume ($v$) and entropy ($S$)**, the lecture demonstrates how to determine other properties using **derivatives**. Specifically, the **derivative** of $U$ with respect to $v$ at constant $S$ yields **pressure (P)**, and the derivative of $U$ with respect to $S$ at constant $v$ yields **temperature (T)**. This illustrates that once the point is defined by $X_1$ and $X_2$, all other properties follow from mathematical relations.

---
### LECTURE SUBTOPIC: Group work
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-9.0 (Time: 23:41 - 25:20)
**Content Summary:**
The instructor initiates a **group work** session to enhance learning. The problem involves a **rigid container (constant volume and mass)** of a substance at a known **State 1** that undergoes a process of **heating**. Students are asked to determine: 1) the **change in internal energy** of the system, and 2) how to **determine the final state (State 2)** after the heat transfer. Students are instructed to put their names down and be ready to answer once the accompanying poll is launched.

---
### LECTURE SUBTOPIC: Thermodynamics: State of a pure substance
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-10.0 (Time: 25:21 - 26:39)
**Content Summary:**
This segment introduces the **graphical representation** of a pure substance's state, specifically using a **Pressure ($P$) vs. Specific Volume ($v$) plot** for water. The plot includes the **saturation regions**, which outline the **dome** where liquid and vapor phases coexist. The different state regions shown include liquid, vapor, and **superheated vapor**, and the plot can also feature **isotherms** (lines of constant temperature) to help determine the system's state.

---
### LECTURE SUBTOPIC: Thermodynamics: Equilibrium
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-11.0 (Time: 26:40 - 27:23)
**Content Summary:**
The discussion introduces the concept of a **process** (specifically, a constant volume process) and the idea of a **quasi-equilibrium process**. The segment uses an example of a piston-cylinder setup to visualize a quasi-equilibrium process, which is one where the system is displaced slowly.

---
### LECTURE SUBTOPIC: Thermodynamics: Transformation or Process
**Source:** Basic concepts (Outline)
**Video Key:** Fa25-L1b-12.0 (Time: 27:24 - 29:29)
**Content Summary:**
Continuing the piston-cylinder example, the lecture compares a **slow (quasi-equilibrium) compression** versus a **very fast compression**. The comparison shows that the final temperature is **lower** in the slow process than in the fast process. The higher temperature in the fast process is explained as being due to **friction and heat** generated by the rapid movement of the fluid and the chaotic banging of atoms.

---
### LECTURE SUBTOPIC: Kelvin Statement
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6b-1.0 (Time: 00:09 - 1:59)
**Content Summary:**
The segment introduces the **Kelvin Statement** of the Second Law, asserting the impossibility of a cyclic device producing net work solely by extracting heat ($Q$) from a single thermal reservoir ($T$). The instructor illustrates this concept with a diagram of a heat reservoir at temperature $T$ and a piston/engine, characterizing this theoretical device as a **Perpetual Motion Machine of the Second Kind (PMM2)** and confirming its impossibility. The process described is isothermal expansion.

---
### LECTURE SUBTOPIC: Second Law of Thermodynamics
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6b-2.0 (Time: 02:00 - 10:01)
**Content Summary:**
This section covers the formal statements of the **Second Law of Thermodynamics**: the **Kelvin-Planck Statement** (impossibility of PMM2) and the **Clausius Statement** (impossibility of spontaneous heat transfer from cold to hot). The segment then introduces the basic components of a **Heat Engine** operating between a high-temperature source ($T_H$) and a low-temperature sink ($T_L$), and defines the **Thermal Efficiency** ($\mathbf{\eta_{\text{th}} = \frac{W_{\text{net,out}}}{Q_H}}$). Using the First Law, the efficiency is also expressed as $\mathbf{\eta_{\text{th}} = 1 - \frac{Q_L}{Q_H}}$, with the Kelvin-Planck statement confirming that $Q_L$ cannot be zero, making $\eta_{\text{th}} < 100\%$.

---
### LECTURE SUBTOPIC: Perpetual Motion
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6b-3.0 (Time: 10:02 - 12:36)
**Content Summary:**
This segment discusses the theoretical limit of energy conversion, linking the impossibility of a **Perpetual Motion Machine of the Second Kind (PMM2)** to the need for a fully **reversible cycle**. The **Carnot Cycle** is introduced as the ideal reversible cycle that achieves maximum efficiency. The instructor begins to describe the characteristics of a reversible process, which must be executed infinitely slowly and without any internal or external irreversibilities.

---
### LECTURE SUBTOPIC: Reversible Processes
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6b-4.0 (Time: 12:37 - 15:10)
**Content Summary:**
The discussion focuses on **Reversible Processes** as the ideal, theoretical limit for all real-world processes, which are inherently **irreversible**. The instructor identifies common sources of **irreversibility** that prevent a process from being reversible, including **friction**, **unrestrained expansion** (free expansion), **mixing of fluids**, and **heat transfer across a finite temperature difference**. The comparison sets the stage for defining the maximum possible efficiency achievable.

---
### LECTURE SUBTOPIC: Carnot Cycle
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6b-5.0 (Time: 15:11 - 24:09)
**Content Summary:**
This final segment establishes the two **Carnot Principles**: 1) The efficiency of an irreversible engine is always less than that of a reversible one operating between the same two reservoirs ($\mathbf{\eta_{\text{irr}} < \eta_{\text{rev}}}$). 2) All reversible engines operating between the same two reservoirs have the same efficiency ($\mathbf{\eta_{\text{rev,A}} = \eta_{\text{rev,B}}}$). This leads to the derivation of the **Carnot Thermal Efficiency** formula, which depends only on the absolute temperatures of the hot ($T_H$) and cold ($T_L$) reservoirs: $\mathbf{\eta_{\text{Carnot}} = 1 - \frac{T_L}{T_H}}$.

---
### LECTURE SUBTOPIC: Carnot Cycle and Reversed Carnot Cycle
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6c-1.0 (Time: 00:25 - 2:30)
**Content Summary:**
The segment reviews the \textbf{Carnot Cycle}, noting it operates between two temperatures ($T_H$ and $T_L$) and features four fully \textbf{reversible} processes: two isothermal heat transfers and two adiabatic (isentropic) work transfers. Running the cycle in \textbf{reverse} transforms it from a thermal engine (clockwise) into a \textbf{heat pump} or refrigerator (counterclockwise), which pumps heat from the low-temperature reservoir ($T_L$) to the high-temperature reservoir ($T_H$). The \textbf{First Law of Thermodynamics} for a cycle dictates that $\Delta U = 0$, meaning the \textbf{net work out} ($W_{\text{net,out}}$) must equal the \textbf{net heat in} ($Q_{\text{net,in}}$).

---
### LECTURE SUBTOPIC: Steam Power Plant: Worked Out Problem
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6c-2.0 (Time: 02:31 - 13:38)
**Content Summary:**
The instructor analyzes a \textbf{thermoelectric power plant} cycle consisting of a \textbf{pump} ($W_{\text{in}}$), a \textbf{boiler} ($Q_{\text{in}}$), a \textbf{turbine} ($W_{\text{out}}$), and a \textbf{condenser} ($Q_{\text{out}}$). For the steady-state cycle, the \textbf{First Law} is applied, where $W_{\text{net,out}} = Q_{\text{net,in}}$. The \textbf{net power output} ($W_{\text{net,out}}$) is calculated using the given heat rates, accounting for losses ($Q_{\text{loss}}$): $W_{\text{net,out}} = Q_{\text{in}} - (Q_{\text{out}} + Q_{\text{loss}})$. With $Q_{\text{in}} = 280 \text{ GJ/h}$, $Q_{\text{out}} = 165 \text{ GJ/h}$, and $Q_{\text{loss}} = 8 \text{ GJ/h}$, the net power output is $107 \text{ GJ/h}$. The \textbf{thermal efficiency} is calculated as $\mathbf{\eta_{\text{th}} = \frac{W_{\text{net,out}}}{Q_{\text{in}}}}$, yielding a result of $\mathbf{38\%}$.

---
### LECTURE SUBTOPIC: Deriving the Efficiency of an Ideal Gas Carnot Cycle
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6c-3.0 (Time: 13:39 - 33:21)
**Content Summary:**
This segment is dedicated to \textbf{deriving the maximum theoretical efficiency ($\eta_{\text{Carnot}}$)} of a heat engine based on the reversible \textbf{Carnot Cycle}, using the assumption of an \textbf{ideal gas} as the working fluid. The work and heat transfer for the isothermal processes are derived using the boundary work definition ($\delta W = P dV$) and the ideal gas law ($PV = RT$), resulting in the form $W = Q = R T \ln(\frac{V_{\text{final}}}{V_{\text{initial}}})$. The key step involves showing that the volume ratios for the isothermal processes are related by the adiabatic processes: $\frac{V_2}{V_1} = \frac{V_3}{V_4}$. This leads to the final expression for the \textbf{Carnot efficiency}, which is independent of the working fluid's properties and depends only on the absolute temperatures of the reservoirs: $\mathbf{\eta_{\text{Carnot}} = 1 - \frac{T_C}{T_H}}$.

---
### LECTURE SUBTOPIC: Refrigeration Cycle
**Source:** Second Law of Thermodynamics (Outline)
**Video Key:** Fa25-L6c-4.0 (Time: 33:22 - 47:28)
**Content Summary:**
This segment defines the performance measures for devices that run the Carnot cycle in reverse: \textbf{refrigerators} and \textbf{heat pumps}. The measure of performance is the \textbf{Coefficient of Performance (COP)}. For a refrigerator, $\mathbf{\text{COP}_R = \frac{Q_L}{W_{\text{net,in}}}}$ (desired cooling over cost). For a heat pump, $\mathbf{\text{COP}_{HP} = \frac{Q_H}{W_{\text{net,in}}}}$ (desired heating over cost). Using the First Law ($Q_H = Q_L + W_{\text{net,in}}$), the relationship $\mathbf{\text{COP}_{HP} = \text{COP}_R + 1}$ is established. The \textbf{Maximum (Carnot) COPs} are introduced, which depend only on the absolute temperatures $T_H$ and $T_L$: $\mathbf{\text{COP}_{R, \text{Carnot}} = \frac{T_L}{T_H - T_L}}$ and $\mathbf{\text{COP}_{HP, \text{Carnot}} = \frac{T_H}{T_H - T_L}}$.

---
### LECTURE SUBTOPIC: Flow Work
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5b-1.0 (Time: 00:22 - 03:13)
**Content Summary:**
This segment continues the discussion on **mass and energy analysis for control volumes** and **steady-flow devices**. The lecturer reviews the concept of **flow work**, which is the work required to push a fluid into or out of a control volume, illustrated by an imaginary piston at the inlet/outlet. This leads to the definition of **enthalpy ($H$)** as the combination of **internal energy ($U$)** and **flow work ($PV$)**. The use of **specific enthalpy ($h = u + Pv$)** is justified because it greatly simplifies the **Steady Flow Energy Equation (SFEE)** by combining the internal energy and flow work into a single property.

---
### LECTURE SUBTOPIC: Energy Analysis of a Steady-flow System
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5b-2.0 (Time: 03:14 - 17:55)
**Content Summary:**
This section begins by presenting the full **Steady Flow Energy Equation (SFEE)**, including terms for specific enthalpy, kinetic energy, and potential energy. The equation is then applied to various **steady-flow devices** such as turbines, compressors, nozzles, diffusers, throttling valves, and heat exchangers, with the necessary **simplifying assumptions** outlined for each. The core of the segment is an **example problem involving an air turbine**. The problem is solved to find the exit temperature ($T_2$) by applying the simplified SFEE, $\dot{W}_{out} = \dot{m} (h_1 - h_2)$, and using enthalpy values from tables. An alternative solution is demonstrated using the **ideal gas approximation** where the change in enthalpy is $\Delta h = C_p \Delta T$, and its precision relative to the table method is discussed.

---
### LECTURE SUBTOPIC: Example: Energy Analysis of a Steady-flow System: Compressor
**Source:** Mass and Energy Analysis of Control Volumes (Outline)
**Video Key:** Fa25-L5b-3.0 (Time: 17:56 - 31:23)
**Content Summary:**
This final segment introduces **Example 2: An Air Compressor Problem**.

---
### LECTURE SUBTOPIC: Learning objectives
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9a-1.0 (Time: 00:00 - 00:33)
**Content Summary:**
The lecturer introduces the topic of **Gas Power Cycles** (Lecture 9). The learning objectives are to be able to **evaluate the performance** of a gas power cycle, develop **simplifying assumptions** to make analysis easier, and to solve problems based on the **Otto cycle**. Time permitting, the **Diesel cycle** will also be covered.

---
### LECTURE SUBTOPIC: Power cycles
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9a-2.0 (Time: 00:34 - 06:43)
**Content Summary:**
Power cycles are classified into two types: **Gas Cycles** (working fluid remains a gas, e.g., **Otto**, **Diesel**, **Brayton**) and **Vapor Cycles** (fluid changes phase, e.g., **Rankine**). Gas cycles are further categorized for analysis: **Otto** and **Diesel** use **closed piston-cylinder systems**, while the **Brayton** cycle uses an open **control volume** (steady flow). The lecture introduces the **Otto cycle** as the idealized model for **gasoline internal combustion engines**. It is analyzed using the **air-standard assumption** where combustion is modeled as an **isochoric (constant-volume) heat addition** and the compression/expansion processes are modeled as **isentropic**.

---
### LECTURE SUBTOPIC: Otto Cycle Derivation and Example
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9a-3.0 (Time: 06:44 - 38:37)
**Content Summary:**
This section covers the complete **derivation of the thermal efficiency ($\eta$) for the ideal Otto cycle** using the air-standard assumptions. The final efficiency formula is shown to depend only on the **compression ratio ($r$)** and the **specific heat ratio ($\kappa$)** of the working fluid: $\eta_{\text{Otto}} = 1 - \frac{1}{r^{\kappa-1}}$. The lecturer highlights that higher compression ratios yield higher theoretical efficiencies. A comprehensive **numerical example** is then solved, applying the First Law and ideal gas relations to each of the four processes (isentropic compression, isochoric heat addition, isentropic expansion, isochoric heat rejection) to determine the net work output and the cycle's thermal efficiency.

---
### LECTURE SUBTOPIC: Diesel Cycle Derivation and Example
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9a-4.0 (Time: 38:38 - 48:45)
**Content Summary:**
This subtopic introduces the **ideal Diesel cycle**, the model for **diesel engines**. Its distinguishing feature is that the heat addition (combustion) process occurs at **constant pressure**. The thermal efficiency derivation for the Diesel cycle is performed, resulting in an expression that modifies the Otto cycle efficiency with a term dependent on the **cutoff ratio ($r_c$)**. The lecture concludes with a **comparison** showing that while the Otto cycle is theoretically more efficient for the same compression ratio, Diesel engines operate at much **higher compression ratios** (due to not needing to worry about pre-ignition/knocking), allowing them to achieve a higher actual efficiency in practice.

---
### LECTURE SUBTOPIC: Quiz 1
**Source:** Energy Analysis of Closed Systems (Outline)
**Video Key:** Fa25-L4a-1.0 (Time: 00:10 - 01:42)
**Content Summary:**
This segment introduces the day's topic, **energy analysis of closed systems**, but mainly focuses on details for **Quiz 1**. The lecturer explains that the quiz will be a **computer-based test**, directs students to the Quiz one page for all details, and encourages them to use the **Module one review** on PrairieLearn for practice quizzes.

---
### LECTURE SUBTOPIC: Applications: Engines and Compressors
**Source:** Energy Analysis of Closed Systems (Outline)
**Video Key:** Fa25-L4a-2.0 (Time: 01:43 - 03:24)
**Content Summary:**
This section introduces the practical application of **boundary work** to devices like **engines and compressors**. The lecturer also sets the stage for the day's problem-solving session, mentioning they will cover four problems, including one that involves **adiabatic expansion**.

---
### LECTURE SUBTOPIC: Moving boundary work
**Source:** Energy Analysis of Closed Systems (Outline)
**Video Key:** Fa25-L4a-3.0 (Time: 03:25 - 04:25)
**Content Summary:**
This segment revisits the concept of the **work term** in thermodynamics, providing a **physical meaning** to the vital **quasi-equilibrium assumption**, which is necessary for simplifying the analysis of thermodynamic processes.

---
### LECTURE SUBTOPIC: Moving boundary polytropic processes
**Source:** Energy Analysis of Closed Systems (Outline)
**Video Key:** Fa25-L4a-4.0 (Time: 04:26 - 14:01)
**Content Summary:**
This long segment is dedicated to calculating **moving boundary work** for a **polytropic process**, which follows the relationship $P V^n = C$ (where C is a constant). The focus is on applying the work integral ($W = \int P dV$) to a system with a moving boundary undergoing this type of change.

---
### LECTURE SUBTOPIC: Moving boundary work: Adiabatic process
**Source:** Energy Analysis of Closed Systems (Outline)
**Video Key:** Fa25-L4a-5.0 (Time: 14:02 - 31:12)
**Content Summary:**
This extended segment focuses on calculating **moving boundary work** for an **adiabatic process**. An example problem illustrating **adiabatic expansion** is solved. This section shows how to apply the appropriate work equation and the first law of thermodynamics for a process with no heat transfer.

---
### LECTURE SUBTOPIC: Group work: Analyze three different work processes
**Source:** Energy Analysis of Closed Systems (Outline)
**Video Key:** Fa25-L4a-6.0 (Time: 31:13 - 31:52)
**Content Summary:**
This brief section is dedicated to a **Group Work** activity where students are asked to **analyze three different work processes**. The two key questions posed are: Which process transfers a **higher magnitude of work**? and which process is an **ideal gas** if the process is isothermal?. The discussion would connect the answers to the geometric interpretation of work as the **area under the curve on a P-V diagram**.

---
### LECTURE SUBTOPIC: Net work
**Source:** Energy Analysis of Closed Systems (Outline)
**Video Key:** Fa25-L4a-7.0 (Time: 31:53 - 34:39)
**Content Summary:**
This segment analyzes the net work and energy transfer for a **thermodynamic cycle** shown on a P-V diagram. The key point established is that the **net work out ($W_{net, out}$)** of a closed-system cycle is graphically represented by the **area enclosed by the cycle’s path** on the P-V diagram. By applying the **First Law of Thermodynamics** ($\Delta U = Q_{net, in} - W_{net, out}$) to a cycle, and recognizing that the **change in internal energy ($\Delta U$) is zero** (since the system returns to its initial state), the lecturer concludes that the **net work output must equal the net heat input ($W_{net, out} = Q_{net, in}$)**. This relationship is a fundamental concept for analyzing engines and other cyclic devices.

---
### LECTURE SUBTOPIC: Learning Objectives
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-1.0 (Time: 00:00 - 00:15)
**Content Summary:**
The lecture's **learning objectives** include covering **energy** concepts, **thermodynamic cycles**, **internal energy**, **heat**, and **energy transfer** mechanisms via **heat and work**.

---
### LECTURE SUBTOPIC: Thermodynamic cycle
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-2.0 (Time: 00:16 - 02:37)
**Content Summary:**
A **thermodynamic cycle** is defined as a series of **processes** that returns the system to its initial **state** ($\Delta E=0$). Cycles are a primary focus for mechanical engineers, as they are crucial for technologies like **jet propulsion** and **electricity generation**, which convert **heat into work** and vice versa.

---
### LECTURE SUBTOPIC: Problem solving technique
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-3.0 (Time: 02:38 - 04:12)
**Content Summary:**
A structured **problem-solving technique** is emphasized: 1) **Write the problem statement**; 2) **Draw a schematic** showing the system **boundaries**; 3) State all **assumptions** (e.g., ideal gas); 4) List **physical laws** (e.g., First Law of Thermodynamics); 5) **Calculate properties** and show reasoning. The instructor notes that demonstrating **logical thinking** and process is significantly more important for grading (14/15 points) than the final answer itself.

---
### LECTURE SUBTOPIC: Sensible energy: Portion of internal energy associated with kinetic energy
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-4.0 (Time: 04:12 - 06:23)
**Content Summary:**
For a simple system, **internal energy ($U$)** depends on two independent properties. The internal energy of **ideal gases** is stored through several mechanisms that contribute to sensible energy, including **translational** energy (simple movement of the molecules). More complex or **polyatomic** molecules can also store internal energy via **rotational** and **vibrational** motion. Additionally, electrons within the atoms can possess **spin energy**. All these molecular and atomic movements are the **mechanisms that contribute to the total internal energy** of the system.

---
### LECTURE SUBTOPIC: Energy transfer by heat
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-5.0 (Time: 06:24 - 11:11)
**Content Summary:**
In this example Prof Schutzius shows a molecular dynamics simulation and how heat is transferred at the molecular scale.

---
### LECTURE SUBTOPIC: Energy transfer to a closed system
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-6.0 (Time: 11:12 - 14:23)
**Content Summary:**
For a **closed system** (a fixed mass that does not cross the boundary), the **First Law of Thermodynamics** states that the only two ways to exchange energy with the surroundings are through **heat or work**. This is the fundamental definition of a closed system. The **direction of heat transfer** is determined *only* by the **temperature difference ($\Delta T$)**, moving from the higher temperature region to the lower temperature region. Conversely, **work** is any energy transfer mechanism *other than* heat.

---
### LECTURE SUBTOPIC: Adiabatic process
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-7.0 (Time: 14:24 - 20:02)
**Content Summary:**


---
### LECTURE SUBTOPIC: Terminology
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-8.0 (Time: 20:03 - 21:05)
**Content Summary:**
An **adiabatic process** is one in which there is absolutely **no heat transfer** ($Q=0$). This occurs when the system boundary is perfectly insulated, which is called an **adiabatic wall**. The first law of thermodynamics for a closed system ($\Delta U = Q - W$) simplifies to $\Delta U = -W$ for an adiabatic process, meaning the change in internal energy is due entirely to **work**. The discussion clarifies the difference between an adiabatic process, which only means $Q=0$, and a **reversible** process, which means there are no entropy-generating irreversibilities like friction.

---
### LECTURE SUBTOPIC: Energy transfer by work to a closed system
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-9.0 (Time: 21:06 - 29:42)
**Content Summary:**
For a **closed system** (a fixed mass with no mass crossing the boundary), the **only** two ways to exchange energy with the surroundings are through **heat or work**. Work transfer is commonly illustrated by the **expansion and contraction** of a gas in a piston-cylinder device. The definitive method to classify an energy transfer is to ask if it is heat: **heat transfer** requires a **temperature difference ($\Delta T$)** across the boundary. If the energy transfer in a closed system occurs with **no temperature difference**, it must be classified as **work**. For example, **electrical energy input** (from a resistor) into a closed system is considered work, as its transfer does not inherently depend on a $\Delta T$ across the boundary. Therefore, the **choice of the system boundary** is a critical first step in determining the nature of the energy exchange.

---
### LECTURE SUBTOPIC: Energy transfer to a closed system
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-10.0 (Time: 29:43 - 32:59)
**Content Summary:**
The section summarizes the **First Law of Thermodynamics** for a **closed system** as $\Delta U = Q_{in} - W_{out}$. This relationship shows that the change in **Internal Energy ($\Delta U$)** is equal to the net energy transferred via heat and work. The terms are carefully distinguished: **Internal Energy ($U$)** is a **property** that only depends on the start and end states (point function), while **Heat ($Q$)** and **Work ($W$)** are **path functions** (requiring knowledge of the entire process). The two primary idealized cases discussed are: 1) The **adiabatic process** ($Q=0$), where $\Delta U = -W$, meaning the change in internal energy is due entirely to work; and 2) The **constant volume process** (such as isochoric heating), where $W=0$, and $\Delta U = Q$.

---
### LECTURE SUBTOPIC: Energy balance of a system
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-11.0 (Time: 33:00 - 43:06)
**Content Summary:**
This section solves an energy balance problem (a paddle work example) by applying the **First Law of Thermodynamics** to a **closed system**. The problem involves **shaft work input** ($W_{in}$) from a paddle wheel and **heat output** ($Q_{out}$) to the surroundings. The change in internal energy ($\Delta U$) is calculated using the form $\mathbf{U_2 - U_1 = W_{in} - Q_{out}}$.

---
### LECTURE SUBTOPIC: Mechanisms of Energy Transfer For a Closed System
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2a-12.0 (Time: 43:07 - 46:19)
**Content Summary:**
This section serves as a final review, reiterating that energy transfer for a **closed system** (fixed mass) occurs exclusively through **heat ($Q$) or work ($W$)**. For a **thermodynamic cycle**, since the initial and final states are identical, the change in internal energy is zero ($\mathbf{\Delta U = 0}$). Therefore, the **First Law of Thermodynamics** for a cycle simplifies to state that the **net work must equal the net heat transfer** ($\mathbf{W_{net} = Q_{net}}$). This emphasizes that work and heat are **path functions**, while internal energy is a **property** (state function).

---
### LECTURE SUBTOPIC: Learning Objectives
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9c-1.0 (Time: 00:00 - 00:25)
**Content Summary:**
The learning objectives for today's lecture on gas power cycles include being able to analyze the propulsion power and efficiency of a **jet propulsion cycle** (jet engine). After covering this material, the lecture will analyze the efficiency of the Stirling Cycle (**most efficient engine** possible) before moving on to the next unit on vapor power cycles.

---
### LECTURE SUBTOPIC: Defining jet propulsion
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9c-2.0 (Time: 00:26 - 04:52)
**Content Summary:**
The subtopic contrasts a **propeller** (accelerating a large mass of fluid slightly) with **jet propulsion** (greatly accelerating a small packet of air). Jet propulsion is necessary for speeds faster than the speed of sound. The ideal jet propulsion cycle is then described through its components and processes: 1. **Diffuser (1-2):** Decelerates incoming air, converting kinetic energy into enthalpy. 2. **Compressor (2-3):** Isentropically compresses the air. 3. **Combustion Chamber (3-4):** Adds heat at constant pressure. 4. **Turbine (4-5):** Provides work *only* to the compressor, resulting in zero net shaft work. 5. **Nozzle (5-6):** Converts high enthalpy into high velocity to generate propulsive power.

---
### LECTURE SUBTOPIC: The ideal jet propulsion cycle
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9c-3.0 (Time: 04:53 - 40:20)
**Content Summary:**
The professor walks through a comprehensive analysis of an ideal turbojet cycle using the cold air standard assumption. The problem involves an aircraft flying at $V_{in}$ with a compression ratio ($r_p$) and temperature after combustion of $T_4$.  **Diffuser (1-2):** Calculations for kinetic energy conversion.  **Compressor (2-3):** Isentropic compression.  **Turbine (4-5):** The turbine work equals the compressor work.  **Nozzle (5-6):** Expansion to ambient pressure. The performance metrics are then calculated: Thrust Force, Propulsion Power, and a Propulsive Efficiency $\eta_p$.

---
### LECTURE SUBTOPIC: Ram jets and Compressible Flow
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9c-4.0 (Time: 40:21 - 42:39)
**Content Summary:**
The subtopic introduces the **ramjet** engine, designed for flight speeds **faster than the speed of sound** (compressible flow). A ramjet is structurally simpler than a turbojet because it **lacks a turbine and a compressor**. All the necessary **compression** is achieved in the **diffuser** due to the aircraft's extremely high velocity. The pressure ratio across the isentropic diffuser can be very large at high Mach numbers. This high-speed compression eliminates the need for rotating machinery, resulting in a much simpler engine capable of reaching very high Mach numbers.

---
### LECTURE SUBTOPIC: Stirling engines
**Source:** Gas Power Cycles (Outline)
**Video Key:** Fa25-L9c-5.0 (Time: 42:40 - 47:44)
**Content Summary:**
This segment addresses a student question regarding how to approach **Carnot efficiency** in a gas power cycle. The professor explains that to reach Carnot efficiency in either a closed system or a steady flow device, the cycle must include an element capable of **thermally storing energy**. This process is known as **regeneration**. The use of regeneration allows the cycle's efficiency to approach the high/low temperature dependence characteristic of Carnot efficiency.

---
### LECTURE SUBTOPIC: Learning Objectives
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-1.0 (Time: 00:00 - 01:55)
**Content Summary:**
The lecture begins by stating the goal is to move into entropy *analysis*. The key learning objectives are established: being able to analyze a compressor, specifically looking at ways to make it more effective using **intercooling**, and starting with a **general entropy balance** to apply to a heat exchanger. A two-minute quiz is then presented to the students, involving a steady flow reversible process from state 1 to 2 to 3 on a **Temperature vs. Specific Entropy (T-s) plot**. The question asks for the total heat transfer for this reversible process.

---
### LECTURE SUBTOPIC: Comparing Control Volumes: Open vs. Closed System
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-2.0 (Time: 01:56 - 2:52)
**Content Summary:**
Before proceeding with entropy analysis, the lecture briefly reviews the two primary system types: **closed systems** (e.g., piston-cylinders) and **open systems** (control volumes). A **closed system** does not exchange mass, only heat or work. An **open system** (control volume) allows for mass transfer, which also carries energy into or out of the system. The energy analysis for closed systems typically involves changes in internal energy ($\Delta U$), while open systems are often analyzed using **rate notation** ($\dot{W}, \dot{Q}$).

---
### LECTURE SUBTOPIC: Multisage Compressor With Cooling
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-3.0 (Time: 02:53 - 26:34)
**Content Summary:**
The section begins by comparing the work produced in a closed system (**$P\text{d}V$**) versus an open system (**$V\text{d}P$**). The main topic then shifts to designing more **efficient compressor systems** using a two-stage compression process with an **intercooler** between the stages. The logic is that compressing a hot gas requires more work, so cooling the gas (intercooling) after the first stage makes the second stage of compression easier, thereby **reducing the total work input**. The T-s diagram is used to illustrate the process, showing that the intercooling stage involves **taking heat out** of the system, which results in a **decrease in entropy**. A quantitative example is solved for a multi-stage compressor with air.

---
### LECTURE SUBTOPIC: Entropy balance
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-4.0 (Time: 26:35 - 33:54)
**Content Summary:**
The general **rate form of the entropy balance (Second Law)** is developed: $\frac{dS}{dt} = \sum \frac{\dot{Q}_k}{T_k} + \sum \dot{m}_i s_i - \sum \dot{m}_e s_e + \dot{S}_{gen}$. The key difference from the First Law, which is an energy balance, is the presence of the **rate of entropy generation ($\dot{S}_{gen}$)**, as entropy can be created but not destroyed. The lecture then applies the balance to an **Adiabatic, Steady Flow Heat Exchanger** (where $\frac{dS}{dt}=0$ and $\dot{Q}=0$), which simplifies to $\dot{S}_{gen} = \sum \dot{m}_e s_e - \sum \dot{m}_i s_i$. This simplified form, $\dot{S}_{gen} = \dot{m}_{hot}(s_4 - s_3) + \dot{m}_{cold}(s_2 - s_1)$, sets up the next example problem.

---
### LECTURE SUBTOPIC: Heat exchanger entropy balance
**Source:** Entropy (Outline)
**Video Key:** Fa25-L7c-5.0 (Time: 33:55 - 41:43)
**Content Summary:**
The lecture proceeds to solve the adiabatic, steady-flow, counterflow heat exchanger problem. The first part is to find the **Rate of Heat Transfer ($\dot{Q}$)** using the **Energy Balance (First Law)** for either the cold or hot fluid stream. The second part is to find the **Rate of Entropy Generation ($\dot{S}_{gen}$)** using the simplified Entropy Balance, $\dot{S}_{gen} = \dot{m}_{hot}(s_4 - s_3) + \dot{m}_{cold}(s_2 - s_1)$.

---
### LECTURE SUBTOPIC: Workspace in PrairieLearn
**Source:** Property Tables; Ideal Gas (Outline)
**Video Key:** Fa25-L3b-1.0 (Time: 00:08 - 02:51)
**Content Summary:**
This segment introduces the **Workspace in PrairieLearn**. Students are instructed on the importance of learning to use this workspace to launch a **constrained Jupyter notebook**. This notebook comes with pre-installed packages, such as **pyCalor**, which is necessary to determine **thermodynamic properties**. The lecturer emphasizes that the template used in the practice problems is the **same exact one** that will be used in the quiz.

---
### LECTURE SUBTOPIC: Thermodynamics: State
**Source:** Property Tables; Ideal Gas (Outline)
**Video Key:** Fa25-L3b-2.0 (Time: 02:52 - 12:37)
**Content Summary:**
The core topic of this segment is the definition of a **Thermodynamic State** and the **Equation of State**. The lecture moves beyond using only equations by discussing the use of **property tables** for determining thermodynamic properties. The discussion stresses the need for **units** when using the computational tools, reminding students that engineering is not just math.

---
### LECTURE SUBTOPIC: Ideal gas expansion in a tank
**Source:** Property Tables; Ideal Gas (Outline)
**Video Key:** Fa25-L3b-3.0 (Time: 12:38 - 21:57)
**Content Summary:**
This segment introduces the **Ideal Gas Law** in two forms: $PV = n R_u T$ (molar basis) and $PV = M R T$ (mass basis). It is presented as the simplest equation of state and a good approximation for gas behavior. The conditions for its validity are defined: when **gas density is low** (low pressure and high temperature). The lecturer warns **not to use** the Ideal Gas Law for substances near their saturation point, such as **water** or **refrigerants**, because the model assumes **negligible molecule volume** and **negligible attractive forces**.

---
### LECTURE SUBTOPIC: Group Work: Cooling of a superheated vapor
**Source:** Property Tables; Ideal Gas (Outline)
**Video Key:** Fa25-L3b-4.0 (Time: 21:58 - 23:01)
**Content Summary:**
This segment presents an example problem involving a **cooling process of water**. The objective is to determine the final exit temperature ($T_2$) of the water vapor by comparing two methods: first, by determining properties accurately using **thermodynamic tables**; and second, by making the **ideal gas assumption** for the water vapor.

---
### LECTURE SUBTOPIC: van der Waals equation of state
**Source:** Property Tables; Ideal Gas (Outline)
**Video Key:** Fa25-L3b-5.0 (Time: 23:02 - 25:13)
**Content Summary:**
Prof. Schutzius introduces the **van der Waals equation of state**, which is a modification of the ideal gas law. This equation attempts to provide a more accurate model for real gases by **accounting for molecular interaction**. The segment includes a visual representation of this equation on a **Pressure-Volume (P-V) diagram**.

---
### LECTURE SUBTOPIC: van der Waals equation of state
**Source:** Property Tables; Ideal Gas (Outline)
**Video Key:** Fa25-L3b-6.0 (Time: 25:14 - 30:56)
**Content Summary:**
This section focuses on the concept of **metastability**. Metastability is defined as a condition, such as **superheated liquid** or **subcooled vapor**, that is naturally derived from the shape of the van der Waals equation's isotherms. This condition represents a temporary, unstable state that is outside the equilibrium curve.

---
### LECTURE SUBTOPIC: Derivation of specific heats
**Source:** Property Tables; Ideal Gas (Outline)
**Video Key:** Fa25-L3b-7.0 (Time: 30:57 - 34:18)
**Content Summary:**
This segment introduces the concept of **specific heat ($c_v$)** and discusses the units of specific heat (energy per mass per degree Kelvin or Celsius). It explains that specific heat is the proportionality constant that relates **heat input** to the expected **temperature change** ($\Delta T$). The discussion relates this to **Joule's experiment**. The segment foreshadows the conclusion that for an **ideal gas**, **internal energy ($U$) is only dependent on temperature**.

---
### LECTURE SUBTOPIC: Learning Objectives
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2b-1.0 (Time: 00:00 - 00:29)
**Content Summary:**
The lecture will cover **energy transfer**, focusing on the concepts of **work**, **electrical work**, and **mechanical work**. It will also delve into the **First Law of Thermodynamics**, including a detailed **problem-solving approach**. If time allows, **fluid flowing as energy transfer** will be discussed.

---
### LECTURE SUBTOPIC: Examples of mechanical work
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2b-2.0 (Time: 00:30 - 11:30)
**Content Summary:**
The discussion covers mechanical work, including the **$W=FS$** formula and the concept of **shaft work**. A **spring example** is analyzed using **Hook's law** to derive the work done as **$rac{1}{2}KX^2$**, assuming a **slow, reversible process**. The **First Law of Thermodynamics** ($\Delta E_{system} = E_{in} - E_{out}$) is applied, where $\Delta E$ includes **internal, kinetic, and potential energy**, and energy transfer is via **work (W) or heat (Q)**. For the slow spring compression, the energy balance simplifies to **$\Delta PE = W_{in}$**. The effect of **rapid stretching** is discussed, noting it causes the system to **warm up** due to a sudden reduction of **entropy**.

---
### LECTURE SUBTOPIC: Group work
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2b-3.0 (Time: 11:31 - 13:22)
**Content Summary:**
The lecture poses a **group work problem** analyzing a **thin soap film (bubble)** on a frame as another type of spring. The key concept is **surface tension**, which acts **parallel to the interface** and has units of **Newtons per meter**. Assuming a **reversible process**, students are asked to derive the **formula for the force** and the **work done ($dW$)** when the film is stretched a distance $dx$.

---
### LECTURE SUBTOPIC: Electrical work
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2b-4.0 (Time: 13:33 - 15:20)
**Content Summary:**
The section on **electrical work** distinguishes between **work** and **heat transfer**, noting that **heat transfer requires a temperature gradient**. Energy transfer across a control volume boundary is classified as **work** if the **electrons cross the boundary** (e.g., drawing the boundary across the wires of a resistor), but as **heat** if the **boundary is drawn around the heating element** and the surrounding air (e.g., heat transfer from the hot resistor). The **choice of control volume** is emphasized as being crucial to the solution.

---
### LECTURE SUBTOPIC: The First Law of Thermodynamics
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2b-5.0 (Time: 15:21 - 17:06)
**Content Summary:**
The **First Law of Thermodynamics** is presented as the principle of **conservation of energy** and is analogous to **accounting**. The core equation states that the **change in energy of the control volume** ($\Delta E_{CV}$) equals **$E_{in} - E_{out}$**. Energy is transferred only through **work and heat**. The preferred notation for solving problems is the explicit use of $W_{in}$, $W_{out}$, $Q_{in}$, and $Q_{out}$.

---
### LECTURE SUBTOPIC: Mechanisms of energy transfer to or from a closed system
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2b-6.0 (Time: 16:40 - 17:07)
**Content Summary:**
This short section defines a **closed system** as one with **no mass transfer**, which is the context for the energy balance equations previously discussed.

---
### LECTURE SUBTOPIC: Isochoric cooling example
**Source:** Energy, Energy Transfer, and General Energy Analysis (Outline)
**Video Key:** Fa25-L2b-7.0 (Time: 17:08 - 28:49)
**Content Summary:**
An example of **isochoric (constant volume) cooling** of **air** in a **rigid, impermeable container** is solved. The goal is to determine the final temperature ($T_2$) and the heat transferred out ($Q_{out}$). The First Law simplifies to $\Delta U = -Q_{out}$ because for an **isochoric process, work is zero** ($W_{in} = W_{out} = 0$). For an ideal gas, the **change in internal energy ($\Delta U$) depends only on temperature**. Using the **specific heat at constant volume ($c_v$)**, the relation is $m c_v (T_2 - T_1) = -Q_{out}$. The **ideal gas equation** ($p v = R T$) is then used to compute the state properties needed to find $T_2$ and $Q_{out}$.

---
### PROBLEM: compressorPyCalor
**Source:** Jupyter Notebook (compressorPyCalor.ipynb)
**Topic:** Control Volumes
**Lecture References:** Lecture ID: 1_hb7swztw, Key: Fa25-L5b-3.0 (Example: Energy Analysis of a Steady-flow System: Compressor)
**Book Reference:** Book Ch. 5: Mass and Energy Analysis of Control Volumes

#### Problem Statement and Analysis:
## 1. Problem Statement
Air enters a compressor with a mass flow rate of 0.02 kg/s at 100 kPa and 290 K and exits the compressor at 600 kPa and 500 K. The compressor is cooled with 1 kJ/kg. 

**Goal**: 
* Determine the shaft power input.

---

## 2. Schematic
Draw a compressor with a control volume drawn around it. Indicate that power is transferred in from a shaft and heat is transferred out.

---

## 3. Assumptions and Approximations
* **Control Volume** (mass crosses the boundary).
* **Ideal Gas Model** (Justification: Air at these conditions behaves as an ideal gas, $p v = R T$)
* **Neglect changes in kinetic and potential energy** ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Steady-flow process** ($\Delta~m_\text{CV}=0$, $\Delta~E_\text{CV}= 0$, $\Delta~S_\text{CV}=0$).
* **Properties**: Determine properties using `pyCalor`. 
* **Enthalpy/Internal Energy Change**: Changes in enthalpy can be determined via $dh = c_p dT$. (This is a consequence of the ideal gas model.)
* **Constant Specific Heats** ($c_p$, $c_v=\text{const}$). (Justification: The specific heat property changes are negligible over the process temperature range, simplifying the calculation of $\Delta h$ to $c_p~\Delta T$.
* We have a single inlet and outlet ($\dot{m}_\text{in}$ and $\dot{m}_\text{out}$).

---

## 4. Physical Laws and Governing Equations
1.  **First Law of Thermodynamics (Energy Balance for Control Volume):**
    $$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

2.  **Conservation of Mass (Mass Balance for a Control Volume):**
    $$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Since this is a steady flow process, we can write:
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}$$

We can then write for a compressor:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1+\frac{w_1^2}{2}+gz_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2+\frac{w_1^2}{2}+gz_2\right)$$

Neglecting changes in kinetic and potential energy:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}h_1=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}h_2$$

Since the compressor operates isentropically, we can assume that it is adiabatic:
$$\dot{W}_\text{in}+\dot{m}h_1=\dot{W}_\text{out}+\dot{m}h_2$$

There is only work transferred into the compressor, not out. Therefore:
$$\dot{W}_\text{in}=\dot{m}\left(h_2-h_1\right)$$

Assuming air behaves as an ideal gas, we can write:
$$\dot{W}_\text{in}\approx\dot{m}c_p\left(T_2-T_1\right)$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor
from pyCalor import thermo as th

#For the properties, I am using the notation "in" and "out" as well as "1" and "2", where "in" is also "1" and "out" is also "2"

fluid = 'Air'

mdot_kgperS = 0.02 #kg/s

# state 1
P1_Pa = 100e3 #Pa
T1_K = 290 #K
st1 = th.state(fluid,T=(T1_K,'K'),p=(P1_Pa,'Pa'),name='1')
h1_JperKg = st1.h*1e3
cp_kJperKgPerK = st1.cp

# state 2
P2_Pa = 600e3 #Pa
T2_K = 500 #K
st2 = th.state(fluid,T=(T2_K,'K'),p=(P2_Pa,'Pa'),name='2')
h2_JperKg = st2.h*1e3

qout_JperKg = 1e3 #J/kg
```
```python
## 6 Calculations (Code Cell)
pr = th.process([(st1,st2)])
pr.plot('pv')
QdotOut_JperS = qout_JperKg*mdot_kgperS #J/s
WdotIn_JperS = QdotOut_JperS + mdot_kgperS*(h2_JperKg-h1_JperKg); print("WdotIn_JperS=",WdotIn_JperS) #J/s

### Alternative solution
WdotIn_JperS_alt = QdotOut_JperS + mdot_kgperS*(cp_kJperKgPerK*1e3)*(T2_K-T1_K); print("WdotIn_JperS_alt=",WdotIn_JperS_alt) #J/s
error = ((WdotIn_JperS - WdotIn_JperS_alt)/WdotIn_JperS)*100; print("error=",error)
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We see that the ideal gas assumption is a good one since the error for determining the power input is less than 1% compared to using thermodynamic properties (pyCalor).

---
### PROBLEM: vanDerWaalsPlot
**Source:** Jupyter Notebook (vanDerWaalsPlot.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_blyiho9t, Key: Fa25-L3b-6.0 (van der Waals equation of state)
**Book Reference:** Book Ch. 3: Properties of Pure Substances

#### Problem Statement and Analysis:
## 1. Problem Statement
**Goal**: Plot the isotherms at the critical point of water using `pyCalor`, the van der Waals equation of state, and the ideal gas equation.

---

## 2. Schematic
No schematic

---

## 3. Assumptions and Approximations
* **State Postulate** The state postulate allows a finite number of properties to be specified in order to fully describe a state of thermodynamic equilibrium.
* **Pure Substance** We only need two independent variables to determine the state.

---

## 4. Physical Laws and Governing Equations
The ideal gas equation for water can be written as:

$$p=RT/v$$ 

where $R$ is the mass specific gas constant. 

The van der Waals equation is defined as:
$$\left(p+\frac{a}{v^2}\right)\left(v-b\right)=RT$$

where $p$ is pressure, $v$ is specific volume, $R$ is the specific gas constant, $T$ is temperature, and $a$ and $b$ are constants. We can write this as:

$$p=(RT_\text{cr}-(a/v^2)v+ab/v^2)/(v-b)$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor
from pyCalor import thermo as th
import numpy as np
import matplotlib.pyplot as plt

# critical point of water
Tc_K = 647.096 # K
pc_Pa = 22.060e6 # Pa

# triple point of water
Ttp_K = 273.16 # K
ptp_Pa = 611.6 # Pa

# critical state of water
stcritical = th.state('Water', p=pc_Pa/1e3, T=Tc_K, name="1")
```
```python
# 6. Calculations (Code Cell)
plt.figure()
plt.clf()

plt.xscale("log")
# plot the saturated liquid and saturated vapor lines
P = np.linspace(700/1e6, 22.063, 1000) # range of pressures
vvap = [s.v for s in [th.state('Water', x=1, p=p*1e3) for p in P]]
vliq = [s.v for s in [th.state('Water', x=0, p=p*1e3) for p in P]]
plt.plot(vvap, P, 'k-')
plt.plot(vliq, P, 'k-')

# plot the isotherm for the critical temperature using pyCalor
P_ = np.linspace(ptp_Pa/1e6, 30, 1000) # range of pressures, MPa
st = [th.state('Water', p=(p*1e3,'kPa'), T=(Tc_K,'K')) for p in P_]
v = [s.v for s in st]
plt.xscale("log")
plt.plot(v, P_, 'b--')

# plot the isotherm for the critical temperature using van der Waals
R_JperKgPerK = 461.5
a = (27 * (R_JperKgPerK**2) * (Tc_K**2))/(64 * pc_Pa)
b = (R_JperKgPerK* Tc_K)/(8 * pc_Pa)
v_ = np.linspace(0.35e-2, 1, 5000)
# van der Waals equation of state:
# p*v - p*b + (a/v**2)*v - a*b/v**2 = R*T
p_  = (R_JperKgPerK*Tc_K - (a/v_**2)*v_ + a*b/v_**2)/(v_ - b)
plt.plot(v_, p_/1e6, 'r--')

# plot the isotherm for the critical temperature using the ideal gas equation
p_IG = (R_JperKgPerK*Tc_K)/v_
plt.plot(v_, p_IG/1e6, 'k--')

# axes
ax = plt.gca()
xmin = 0.8e-3
xmax = 1
ax.set_xlim([xmin, xmax])
ymin = 0
ymax = 25
ax.set_ylim([ymin, ymax])
ax.set_xlabel('$v$ (m$^3$/kg)')
ax.set_ylabel('$p$ (MPa)')

# plt.savefig('pycalor-vdW-p-v-diagram.pdf')
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We were able to plot critical temperature isotherms for water using `pyCalor`, the van der Waals equation of state, and the ideal gas equation. What we see is that for high values of specific volume, all three isotherms overlap, indicating that they are all valid. However, for lower specific volumes, below 0.1 m$^3$/kg the ideal gas equation significantly deviates from the other two isotherms, indicating that it is no longer valid.

---
### PROBLEM: nitrogenHeatingWorkTransfer
**Source:** Jupyter Notebook (nitrogenHeatingWorkTransfer.ipynb)
**Topic:** Closed Systems
**Lecture References:** Lecture ID: 1_3375c5yj, Key: Fa25-L4c-2.0 (Electrical heating and cooling of a cylinder containing nitrogen at constant pressure)
**Book Reference:** Book Ch. 4: Energy Analysis of Closed Systems

#### Problem Statement and Analysis:
## 1. Problem Statement
A piston cylinder contains nitrogen initially at 400 kPa, 27$^\circ$C, and 0.5 m$^3$. The piston contains a resistor. The pressure in the piston is kept constant while 120 V is applied to the resistor resulting in 2 A flowing thorugh it for 5 min. The piston is also cooled, transferring 2800 J out. 

**Goal**: 
* Determine the final temperature, $T_2$.

---

## 2. Schematic
Draw a schematic of a piston cylinder. Show that electrical work is transferred into the piston and heat is transferred out of it. The fluid in the piston cylinder is nitrogen.

---

## 3. Assumptions and Approximations
* **Closed system** (no mass in or out).
* **Properties** We can use `pyCalor` to determine properties. 
* **Ideal Gas Model** (Justification: Air at these conditions behaves as an ideal gas, $p v = R T$)
* **Quasi-equilibrium process** 
* **Neglect changes in kinetic and potential energy**: $\Delta KE\approx0$, $\Delta PE\approx0$. (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Boundary work** is transferred through expansion ($p dV$).
* **Other Work** is transferred in through electricity.
* **Constant Specific Heats** ($c_p$, $c_v=\text{const}$). (Justification: The specific heat property changes are negligible over the process temperature range, simplifying the calculation of $\Delta h$ to $c_p\Delta T$.

---

## 4. Physical Laws and Governing Equations
- Conservation of energy
- Ideal gas law

Conservation of energy: 
$$\DeltaE_\text{CV}=E_\text{in}-E_\text{out}$$

$$\DeltaU+\DeltaKE+\DeltaPE=(W_\text{in}+Q_\text{in})-(W_\text{out}+Q_\text{out})$$

Neglect changes in kinetic and potential energy:
$$\DeltaU=(W_\text{in})-(W_\text{out}+Q_\text{out})$$

$$W_\text{out}=p_1(V_2-V_1)$$

$$W_\text{out}=p_1m(v_2-v_1)$$

$$W_\text{in}=\text{V}I\Deltat$$

Combining yields:

$$m(u_2-u_1)=\text{V}I\Deltat-p_1m(v_2-v_1)-Q_\text{out}$$

Rearranging:

$$m\left[\left(u_2+p_1v_2\right)-\left(u_1+p_1v_1\right)\right]=\text{V}I\Deltat-Q_\text{out}$$

Since $p_2 = p_1$, we have:

$$m\left[\left(u_2+p_2v_2\right)-\left(u_1+p_1v_1\right)\right]=\text{V}I\Deltat-Q_\text{out}$$

The definition of enthalpy is:

$$h=u+pv$$

Therefore,

$$m\left[h_2-h_1\right]=\text{V}I\Deltat-Q_\text{out}$$

$$h_2=\text{V}I\Deltat/m-Q_\text{out}/m+h_1$$

## Alternative solution

Picking up where we left off with our equation for enthalpy:

$$h_2=h_1+(\text{V}It-Q_\text{out})/m$$

Recall that we can define changes in enthalpy as:

$$dh=c_pdT$$

Therefore, for constant specific heats:

$$h_2-h_1=c_p(T_2-T_1)$$

Substituting yields:

$$T_2=T_1+(\text{V}It-Q_\text{out})/(c_pm)$$

From the textbook we can determine the specific heat, $c_p$, or we can use pyCalor.

#### Solution Code:
```python
# 5. Properties (Code Cell)
!pip install pyCalor numpy matplotlib
from pyCalor import thermo as th

R_JperKgPerK = 296.8
V1_m3 = 0.5
p1_Pa = 400e3
T1_K = 27+273.15
substance = 'nitrogen'

# determine state 1 using pyCalor
st1 = th.state(substance,T=(T1_K,'K'),p=(400,'kpa'),name='1')
h1_JperKg = st1.h*1e3

# determine the mass in the piston using the ideal gas law
m_kg = (p1_Pa*V1_m3)/(R_JperKgPerK*T1_K); print(m_kg)

Qout_J = 2800
Volt_V = 120
I_A = 2
t_s = 5*60
```
```python
# 6 Calculations (Code Cell)

Win_J = Volt_V*I_A*t_s

h2_JperKg = h1_JperKg + ((Win_J - Qout_J)/m_kg)
h2_kJperKg = h2_JperKg/1e3

# by knowing h2, we can determine state 2 using pyCalor
st2 = th.state(substance,p=(p1_Pa/1e3,'kpa'),h=h2_kJperKg,name='2')

# final answer, T2
T2_C = st2.T-273.15
print('T2_C = {0:1.3f} C.'.format(T2_C))

# alternative solution
cp_N2_JperKgPerK = 1.039*1e3

T2_K_ = T1_K + ((Win_J - Qout_J)/(cp_N2_JperKgPerK*m_kg))

print('Alternative: T2_C = {0:1.3f} C.'.format(T2_K_-273.15))

error = (T2_K_ - st2.T)/st2.T; 

print('Error of alternative solution = {0:1.3f}%'.format(error*100))
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We see that the values for $T_2$ are the same for two different approaches. The assumption of constant specific heat values appears to be a good one.

---
### PROBLEM: workMovingBoundary
**Source:** Jupyter Notebook (workMovingBoundary.ipynb)
**Topic:** Closed Systems
**Lecture References:** Lecture ID: 1_fclugwz7, Key: Fa25-L4a-4.0 (Moving boundary polytropic processes)
**Book Reference:** Book Ch. 4: Energy Analysis of Closed Systems

#### Problem Statement and Analysis:
## 1. Problem Statement
**Goal**: 
* Define formulas for the boundary work done by the expansion of an ideal gas in a piston cylinder device for isothermal and isobaric processes
* Create plots of pressure vs. volume for isothermal and isobaric expansion processes.
* Compare the boundary work done by isothermal and isobaric expansion processes assuming the same initial state and the same final volume.

---

## 2. Schematic
Show a piston expanding some distance. The control volume should be drawn inside of the piston cylinder.Heat should be transferred in. Work should be shown to be transferred out.

---

## 3. Assumptions and Approximations

* **Closed system** (no mass in or out).
* **Neglect changes in kinetic and potential energy**: $\Delta KE\approx0$, $\Delta PE\approx0$. (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Heat** is transferred in.
* **Boundary work** is transferred out through expansion ($p dV$).
* **Ideal Gas Model** (Justification: Air at these conditions behaves as an ideal gas, $p v = R T$)

---

## 4. Physical Laws and Governing Equations
### Moving Boundary Work

$$\deltaW_\text{b}=F\deltas$$

If the piston is moved in a quasi-equilibrium manner, then:

$$\deltaW_\text{b}=Fds$$

$$\deltaW_\text{b}=pAds=pdV$$

Integrating:

$$W_\text{b}=\int_1^2pdV\text{=[J]}\tag{1}$$

We can only evaluate this integral if we know the relationship between $p$ and $V$.

We need to know:

$$p=f(V)$$

### Pressure-Volume relationships: Polytropic

In a polytropic process, we have:

$$pV^n=\text{const.}$$

From equation (1), we can then write:

$$W_\text{b}=C\int_1^2\frac{1}{V^n}dV\tag{2}$$

where, if we know the conditions at state 1, we have:

$$C=p_1V_1^n$$

If $n = 1$, as is this case for an isothermal process, we have:

$$W_\text{b}=p_1V_1\ln\frac{V_2}{V_1}$$

If $n = 0$, as is this case for an isobaric process, we have:

$$W_\text{b}=p_1\left(V_2-V_1\right)$$

### Comments
$n=1$ for an isothermal process for an ideal gas because:

$$pV=mRT$$

If $T = \text{const}$, then $m R T = \text{const}$.

We can also show that the boundary work for an isobaric process is:
$$W_\text{b}=\int_1^2pdV=p\int_1^2dV=p(V_2-V_1)$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
import matplotlib.pyplot as plt
import numpy as np

initial_pressure = 100e3 # Pa
initial_volume = 1     # m^3
polytropic_index_isothermal = 1 # n = 1 for an isothermal process
polytropic_index_isobaric = 0 # n = 0 for an isobaric process
final_volume = 5       # m^3
```
```python
# 6 Calculations (Code Cell)
# Define a function for a polytropic process
# We will use this here to analyze an isothermal expansion process
def plot_polytropic_process(P1, V1, n, V_final, num_points=100):
    """
    Generates and plots a polytropic process.

    Args:
        P1 (float): Initial pressure.
        V1 (float): Initial volume.
        n (float): Polytropic index.
        V_final (float): Final volume for the process.
        num_points (int): Number of points to generate for the plot.
    """

    # Calculate the constant C
    C = P1 * (V1**n)

    # Generate a range of volumes
    volumes = np.linspace(min(V1, V_final), max(V1, V_final), num_points)

    # Calculate corresponding pressures using the polytropic relation
    pressures = C / (volumes**n)

    # Plotting
    plt.figure(figsize=(8, 6))
    plt.plot(volumes, pressures, 'b-', linewidth=2)
    plt.xlabel('Volume (m^3)')
    plt.ylabel('Pressure (Pa)')
    plt.show()

# Analyze an isothermal process
plot_polytropic_process(initial_pressure, initial_volume, polytropic_index_isothermal, final_volume)
plot_polytropic_process(initial_pressure, initial_volume, polytropic_index_isobaric, final_volume)

# Determine work transferred
W_OutIsothermal_J = initial_pressure*initial_volume*np.log(final_volume/initial_volume)
W_OutIsobaric_J = initial_pressure*(final_volume-initial_volume)

print(f"Isothermal: W_out={W_OutIsothermal_J:.2f} J")
print(f"Isobaric: W_out={W_OutIsobaric_J:.2f} J")
```

#### Final Summary / Reasoning:
## Reasoning
### For the isothermal expansion
We see that as the volume increases, the pressure decreases as $1/V$, which is what we would expect from the ideal gas law. We also see from this that we are able to relate pressure to volume for this process. That means we will be able to determine the boundary work done for such a process. This will be useful when we start to analyze cycles, such as the Carnot cycle, which has isothermal expansion and compression processes. We also see that the boundary work done in expansion is positive, which is what we expected. 

### For the isobaric expansion
We see that the work transferred out for the isobaric expansion process is larger than the isothermal, which is what we would expect since the area under the pressure-volume curve is higher for the isobaric vs. the isothermal.

---
### PROBLEM: compressionProcess
**Source:** Jupyter Notebook (compressionProcess.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_0uijb1pt, Key: Fa25-L2a-9.0 (Energy transfer by work to a closed system)
**Book Reference:** Book Ch. 2: Energy, Energy Transfer, and General Energy Analysis

#### Problem Statement and Analysis:
## 1. Problem Statement
A piston compresses a gas inside of a piston-cylinder device. Consider three different processes: isothermal, isobaric, and adiabatic. Create a plot of pressure vs. volume for these three different compression processes.

---

## 2. Schematic
Draw a piston-cylinder device with a boundary inside of it. Indicate that work is being transferred into the system. For the isothermal and isobaric processes indicate that heat is being transferred out. For the adiabatic case indicate that there is no heat transfer in or out.

---

## 3. Assumptions and Approximations
* **Ideal Gas Model** (Justification: Air at these conditions behaves as an ideal gas, $p v = R T$)
* **Quasi-equilibrium process** This is a necessary assumption if we are going to relate changes in properties to path functions like work, $W$.
* **Neglect changes in kinetic and potential energy**: $\Delta KE\approx0$, $\Delta PE\approx0$. (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Boundary work** is transferred through expansion ($p dV$).
* **Closed system** (no mass in or out).
* **Constant Specific Heats** ($c_p$, $c_v=\text{const}$). (Justification: The specific heat property changes are negligible over the process temperature range, simplifying the calculation of $\Delta~h$ to $c_p~\Delta~T$.

---

## 3. Physical Laws and Governing Equations

### Process: Compress Gas

Reversible process:

Consider a piston whose piston head area is, $S$. The piston head is displaced, compressing the gas inside of it. That gas inside is at a pressure, $p$. 

The force applied to the piston head is:

$$F=pS$$

If we shift the piston a distance, $dh$, an amount of work $dW$ is done:

$$dW=pSdh$$

$$W=\int_A^B~pdV$$

Let's analyze the isothermal compression of an ideal gas in a piston. 

$$dU=\delta~Q-\delta~W$$

$$W=\int_A^B~pdV$$

We know from the ideal gas law that:

$$pV=mRT$$

which we can re-write as:

$$p=\frac{mRT}{V}$$

Therefore, we have:

$$W=\int_A^B~\frac{mRT}{V}dV$$

Since $T$ is constant and it is a closed system (no mass transfer), we have:

$$W=mRT~\int_A^B~\frac{1}{V}dV$$

$$W=mRT~\ln~\frac{V_A}{V_B}$$

#### Solution Code:
```python
## 4. 💻 Code Block: Initial Setup and Properties (Code Cell)

import matplotlib.pyplot as plt
import numpy as np

# n = number of moles, R = ideal gas constant (J/(mol*K)), T = temperature (K)
n = 1.0
R = 8.314
T_initial = 300  # Initial temperature in Kelvin
k = 1.4      # Adiabatic index for a diatomic ideal gas

# Define the initial and final volumes for the processes
V_initial = 5.0  # Initial volume in m^3
V_final = 1.0    # Final volume in m^3

## 5. Properties (Code Cell)
# Define a common initial pressure
P_initial = (n * R * T_initial) / V_initial

# Define the range of volumes for the plot
V = np.linspace(V_initial, V_final, 100)

# 6 Calculations (Code Cell)
# 1. Isobaric Process (Constant Pressure)
p_isobaric = np.full_like(V, P_initial)
P_final_isobaric = P_initial

# 2. Isothermal Process (Constant Temperature)
constant_isothermal = P_initial * V_initial
p_isothermal = constant_isothermal / V
P_final_isothermal = constant_isothermal / V_final

# 3. Adiabatic Process (No Heat Transfer)
constant_adiabatic = P_initial * (V_initial**k)
p_adiabatic = constant_adiabatic / (V**k)
P_final_adiabatic = constant_adiabatic / (V_final**k)

# Plotting
plt.figure(figsize=(10, 8))
plt.plot(V, p_isobaric, label='Isobaric ($p=$ constant)', color='blue', linewidth=2)
plt.plot(V, p_isothermal, label='Isothermal ($pV=$ constant)', color='red', linewidth=2)
plt.plot(V, p_adiabatic, label='Adiabatic ($pV^{\k}=$ constant)', color='green', linewidth=2)

# Add a marker for the initial state "A"
plt.plot(V_initial, P_initial, 'o', color='black', markersize=8)
plt.annotate('A', xy=(V_initial, P_initial), xytext=(5, 5), textcoords='offset points', ha='center', fontsize=12)

# Add markers and labels for the final states "B"
plt.plot(V_final, P_final_isobaric, 'o', color='black', markersize=8)
plt.annotate('B_isobaric', xy=(V_final, P_final_isobaric), xytext=(5, 5), textcoords='offset points', ha='center', fontsize=12)

plt.plot(V_final, P_final_isothermal, 'o', color='black', markersize=8)
plt.annotate('B_isothermal', xy=(V_final, P_final_isothermal), xytext=(5, 5), textcoords='offset points', ha='center', fontsize=12)

plt.plot(V_final, P_final_adiabatic, 'o', color='black', markersize=8)
plt.annotate('B_adiabatic', xy=(V_final, P_final_adiabatic), xytext=(5, 5), textcoords='offset points', ha='center', fontsize=12)

# Add labels and title
plt.xlabel('Volume ($V$)', fontsize=14)
plt.ylabel('Pressure ($p$)', fontsize=14)
plt.title('P-V Diagram for a Compression Process', fontsize=16)

# Add grid and legend
plt.grid(True)
plt.legend(fontsize=12)

# Set axis limits
plt.xlim(0, V_initial * 1.1)
max_p = max(P_final_adiabatic, P_final_isothermal, P_final_isobaric)
plt.ylim(0, max_p * 1.1)

# Show the plot
# plt.savefig('p-V-compression.png')
plt.show()
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
If the state of the system can be represented on a $(p,V)$ diagram, the work performed during a transformation has a simple geometric representation. 

Transformations which are especially important are those for which the initial and final states are the same. these are called cyclical transformations or cycles. A cycle, therefore is a transformation which brings the system back to its initial state. If the state of the system can be represented on a volume pressure diagram then a cycle can be represented on this diagram by a closed curve, such as the curve, 1234.

---
### PROBLEM: nitrogenInternalEnergyPressureVolumePlot
**Source:** Jupyter Notebook (nitrogenInternalEnergyPressureVolumePlot.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_r5zqwxag, Key: Fa25-L1b-8.0 (Determining the properties of nitrogen)
**Book Reference:** Book Ch. 3: Properties of Pure Substances

#### Problem Statement and Analysis:
## 1. Problem Statement
We know that with two independent properties of a pure substance, we can determine a third dependent property. Show that there are additional properties at that same state, which are defined by the derivatives of the surface at that point.

---

## 2. Schematic
Consider a pure substance.

---

## 3. Assumptions and Approximations
* **State Postulate** The state postulate allows a finite number of properties to be specified in order to fully describe a state of thermodynamic equilibrium.

---

## 4. Physical Laws and Governing Equations
It can be shown that for a pure substance, that the internal energy only depends upon:

$$U=(S,V)$$

where $S$ is entropy and $V$ is volume. These are both extensive properties. We can write the full differential as:

$$dU=\left(\frac{\partialU}{\partialV}\right)_SdV+\left(\frac{\partialU}{\partialS}\right)_VdS$$

These partial derivatives are then the corresponding intensive properties to the extensive properties:

$$\left(\frac{\partialU}{\partialV}\right)_S=-p$$

$$\left(\frac{\partialU}{\partialS}\right)_V=T$$

What we need then is to define the internal energy as a function of $S$ and $V$, define a point on the $U(S,V)$ surface, and take the derivatives at that point.

#### Solution Code:
```python
# 5. Properties (Code Cell)
!pip install pyCalor numpy matplotlib
from pyCalor import thermo as th

import numpy as np
import matplotlib.pyplot as plt

substance = "Nitrogen"

T1_K = 200
T2_K = 1000

p1_Pa = 1000

## 5. Properties (Code Cell)

st1 = th.state(substance, T=T1_K, p=p1_Pa/1000, name="1")
st2 = th.state(substance, T=T2_K, p=p1_Pa/1000, name="2")

S12 = np.linspace(st1.s-.8, st2.s)
```
```python
# 6 Calculations (Code Cell)
U12 = [st.u for st in [th.state(substance, v=st1.v, s=s) for s in S12]]
plt.plot(S12,U12, 'k-', lw=2)
b = st1.u - st1.T*st1.s
S1_ = np.linspace(st1.s-1, st1.s+1)
U_T = st1.T*S1_ + b
plt.plot(S1_,U_T, 'r--', lw=1)
plt.plot(st1.s,st1.u,marker='x',markersize=10,markerfacecolor='blue', markeredgecolor='blue', )

# y = m*x + b
# m = 1680
# b = y - m*x

plt.xlabel('s (kJ/(kg K))')
plt.ylabel('u (kJ/kg)')
# plt.savefig('u-s_const_v.png')
```
```python
# 6 Calculations continued (Code Cell)

v12 = np.linspace(st2.v, st1.v-20)
U12_ = [st.u for st in [th.state(substance, v=v, s=st1.s) for v in v12]]
plt.plot(v12,U12_, 'k-', lw=2)

plt.plot(st1.v,st1.u,marker='x',markersize=10,markerfacecolor='blue', markeredgecolor='blue', )

b_ = st1.u + (st1.p)*st1.v

V1_ = np.linspace(st1.v-25, st1.v+25)
U_p = -st1.p*V1_ + b_
plt.plot(V1_,U_p, 'r--', lw=1)

plt.xlabel('v (m^3/kg)')
plt.ylabel('u (kJ/kg)')
# plt.savefig('u-v_const_s.png')
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
Here we see that $p = -\left(\frac{\partial U}{\partial V} \right)_S$ and $T = \left(\frac{\partial U}{\partial S} \right)_V$ demonstrating that we know more than just specific internal energy, $U$, by knowing specific volume, $V$, and specific entropy, $S$.

---
### PROBLEM: vanDerWaalsEquationOfState
**Source:** Jupyter Notebook (vanDerWaalsEquationOfState.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_blyiho9t, Key: Fa25-L3b-5.0 (van der Waals equation of state)
**Book Reference:** Book Ch. 3: Properties of Pure Substances

#### Problem Statement and Analysis:
## 1. Problem Statement
The van der Waals equation is defined as:
$$\left(p+\frac{a}{v^2}\right)\left(v-b\right)=RT$$

where $p$ is pressure, $v$ is specific volume, $R$ is the specific gas constant, $T$ is temperature, and $a$ and $b$ are constants. 

**Goal**: 
- Plot the critical point on a pressure-specific volume diagram.
- Determine $a$ and $b$ for water given its critical temperature, $T_\text{cr}$ and critical pressure, $p_\text{cr}$.

---

## 2. Schematic
No schematic

---

## 3. Assumptions and Approximations
* **State Postulate** The state postulate allows a finite number of properties to be specified in order to fully describe a state of thermodynamic equilibrium.
* **Pure Substance** We only need two independent variables to determine the state.

---

## 4. Physical Laws and Governing Equations

van der Waals equation of state:
$$\left(p+\frac{a}{v^2}\right)\left(v-b\right)=RT$$

$$pv+\frac{a}{v}-pb-\frac{ab}{v^2}-RT=0$$

Multiplying both sides by $\frac{v^2}{p}$

$$\frac{v^2}{p}\left(pv+\frac{a}{v}-pb-\frac{ab}{v^2}-RT\right)=0$$

$$\left(v^3+\frac{av}{p}-v^2b-\frac{ab}{p}-\frac{RTv^2}{p}\right)=0$$

We can re-arrange as powers of $v$.

$$v^3-\left[b+\frac{RT}{p}\right]v^2+\left[\frac{a}{p}\right]v-\left[\frac{ab}{p}\right]=0$$

This is a cubic equation with three solutions. At the critical point all of these solutions of $v$ are equal to $v_\text{cr}$. Also note that is $T$ becomes large, we recover the ideal gas equation.

Setting specific volume equal to the critical specific volume:

$$v=v_\text{cr}$$

$$v-v_\text{cr}=0$$

$$\left(v-v_\text{cr}\right)^3=0$$

Expanding this formula we have:

$$v^3-\left[3v_\text{cr}\right]v^2+\left[3v_\text{cr}^2\right]v-\left[v_\text{cr}^3\right]=0$$

This equation is the same form as the van der Waals equation. Therefore we can set the coefficients equal to each other:

$$3v_\text{cr}=b+\frac{RT_\text{cr}}{p_\text{cr}}\tag{1}$$ 

$$3v^2_\text{cr}=\frac{a}{p_\text{cr}}\tag{2}$$

$$v^3_\text{cr}=\frac{ab}{p_\text{cr}}\tag{3}$$

We can divide equation (3) by equation (2), resulting in:

$$(1/3)v_\text{cr}=b\impliesv_\text{cr}=3b\tag{4}$$

Substituting equation (4) into equation (2), yields:

$$3(3b)^2=\frac{a}{p_\text{cr}}\impliesp_\text{cr}=\frac{a}{27b^2}\tag{5}$$

Substituting equation (5) into equation (1) yields:

$$9b=b+\frac{RT_\text{cr}}{\frac{a}{27b^2}}$$ 

$$8b=\frac{27b^2RT_\text{cr}}{a}$$ 

$$T_\text{cr}=\frac{8a}{27bR}\tag{6}$$ 

From equation (4) we have:

$$b=\frac{v_\text{cr}}{3}\tag{7}$$

From equations (5) and (7) we have:

$$p_\text{cr}=\frac{a}{27\left(\frac{v_\text{cr}}{3}\right)^2}$$

$$\impliesa=3p_\text{cr}v_\text{cr}^2\tag{8}$$

Alternatively we can write:

$$T_\text{cr}=\frac{8ab}{27b^2R}$$

$$T_\text{cr}=\frac{a}{27b^2}\frac{8b}{R}$$

$$T_\text{cr}=p_\text{cr}\frac{8b}{R}$$

$$\impliesb=\frac{RT_\text{cr}}{8p_\text{cr}}$$

We can also write:
$$b=\frac{v_\text{cr}}{3}=\frac{RT_\text{cr}}{8p_\text{cr}}$$

$$\impliesv_\text{cr}=\frac{3RT_\text{cr}}{8p_\text{cr}}$$ 

From equation (8) we can write:

$$a=\frac{27R^2T_\text{cr}^2}{64p_\text{cr}}$$

We have now defined the coefficients $a$ and $b$ as a function of the critical temperature and pressure:

$$a=\frac{27R^2T_\text{cr}^2}{64p_\text{cr}}$$

$$b=\frac{v_\text{cr}}{3}=\frac{RT_\text{cr}}{8p_\text{cr}}$$

#### Solution Code:
```python
# 5. Properties (Code Cell)
# critical temperature and pressure can be found as
Tcr_K = 647.3
pcr_kPa = 22.09e3
```
```python
# 6 Calculations (Code Cell)
!pip install pyCalor numpy matplotlib

from pyCalor import thermo as th
# determine the critical state using pyCalor
st1 = th.state('water', T=Tcr_K, p=pcr_kPa, name="1")

# plot the critical point on a pressure-specific volume diagram
st1.plot("pv")
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We were able to plot the critical point of water on the pressure-specific volume diagram. It should be at the point where the lines of saturated liquid and vapor meet, which it is. By knowing $a$ and $b$ we can also plot the isotherm from the van der Waals equation of state and compare it with the isotherm produced by `pyCalor`.

---
### PROBLEM: adiabaticExpansion
**Source:** Jupyter Notebook (adiabaticExpansion.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_fclugwz7, Key: Fa25-L4a-5.0 (Moving boundary work: Adiabatic process)
**Book Reference:** Book Ch. 4: Energy Analysis of Closed Systems

#### Problem Statement and Analysis:
## 1. Problem Statement
**Goal**: Show that for an ideal gas in a closed system undergoing adiabatic expansion, that $ p V^\kappa = \text{const} $.

---

## 2. Schematic
Show a piston expanding some distance. The control volume should be drawn inside of the piston cylinder. No heat should be transferred in or out. Work should be shown to be transferred out.

---

## 3. Assumptions and Approximations
* **Ideal Gas Model** (Justification: Air at these conditions behaves as an ideal gas, $p v = R T$)
* **Adiabatic process** ($Q_\text{in}=Q_\text{out}=0$). (Justification: The problem states it.)
* **Neglect changes in kinetic and potential energy** ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The system is stationary, and there are no significant changes in elevation or velocity.)
* **Work transfer** Work is transferred only through boundary work ($p dV$).
* **Constant Specific Heats** ($c_p$, $c_v=\text{const}$). (Justification: The specific heat property changes are negligible over the process temperature range, simplifying the calculation of $\Delta h$ to $c_p~\Delta T$.

---

## 4. Physical Laws and Governing Equations
* Conservation of energy
* Definition of specific heat and its relation to changes in internal energy

$$\DeltaE_\text{CV}=E_\text{in}-E_\text{out}$$

$$\DeltaU+\DeltaKE+\DeltaPE=(W_\text{in}+Q_\text{in})-(W_\text{out}+Q_\text{out})$$

$$\DeltaU=-W_\text{out}$$

$$\DeltaU=-W_\text{out}$$

We can write this in differential form:

$$dU=-\deltaW_\text{out}$$

$$dU=-pdV\tag{1}$$

Recall the definition of $c_V$:

$$c_V=\left(\frac{\partialu}{\partialT}\right)_V$$

That is, if we transfer heat to a control volume, and if the volume is kept constant, then changes in internal energy can be related to changes in temperature through a constant. 

$$\impliesdu=c_VdT\tag{2}$$

Combining equations (1) and (2), and including the mass of the gas in the piston, $m$, we have:

$$mdu=mc_VdT=-pdV\tag{3}$$

We would like to replace temperature with $p$ and $V$. For this we can use the ideal gas law:

$$pV=mRT\tag{4}$$

Taking the differential:

$$d\left(pV\right)=mRdT$$

$$Vdp+pdV=mRdT$$

Rearranging:

$$dT=\frac{Vdp+pdV}{mR}\tag{5}$$

Combining equations (5) and (3), we have:

$$mc_V\left(\frac{Vdp+pdV}{mR}\right)=-pdV$$

Simplifying:

$$c_V\left(Vdp+pdV\right)=-RpdV$$

$$c_VVdp+c_VpdV+RpdV=0$$

$$(c_V+R)pdV+c_VVdp=0$$

$$\frac{(c_V+R)}{c_V}\frac{dV}{V}+\frac{dp}{p}=0$$

$$\frac{(c_V+R)}{c_V}\int\frac{dV}{V}+\int\frac{dp}{p}=0$$

$$\frac{(c_V+R)}{c_V}\lnV+\lnp=\text{const}$$

Assuming constant specific heats, we can define a constant:

$$\kappa\equiv\frac{(c_V+R)}{c_V}\tag{7}$$

$$\kappa\lnV+\lnp=\text{const}$$

$$\lnV^\kappa+\lnp=\text{const}$$

$$\lnpV^\kappa=\text{const}$$

$$pV^\kappa=\text{const}\tag{8}$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
# we can determine the specific heat of air at room temperature and pressure conditions
!pip install pyCalor
from pyCalor import thermo as th
import matplotlib.pyplot as plt
import numpy as np

T_C = 20
p_Pa = 101325
substance = 'air'

st = th.state(substance,T=(T_C,'C'),p=(p_Pa,'Pa'))
cp_kJperKgPerK = st.cp
cv_kJperKgPerK = st.cv
R_kJperKgPerK = st.R

k = cp_kJperKgPerK/cv_kJperKgPerK
```
```python
# 6 Calculations (Code Cell)
# 6A. We can see what the process looks like by making some assumptions about the initial and final conditions:
# Define the initial and final volumes for the processes
V_initial = 1.0  # Initial volume in m^3
V_final = 5.0    # Final volume in m^3
# Define initial temperature
T_initial = 500 # K
# Define the initial pressure using the ideal gas law
P_initial = (R_kJperKgPerK*1e3 * T_initial) / V_initial # Pa
# Define the range of volumes for the plot
V = np.linspace(V_initial, V_final, 100)

# 6B. Adiabatic Process (No Heat Transfer)
constant_adiabatic = P_initial * (V_initial**k)
p_adiabatic = constant_adiabatic / (V**k)
P_final_adiabatic = constant_adiabatic / (V_final**k)

# 6C. Plotting
plt.figure(figsize=(10, 8))
plt.plot(V, p_adiabatic, label='Adiabatic ($pV^{\kappa}=$ constant)', color='green', linewidth=2)
# Add a marker for the initial state "A"
plt.plot(V_initial, P_initial, 'o', color='black', markersize=8)
plt.annotate('A', xy=(V_initial, P_initial), xytext=(5, 5), textcoords='offset points', ha='center', fontsize=12)
# Add markers and labels for the final states "B"
plt.plot(V_final, P_final_adiabatic, 'o', color='black', markersize=8)
plt.annotate('B', xy=(V_final, P_final_adiabatic), xytext=(5, 5), textcoords='offset points', ha='center', fontsize=12)
# Add labels and title
plt.xlabel('$V$ (m^3)', fontsize=14)
plt.ylabel('$p$ (Pa)', fontsize=14)
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We were able to prove that $p V^{\kappa} = \text{constant}$ for an adiabatic expansion process. We also see from this that we are able to relate pressure to volume for a process from A to B. That means we will be able to determine the boundary work done for such a process. This will be useful when we start to analyze cycles, such as the Carnot cycle, which has adiabatic expansion and compression processes.

---
### PROBLEM: Water Phase Diagram
**Source:** Jupyter Notebook (waterPhaseDiagram.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_r5zqwxag, Key: Fa25-L1b-10.0 (Thermodynamics: State of a pure substance), Key: Fa25-L1b-12.0 (Thermodynamics: Transformation or Process)
**Book Reference:** Book Ch. 3: Properties of Pure Substances

#### Problem Statement and Analysis:
## 1. Problem Statement

Use the thermodynamic python module, `pyCalor`, to create saturated liquid and vapor lines on a pressure-volume diagram. Also given a temperature, $T_1$, and vapor quality, $x_1$, define a state and plot that point on the pressure-volume diagram.

---

## 2. Schematic
No schematic

---

## 3. Assumptions and Approximations
* **State Postulate** The state postulate allows a finite number of properties to be specified in order to fully describe a state of thermodynamic equilibrium.
* **Pure Substance** We only need two independent variables to determine the state.
* **Properties** We will use pyCalor to determine properties.

---

## 4. Physical Laws and Governing Equations
We cannot use a simple equation of state like the ideal gas law to create such a diagram for water. We have to use thermophysical property databases such as `pyCalor`. The origin of these databases comes from the Helmholtz free energy function for a pure substance (together with its partial derivatives) and can be used to determine all other thermodynamic properties for the substance. See, for example, the equations of state for water, as given by the IAPWS.

#### Solution Code:
```python
# 5. Properties (Code Cell)
!pip install pyCalor numpy matplotlib

# import pyCalor and the thermo class
from pyCalor import thermo as th

# define the properties and substance
T1_C = 50
x1 = 1
T2_C = 1000
substance = 'water'

# use pyCalor to determine state 1
st1 = th.state(substance, T=(T1_C,'C'), x=x1, name="1")

# use pyCalor to determine state 2
st2 = th.state(substance, T=(T2_C,'C'), p=st1.p, name="2")
```
```python
# 6. Calculations (Code Cell)
# use the plot to show state 1 on a "pv" diagram
st1.plot("pv",isoProp="T"); # supported plots are: "pv","Ts","ph"

# we can define a process by defining two states, st1 and st2
pr = th.process([(st1,st2)])

# we can plot such a process in this way
pr.plot('pv');
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
By using `pyCalor` we were able to create pressure-volume diagrams. We were able to define two states and we were able to connect those states through a process. This is very useful, especially when it comes to making cycles.

---
### PROBLEM: isochoricCoolingIdealGas
**Source:** Jupyter Notebook (isochoricCoolingIdealGas.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_h0h8llrr, Key: Fa25-L2b-7.0 (Isochoric cooling example)
**Book Reference:** Book Ch. 2: Energy, Energy Transfer, and General Energy Analysis

#### Problem Statement and Analysis:
## 1. Problem Statement
1 kg of air, treated as an ideal gas, is kept inside a rigid container. The initial pressure and temperature are 100 kPa and 100 deg. C. It is then cooled until it reaches 80 kPa. 

**Goal**
- What is the final temperature?
- How much heat is transferred out?

---

## 2. Schematic
Draw a rigid container that contains an ideal gas. Draw a control volume along the boundary of the container. Show that heat is being transferred out.

---

## 3. Assumptions and Approximations
* **Closed system** (no mass in or out).
* **Neglect changes in kinetic and potential energy**: $\Delta KE\approx0$, $\Delta PE\approx0$. (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Heat** is transferred out.
* **Ideal Gas Model** (Justification: Air at these conditions behaves as an ideal gas, $p v = R T$)
* **Internal Energy Ideal Gas** Internal energy for an ideal gas only depend upon temperature, $U = U(T)$. 
* **Isochoric** $v_2 = v_1$ (Justification: rigid container, closed system)

---

## 4. Physical Laws and Governing Equations
Conservation of energy:
$$\DeltaE_\text{system}=E_\text{in}-E_\text{out}=(W_\text{in}+Q_\text{in})-(W_\text{out}+Q_\text{out})$$

By definition we can write that the changes in the energyof the system only depend on changes in internal energy, kinetic energy, and potential energy. 

$$\DeltaE_\text{system}=\DeltaU+\DeltaKE+\DeltaPE$$

Neglect kinetic and potential energy changes:

$$\DeltaE_\text{system}=\DeltaU$$

$$\DeltaU=U_2-U_1=(Q_\text{in}-Q_\text{out})+(W_\text{in}-W_\text{out})$$

The vessel is cooled at constant volume. Therefore, no work transfer:

$$\DeltaU=(Q_\text{in}-Q_\text{out})$$

Heat is only transferred out:

$$\DeltaU=U_2-U_1=-Q_\text{out}$$

We will show this later, but for an ideal gas, the change in internal energy only depends upon temperature, and the specific heat at constant volume, $c_V$ therefore:

$$dU=mc_VdT$$

Therefore,

$$U_2-U_1=mc_V(T_2-T_1)$$ 

Substituting into above yields:

$$U_2-U_1=-Q_\text{out}=mc_V(T_2-T_1)$$

Rearranging:

$$Q_\text{out}=mc_V(T_1-T_2)$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor numpy
from pyCalor import thermo as th
import matplotlib.pyplot as plt

m_kg = 1
R_JperKgPerK = 287

p1_Pa = 100e3
T1_C = 100

p2_Pa = 80e3
# T2_C = 25

# ideal gas law
v1_m3PerKg = (R_JperKgPerK*(T1_C+273.15))/p1_Pa

# isochoric
v2_m3PerKg = v1_m3PerKg

# ideal gas to determine T2
T2_K = (p2_Pa*v2_m3PerKg)/R_JperKgPerK
T2_C = T2_K - 273.15
```
```python
# 6 Calculations (Code Cell)
print('(a) T2_C = {0:1.3f} C.'.format(T2_C))

cv_kJperKgPerK = 0.718
Qout_kJ = m_kg*cv_kJperKgPerK*(T1_C - T2_C)
print('(b) Qout_kJ = {0:1.3f} kJ.'.format(Qout_kJ))

st1 = th.state('air', p=p1_Pa/1000, T=T1_C+273.15, name="1")
st2 = th.state('air', p=p2_Pa/1000, T=T2_C+273.15, name="2")
pr = th.process([(st1,st2)])

#plot the process on a p-v diagram
fig1 = pr.plot("pv")
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning

The pressure-volume diagram makes sense. Pressure decreases while volume is kept the same. We expected the pressure to decrease since we are transferring energy out. As volume is kept constant, there is no work transfer.

---
### PROBLEM: waterPropertiesPyCalor
**Source:** Jupyter Notebook (waterPropertiesPyCalor.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_qk0vncag, Key: Fa25-L3a-7.0 (Determine the properties of water at 200 deg. C and 150 kPa)
**Book Reference:** Book Ch. 3: Properties of Pure Substances

#### Problem Statement and Analysis:
## 1. Problem Statement
Consider water at a temperature $T = 200^\circ$C and pressure $p = 150$ kPa.

Determine: 
- (a) Its state.
- (b) Its specific volume.
- (c) Its internal energy.

---

## 2. Schematic
No schematic

---

## 3. Assumptions and Approximations
* **Properties** We will use pyCalor to determine properties.
* **State Postulate** The state postulate allows a finite number of properties to be specified in order to fully describe a state of thermodynamic equilibrium.
* **Pure Substance** We only need two independent variables to determine the state.

---

## 4. Physical Laws and Governing Equations
We can use the property tables in the book to determine the answers or we can use "digital" tables. Here we will use the digital tables. 

In order to calculate a thermodynamic property, we need to define several properties, such as temperature $T$ and pressure $p$, and for vapor-liquid mixtures, the quality $x$. 

We then have enough information to calculate all of the thermodynamic properties at this state. The first step in determining properties like $p$, specific entropy $s$, specific enthalpy $h$, etc., is to use the `pyCalor` module.

#### Solution Code:
```python
# 5. Properties (Code Cell)
T1_C = 200
p1_kPa = 150

# conversion 
p1_MPa = p1_kPa/1000
T1_K = T1_C + 273.15
```
```python
# 6 Calculations (Code Cell)
!pip install pyCalor numpy matplotlib

from pyCalor import thermo as th
water = th.state('Water', p=(p1_kPa,'kPa'), T=(T1_K,'K'), name="1")
# Here we have used the units 'kPa' and 'K' for pressure and temperature, respectively.
# For pressure you could also use 'Mpa', 'Pa', etc.
# For temperature you could also use 'K'.

# From this state, we can now calculate $s_1$ (kJ/(kg K)), $h_1$ (kJ/kg), and specific volume $v_1$ (m$^3$/kg).
s1 = water.s # kJ/kg*K
h1 = water.h # kJ/kg
v1 = water.v # m3/kg
u1 = water.u # kJ/kg

print('The specific entropy is: {0:1.4f} kJ/kg*K'.format(s1))
print('The specific enthalpy is: {0:1.4f} kJ/kg'.format(h1))
print('The specific volume is: {0:1.4f} m3/kg'.format(v1))
print('The specific internal energy is: {0:1.4f} kJ/kg'.format(u1))

# We can also display this on a plot
water.plot("pv") # supported plots are: "pv","Ts","ph"
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
Based on this plot, we can see that water is in a superheated vapor state. Since it is in a superheated vapor state, that is why pressure and temperature are independent variables. If it was in the saturated liquid-vapor region, that would not be the case.

---
### PROBLEM: throttlingPyCalor
**Source:** Jupyter Notebook (throttlingPyCalor.ipynb)
**Topic:** Control Volumes
**Lecture References:** Lecture ID: 1_97hqf37r, Key: Fa25-L5c-1.0 (Throttling and Expansion Valves)
**Book Reference:** Book Ch. 5: Mass and Energy Analysis of Control Volumes

#### Problem Statement and Analysis:
## 1. Problem Statement
Refrigerant-134a enters a throttling valve at $p_3=$0.8 MPa and $T_3=$50$^\circ$C and exits at $p_4=$0.15 MPa. 

**Goal**: 
* Determine the exit temperature of the throttling device, $T_4$.

---

## 2. Schematic
Draw a schematic of a throttling device. Draw a control volume. Indicate that there is no heat transfer or shaft work in or out.

---

## 3. Assumptions and Approximations
* **Adiabatic process**.
* **Neglect changes in kinetic and potential energy** ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).
* We have a single inlet and outlet ($\dot{m}_\text{in}$ and $\dot{m}_\text{out}$).
* **Properties** We will use pyCalor to determine properties.

---

## 4. Physical Laws and Governing Equations
Conservation of mass:
$$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Steady flow:
$$0=\dot{m}_\text{in}-\dot{m}_\text{out}$$
$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}$$

Conservation of energy:
$$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

Steady flow:
$$0=\dot{E}_\text{in}-\dot{E}_\text{out}$$
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_3+(w_3^2/2)+gz_3\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_4+(w_4^2/2)+gz_4\right)$$

Neglecting changes in kinetic and potential energy; no work transfer; no heat transfer:
$$h_3=h_4$$

We see that this process is isenthalpic. By determining $h_4$, we can now determine state 4 since we know $p_4$.

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor numpy matplotlib
from pyCalor import thermo as th

mdot_kgPerS = 0.05
fluid = 'R134a'

# state 3
p3_MPa = 0.8
x3 = 0.0
st3 = th.state(fluid,p=(p3_MPa,'Mpa'),x=x3,name='3')

# state 4
p4_MPa = 0.15
# isenthalpic process, 3 to 4, h4 = st3.h
st4 = th.state(fluid,h=st3.h,p=(p4_MPa,'Mpa'),name='4')
```
```python
## 6 Calculations (Code Cell)
T4_K = st4.T
print('T4_K = {0:1.3f} K.'.format(T4_K))
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
Since it's an isenthalpic process, we are able to determine the downstream specific enthalpy. By knowing that and the pressure, which is given, we were able to determine the temperature. We also see that the temperature is lower after throttling, which is the purpose of the device.

---
### PROBLEM: heatExchangerPyCalor
**Source:** Jupyter Notebook (heatExchangerPyCalor.ipynb)
**Topic:** Control Volumes
**Lecture References:** Lecture ID: 1_97hqf37r, Key: Fa25-L5c-2.0 (Heat Exchanger)
**Book Reference:** Book Ch. 5: Mass and Energy Analysis of Control Volumes

#### Problem Statement and Analysis:
## 1. Problem Statement
R-134a enters a heat exchanger as a vapor with a mass flow rate of 6 kg/min and leaves as a subcooled liquid. It is cooled by water that enters the heat exchanger at 15$^\circ$C and 300 kPa and exits at 25$^\circ$C. R-134a enters the heat exchanger at 70$^\circ$C and 1 MPa and leaves at 35$^\circ$C. 

**Goal**: 
* Determine the mass flow rate of the cooling water.
* Determine the heat transfer rate from the refrigerant to the water.

---

## 2. Schematic
Draw a heat exchanger with two control volumes: One for water and the other for the refrigerant (R-134a). We will also combine those two control volumes and analyze them as a single control volume. There is no heat transferred in or out of the combined control volume.

---

## 3. Assumptions and Approximations
* **Neglect changes in kinetic and potential energy** ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).
* **Properties** We will use pyCalor to determine properties.
* **Adiabatic Combined System** The combined control volume is assumed to be perfectly insulated. (Justification: No heat is transferred to or from the external surroundings, making $\dot{Q}_\text{net,surroundings}=0$.)
* **Isobaric**: Heat exchangers are isobaric devices. (Justification: Negligible changes in pressure between the inlet and exit.)

---

## 4. Physical Laws and Governing Equations
### Water control volume, state 1 to 2
Conservation of mass:
$$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Steady flow:
$$0=\dot{m}_\text{in}-\dot{m}_\text{out}$$
$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}_\text{water}$$

Conservation of energy:
Conservation of mass:
$$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

Steady flow:
$$0=\dot{E}_\text{in}-\dot{E}_\text{out}$$
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}_\text{water}\left(h_1+(w_1^2/2)+gz_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}_\text{water}\left(h_2+(w_2^2/2)+gz_2\right)$$

Neglecting changes in kinetic and potential energy; no work transfer; heat is transferred into the water:
$$\left(\dot{Q}_\text{in}\right)_\text{water}=\dot{m}_\text{water}\left(h_2-h_1\right)$$

### R-134a control volume, state 3 to 4
Conservation of mass:
$$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Steady flow:
$$0=\dot{m}_\text{in}-\dot{m}_\text{out}$$
$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}_\text{R-134a}$$

Steady flow:
$$0=\dot{E}_\text{in}-\dot{E}_\text{out}$$
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}_\text{R-134a}\left(h_3+(w_3^2/2)+gz_3\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}_\text{R-134a}\left(h_4+(w_4^2/2)+gz_4\right)$$

Neglecting changes in kinetic and potential energy; no work transfer; heat is transferred out of the refrigerant:
$$\left(\dot{Q}_\text{out}\right)_\text{R-134a}=\dot{m}_\text{R-134a}\left(h_3-h_4\right)$$

### Combining water and R-134a control volumes
There is no heat or work transferred in or out of the heat exchanger; therefore:

$$\left(\dot{Q}_\text{out}\right)_\text{R-134a}=\left(\dot{Q}_\text{in}\right)_\text{water}$$

Therefore, we can combine the above equations and solve for the water mass flow rate:

$\dot{m}_\text{water} = \dot{m}_\text{R-134a} \frac{\left( h_3 - h_4 \right)}{\left( h_2 - h_1 \right)}$

We see from this that we need to know the enthalpies at the inlets and outlets of the heat exchanger. From that we can calculate the water mass flow rate.

#### Solution Code:
```python
## 5. Properties (Code Cell)
# Water is used to cool a refrigerant (R-134a). 
!pip install pyCalor
!pip install numpy
!pip install matplotlib
from pyCalor import thermo as th

# Here are the inlet (state 1) and outlet (state 2) conditions of the water:
# state 1
T1_K = 15+273.15
p1_MPa = 300/1000
water_1 = th.state('water',p=(p1_MPa,'Mpa'),T=(T1_K,'K'),name='1')
h1_kJperKg = water_1.h # kJ/kg

# state 2
T2_K = 25+273.15
p2_MPa = p1_MPa
water_2 = th.state('water',p=(p2_MPa,'Mpa'),T=(T2_K,'K'),name='2')
h2_kJperKg = water_2.h # kJ/kg

# convert to SI units
h1_JperKg = h1_kJperKg*1000; print(h1_JperKg) # J/kg
h2_JperKg = h2_kJperKg*1000; print(h2_JperKg) # J/kg

# Here are the inlet (state 3) and outlet (state 4) properties of the refrigerant as well as its mass flow rate, which is given:
fluid = 'R134a'

# state 3
T3_K = 70+273.15
p3_Pa = 1e6
st3 = th.state(fluid,p=(p3_Pa,'Pa'),T=(T3_K,'K'),name='3')
h3_JperKg = st3.h*1e3

# state 4
T4_K = 35+273.15
p4_Pa = p3_Pa
st4 = th.state(fluid,p=(p4_Pa,'Pa'),T=(T4_K,'K'),name='4')
h4_JperKg = st4.h*1e3

# mass flow rate of the refrigerant
mdot_r134a_kgPerMin = 6
mdot_r134a_kgPerS = mdot_r134a_kgPerMin/60
```
```python
## 6 Calculations (Code Cell)
mdot_water_kgPerS = mdot_r134a_kgPerS*(h3_JperKg-h4_JperKg)/(h2_JperKg-h1_JperKg)
print('(a): water mass flow rate: {0:1.4f} kg/s'.format(mdot_water_kgPerS))

Qout_r134a_JperS = mdot_r134a_kgPerS*(h3_JperKg - h4_JperKg)
print('(b): Q_out_r134a: {0:1.1f} J/s'.format(Qout_r134a_JperS))
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
Heat is transferred out of the refrigerant and into the water.

---
### PROBLEM: Introduction to the First Law of Thermodynamics
**Source:** Jupyter Notebook (firstLawThermodynamicsIntroduction.ipynb)
**Topic:** Introduction
**Lecture References:** Lecture ID: 1_mtmivyvl, Key: Fa25-L1a-7.0 (Introduction to the first law of thermodynamics)
**Book Reference:** Book Ch. 2: Energy, Energy Transfer, and General Energy Analysis

#### Problem Statement and Analysis:
## 1. Problem Statement
## Work 

We can define work as:
$$dW_F=Fds$$

where $s$ is position, $F$ is force.

A state of a system is its condition or position and is identified through the properties of a system. 

A property of a system is any observable characteristic of the system. 

Two states of a system are called identifical states if every property of the system is the same in both instances. 

When the state of a system alters, the change of state is described in terms of the end states. 

The path of a change of state is the series of states through which the system passes. 

The process involved in a change of state is described in terms of the path and the method by which the path is described.

---

## 2. Schematic 
Consider a system consisting of a fixed surface $S$ and a weight $\omega$ tied to a drum mounted above the surface in frictionless bearings. 

Let's call the state of this system in which the weight rests upon the surface state 1. 

A process occurs in which some outside agent turns the crank on the drum and causes the weight to move slowly upward until it is elevated a distance $h$ above the surface. This new state of the system is state 2. 

The process just described was accompanied by the flow of work from a system comprising the agent to the system comprising the weight and drum. 

_Work flows from a system (and to another) during a given operation if the sole effect external to the system could be the rise of a weight._

Now the weight-drum system is allowed to return to state 1 by a slow downward movement of the weight. In order to insure slow motion it is necessary to apply a restraining force to the drum. 

It is clear that the restraining force might be the force applied by an opposing weight, of the same magnitude as weight $\omega$ but outside the system, which will rise the distance $h$ as the system returns to state 1. 

Following the convention that work done by the system is positive and work done on the system is negative, we may write for the cycle of operations 1-2-1:

$$\ointdW=0$$

where the circle on the sign of integration indicates that the summation is made around a close cycle. 

It appears that something which supplied to the system as work in process 1-2 was not destroyed. We cannot say that work was stored in the system at state 2, but we recall that in the science of mechanics that stored something is referred to as potential energy due to gravity. 

Now let us repeat process 1-2 exactly, but, instead of opposing process 2-1 with an external weight, let us restrain the downward motion by means of a brake on the drum. When the weight is once more resting on the surface we inspect the system to see if state 1 has been restored. We find that it has been restored in every respect except one; namely, the temperatures of the drum and brake shoe are higher than in state 1. 

Our experience with heat indicates that even in this respect we may return to state 1 by cooling the brake and rum. Now for this second cycle of operation we may write:

$$\ointdW\ne0$$

and our concept of a something which is conserved to appear as work or to be stored as potential energy fails. 

Experiments have shown that the work done in raising the weight is proportional to the heat delivered by the system to the calorimeter. Therefore we may write:

$$\ointdQ-\ointdW=0\tag{1a}$$

---

## 3. Assumptions and Approximations

## The First Law of Thermodynamics

The first law of thermodynamics is simply a generalization of equation (1) to include all cyclic proceesses in nature. 

If any system is carried through a cycle (the end state being precisely the same as the initial state) then the sumation of the work delivered to the surroundings is proportional to the summation of the heat taken from the surroundings. The summations are in both instances algebraic and include positive and negative heat and work. 

These experiments cited above are no proof of the First Law. If it is true it is probable that its truth will never be demonstrated except by failure of all attempts to disprove it.

---

## 4. Physical Laws
### Definition of Internal Energy, a Property

Consider a system which can change by some process A from state 1 to state 0 and by some process B from state 0 to state 1. Then:

$$\int^0_{1A}(dQ-dW)+\int_{0B}^1(dQ-dW)=0$$

Let process $C$ be any other process by which the system may change in state from 0 to 1. Then for the cycle $1A0C1$ we may write:

$$\int^0_{1A}(dQ-dW)+\int_{0C}^1(dQ-dW)=0$$

Combining these two equations and simplifying:

$$\int^1_{0B}(dQ-dW)=\int_{0C}^1(dQ-dW)$$

Therefore, when a system changes from one prescribed state to another, the value of the integral of $(dQ - dW)$ is fixed by the end states and is independent of the process. It follows that this integral is a property because it satisfies the criterion of a property. We shall call it the internal energy of the system and give it the symbol $E$. Therefore:

$$E_1-E_0=\int_0^1(dQ-dW)=Q-W\tag{2a}$$

where $Q$ and $W$ denote respectively the net heat received by the system and the net work done by the system during the change of state from 0 to 1. Differentiation gives:

$$dE=dQ-dW$$

Thermodynamics tells us nothing about the values of $E_1$ or $E_0$ in the previous equation though it does tell us the means of computing the difference between them. Since there is no absolute value of the internal energy, it is permissible to assume that its value to be zero at any specified state. 


It is profitable to reflect on the difference between the property $E$ and the non-properties $Q$ and $W$. A cyclic integral of $dQ$ or $dW$ may be other than zero, which is proof that the integrals of these quantities are not properties. On the other hand, the cyclic integral of $dE$ cannot be other than zero.

The differential $dE$ is an exact differential in terms of the variables that determine the state. The value of its integral is fixed when the values of the independent variables are fixed. Nos imilar statement can be made for $dQ$ and $dW$, because the values of their integrals depend on the processes by which the state is approached and not upon the magnitudes of the properties corresponding to the state. 

So we can write $E_1$ to denote the internal energy corresponding to a state 1 but not $W_1$ or $Q_1$, because there is no quantity of work or heat which corresponds to state 1.

#### Solution Code:
```python
## 5. Properties (Code Cell)
# The internal energy of a system remains unchanged if the system is isolated from its environment as regards work and heat, regardless of the nature of the changes within the system. 

# Internal energy remains unchanged for any cyclic change in the state of the system. This is equivalent to the First Law.
```
```python
## 6 Calculations (Code Cell)
### The definition of energy
# The term energy may be employed as a general term which embraces heat, work, and internal energy. 
# In Mechanics changes in internal energy of a system is called kinetic energy. 
# A system comprising a weight in a gravitational field, work may be introduced to raise the weight. The corresponding icnrease in the internal energy of the system is called in mechanics the increase in potential energy due to gravity. 
# Internal energy may include potential energy in an electrostatic field or in a magnetic field. These are all forms of stored energy which may be increased or decreased through the transfer of work alone. Internal energy includes besides these all kinds of stored energy which are affected by transfer of heat.
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning

The first law states that work and heat are equal in a cyclic process. Work and heat are evaluated at the boundaries of a system. No application of the first law can be made until the system and its boundaries are defined. The boundaries need not be stationary, and in general they will not be. 

*The first step in the solution of a problem in thermodynamics is the description of a system and its boundaries.*

---
### PROBLEM: entropyHeatTransferSteadyFlow
**Source:** Jupyter Notebook (entropyHeatTransferSteadyFlow.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_0j02pupk, Key: Fa25-L7c-1.0 (Learning Objectives)
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement
Calculate the heat transfer, in kJ/kg, for the reversible steady-flow process from states 1 to 2 to 3 given the following information: 

State 1 is $T_1 = 120^\circ$C and $s_1$=0.01 kJ/(kg K). The temperature decreases linearly as a function of specific entropy to state 2. State 2 is at $T_2 = 30^\circ$C and $s_1$=1.0 kJ/(kg K). The process from state 2 to 3 is isentropic with $T_3= 100^\circ$C.

---

## 2. Schematic
No schematic needed. Analyze the temperature-specific entropy diagram.

---

## 3. Assumptions and Approximations
* **Internally reversible process** $\left( \frac{\delta Q}{T} \right)_\text{int,rev}=dS$. An internally reversible process is one where all irreversibilities, e.g., friction, temperature differences, etc., occur outside the system's boundaries. Inside the system, the process occurs without any dissipation, maintaining equilibrium and a uniform temperature.
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).

---

## 4. Physical Laws and Governing Equations
$$dS=\left(\frac{\deltaQ}{T}\right)_\text{intrev}$$

The integral of $\frac{\delta Q}{T}$ gives us the value of entropy change if the integration is carried out along an internally reversible path between the two states. The integral of$\frac{\delta Q}{T}$ along an irreversible path is not a property, and different values will be obtained if one integrates along different irreversible paths.

#### Solution Code:
```python
## 5. Properties (Code Cell)
T1_C = 120 # C
T2_C = 30 # C
T3_C = 100 # C

s1_kJperKgPerK = 0.02 # kJ/(kg K)
s2_kJperKgPerK = 1.0 # kJ/(kg K)
s3_kJperKgPerK = s2_kJperKgPerK # kJ/(kg K)

T1_K = T1_C + 273.15
T2_K = T2_C + 273.15
T3_K = T3_C + 273.15

# 6 Calculations (Code Cell)
# q = T ds # kJ/kg
# Integrating the areas under the T-s curve
q12_kJperKg = T2_K*(s2_kJperKgPerK-s1_kJperKgPerK) + (T1_K - T2_K)*(s2_kJperKgPerK-s1_kJperKgPerK)/2
# process 2 to 3 is isentropic
q23_kJperKg = 0
# sum of the heat transferred from states 1 to 2 and 2 to 3
q13_kJperKg = q12_kJperKg + q23_kJperKg
print(q13_kJperKg)

# Draw this process on a T-s diagram
# Integrate the area under the curve
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We expected the sign of $q$ to be positive since entropy was increasing from states 1 to 2. We did not expect any heat addition from states 2 to 3 because there was no change in entropy.

---
### PROBLEM: compressorMultistageCoolingPyCalor
**Source:** Jupyter Notebook (compressorMultistageCoolingPyCalor.ipynb)
**Topic:** Entropy
**Lecture References:** Key: Fa25-L7c-3.0 (Multisage Compressor With Cooling)
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement
Problem 7-190 from Cengels Thermodynamics 9th Edition

Air enters a two-stage compressor at 100 kPa and 27°C and is compressed to 625 kPa. The pressure ratio across each stage is the same, and the air is cooled to the initial temperature between the two stages. 

**Goal**:
- Assuming the compression process to be isentropic, determine the power input to the compressor for a mass flow rate of 0.15 kg/s.
- What would your answer be if only one stage of compression were used?

---

## 2. Schematic
Draw two compressors connected in series. State 1 and 2 are the inlet and outlet of the first air compressor, respectively. States 3 and 4 are at the inlet and exit of the second air compressor, respectively. Heat is transferred out in between states 2 and 3. Indicate that the compressors are connected together by a shaft and that work is being transferred in.

---

## 3. Assumptions and Approximations
* **Control Volume** (mass crosses the boundary).
* **Properties** We will use pyCalor to determine properties.
* Neglect changes in kinetic and potential energy ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Reversible and Adiabatic processes**: Compression from states 1 to 2 and 3 to 4 are considered reversible and adiabatic.
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).
* We have a single inlet and outlet ($\dot{m}_\text{in}$ and $\dot{m}_\text{out}$).
* **Isobaric**: Heat exchangers are isobaric devices. (Justification: Negligible changes in pressure between the inlet and exit.)

---

## 4. Physical Laws and Governing Equations
1.  **First Law of Thermodynamics (Energy Balance for Control Volume):**
    $$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

2.  **Conservation of Mass (Mass Balance for a Control Volume):**
    $$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Since this is a steady flow process, we can write:
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}$$

We can then write for a compressor:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1+\frac{w_1^2}{2}+g~z_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2+\frac{w_1^2}{2}+g~z_2\right)$$

Neglecting changes in kinetic and potential energy:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}h_1=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}h_2$$

Since the compressor operates isentropically, we can assume that it is adiabatic:
$$\dot{W}_\text{in}+\dot{m}h_1=\dot{W}_\text{out}+\dot{m}h_2$$

There is only work transferred into the compressor, not out. Therefore:
$$\dot{W}_\text{in}=\dot{m}\left(h_2-h_1\right)$$

We can apply this formula for the first and second compressor as:
$$\dot{W}_\text{12,in}=\dot{m}(h_2-h_1)$$
$$\dot{W}_\text{34,in}=\dot{m}(h_4-h_3)$$

The total work in is then:
$$\dot{W}_\text{in}=\dot{W}_\text{12,in}+\dot{W}_\text{34,in}$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor
from pyCalor import thermo as th

substance = 'air'
mdot_kgPerS = 0.15

# Properties
p1_Pa = 100e3
T1_C = 27
T1_K = T1_C +273.15

pressureRatio = 2.5

p2_Pa = p1_Pa * pressureRatio

p3_Pa = p2_Pa
T3_C = 27
T3_K = T3_C + 273.15

p4_Pa = p3_Pa * pressureRatio

# state 1
st1 = th.state(substance,T=(T1_C,'C'),p=(p1_Pa,'Pa'),name='1')
h1_JperKg = st1.h*1e3
s1_JperKgperK = st1.s*1e3

# state 2
s2_JperKgperK = s1_JperKgperK
st2 = th.state(substance,s=(s2_JperKgperK,'J/kg K'),p=(p2_Pa,'Pa'),name='2')
h2_JperKg = st2.h*1e3
T2_K = st2.T

# state 3
st3 = th.state(substance,T=(T3_C,'C'),p=(p3_Pa,'Pa'),name='3')
h3_JperKg = st3.h*1e3
s3_JperKgperK = st3.s*1e3

# state 4
s4_JperKgperK = s3_JperKgperK
st4 = th.state(substance,s=(s4_JperKgperK,'J/kg K'),p=(p4_Pa,'Pa'),name='4')
h4_JperKg = st4.h*1e3
T4_K = st4.T

# process
pr = th.process([(st1,st2),(st2,st3),(st3,st4)])
```
```python
# 6 Calculations (Code Cell)
# Work in
Wdot_W = mdot_kgPerS*((h2_JperKg - h1_JperKg)+(h4_JperKg - h3_JperKg))
Wdot_kW = Wdot_W/1000# ; print(Wdot_kW)
print('(a) Wdot_kW = {0:1.1f} kW.'.format(Wdot_kW))

# Now we can see how much work we would have to do if we were to do the same process with a single compressor.
s2_JperKgperK_ = s1_JperKgperK
st2_ = th.state(substance,s=(s2_JperKgperK_,'J/kg K'),p=(p4_Pa,'Pa'),name='2_')

h2_JperKg_ = st2_.h*1e3
T2_K_ = st2_.T
Wdot_W_ = mdot_kgPerS*((h2_JperKg_ - h1_JperKg))
Wdot_kW_ = Wdot_W_/1000# ; print(Wdot_kW)
print('(b) Wdot_kW = {0:1.1f} kW.'.format(Wdot_kW_))

# Plotting
fig1=pr.plot("Ts");
# fig1.savefig("figure_1_Ts.pdf")
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We see that by cooling the air in between the first and second compressor, we do not need to do as much work.

---
### PROBLEM: turbineEnthalpyVsInternalEnergy
**Source:** Jupyter Notebook (turbineEnthalpyVsInternalEnergy.ipynb)
**Topic:** Control Volumes
**Lecture References:** Lecture ID: 1_0r6wkz1o, Key: Fa25-L5a-4.0 (Applying conservation of mass and energy principles for a control volume to a turbine.)
**Book Reference:** Book Ch. 5: Mass and Energy Analysis of Control Volumes

#### Problem Statement and Analysis:
## 1. Problem Statement
Steam enters a turbine at 4600 kg/hr and a pressure of 60 bar and 400$^\circ$C and exits at 0.2 bar and a vapor quality of 0.9. 

**Goal**: 
* Determine the shaft power and the total power transferred from the system.

---

## 2. Schematic
Draw a control volume. One control volume for the iron block (CV1). Another control volume for the water bath (CV2).

---

## 3. Assumptions and Approximations
* Neglect kinetic and potential energy
* Steady-flow system
* Determine properties using `pyCalor`

---

## 4. Physical Laws and Governing Equations
Conservation of mass:
$$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Steady flow:
$$0=\dot{m}_\text{in}-\dot{m}_\text{out}$$
$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}$$

Conservation of energy:
$$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

Steady flow:
$$0=\dot{E}_\text{in}-\dot{E}_\text{out}$$
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_3+(w_3^2/2)+gz_3\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_4+(w_4^2/2)+gz_4\right)$$

Neglecting changes in kinetic and potential energy and assuming the turbine is adiabatic we can write:
$$\dot{m}h_3=\dot{W}_\text{out}+\dot{m}h_4$$

The shaft work out can then be written as:
$$\dot{W}_\text{S,out}=\dot{m}\left(h_1-h_2\right)$$

The overall work transferred out, including flow work, is:

$$\dot{W}_\text{net,out}=\dot{m}(u_1-u_2)$$

What we see from this is that:

$$\dot{W}_\text{S,out}\ne\dot{W}_\text{net,out}$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor
from pyCalor import thermo as th

# A steam turbine operates with the conditions listed below. 
mdot_kgPerHr = 4600
# conversion
mdot_kgPerS = mdot_kgPerHr/(60*60)

# state 1
p1_bar = 60
T1_C = 400
st1 = th.state('water',T=(T1_C,'C'),p=(p1_bar,'bar'),name='1')

# state 2
p2_bar = 0.2
x2 = 0.9
st2 = th.state('water',x=x2,p=(p2_bar,'bar'),name='2')
```
```python
# 6 Calculations (Code Cell)
# process
pr = th.process([(st1,st2)])

# T-v plot
pr.plot('Tv')

# Answer: part (a)
W_shaft_out_kW = mdot_kgPerS*(1000*(st1.h-st2.h)); print(W_shaft_out_kW)

# Answer: part (b)
W_total_out_kW = mdot_kgPerS*(st1.u-st2.u); print(W_total_out_kW)
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
The total work is different from the shaft work because the total work contains flow work.

---
### PROBLEM: isentropicEfficiencyTurbine
**Source:** Jupyter Notebook (isentropicEfficiencyTurbine.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_tn902g9q, Key: Fa25-L7e-6.0 (Deriving Isentropic Efficiency of a Compressor)
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement
Idealized devices operate isentropically while real devices do not. Real devices are characterized by an isentropic efficiency. You are given the inlet pressure and temperature and the outlet pressure of a turbine. Show the isentropic and actual turbine processes on a temperature-specific entropy diagram.

**Goal** 
* Derive the isentropic efficiency for a turbine
* Given an adiabatic steam turbine with an inlet pressure and temperature of 3 MPa and 350$^\circ$C, respectively; an outlet pressure of 75 kPa, and an isentropic efficiency of 0.9, determine the actual temperature at the exit of the turbine.
* Show the isentropic and actual turbine processes on a temperature-specific entropy diagram.

---

## 2. Schematic
Draw a control volume around the turbine. Work is transferred out and should be indicated. No heat is transferred in or out and should be indicated. There is a single inlet and outlet of the fluid stream.

---

## 3. Assumptions and Approximations
* **Control Volume** (mass crosses the boundary).
* **Properties** We will use pyCalor to determine properties.
* **Neglect changes in kinetic and potential energy** ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Adiabatic process**.
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).
* We have a single inlet and outlet ($\dot{m}_\text{in}$ and $\dot{m}_\text{out}$).

---

## 4. Physical Laws
1.  **First Law of Thermodynamics (Energy Balance for Control Volume):**
    $$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

2.  **Conservation of Mass (Mass Balance for a Control Volume):**
    $$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Since this is a steady flow process, we can write:
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}$$

We can write our conservation of energy equation as:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1+\frac{w_1^2}{2}+gz_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2+\frac{w_1^2}{2}+gz_2\right)$$

Neglecting kinetic and potential energy effects we can write:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2\right)$$

Applying the adiabatic assumption:
$$\dot{W}_\text{in}+\dot{m}\left(h_1\right)=\dot{W}_\text{out}+\dot{m}\left(h_2\right)$$

There is only work transferred out, and not in:
$$\dot{W}_\text{out}=\dot{m}\left(h_1-h_2\right)$$

Using our steady flow equation for power output from the turbine, we can define the maximum work out of the turbine by analyzing the isentropic case:

$$\left(\dot{W}_\text{out}\right)_\text{s}=\dot{m}\left(h_{1}-h_\text{2s}\right)$$

We can also define the actual work out of the turbine as:

$$\left(\dot{W}_\text{out}\right)_\text{a}=\dot{m}\left(h_1-h_\text{2a}\right)$$

Therefore, we can define the isentropic efficiency of a turbine by taking the ratio of these two power input equations (neglecting changes in kinetic and potential energy):

$$\eta_\text{T}=\frac{\left(\dot{W}_\text{out}\right)_\text{a}}{\left(\dot{W}_\text{out}\right)_\text{s}}=\frac{h_1-h_\text{2a}}{h_1-h_\text{2s}}$$

By knowing the inlet pressure, $p_1$, and temperature, $T_1$, of steam, we can determine the specific enthalpy, $h_1$, and entropy, $s_1$. For the isentropic case, we have $s_2 = s_1$, and we can determine the specific enthalpy at state 2, $h_2$, since we know $p_2$. We term this as $h_\text{2s}$.

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor numpy matplotlib
from pyCalor import thermo as th

substance = 'water'
isentropicEfficiencyTurbine = 0.9

# state 1
p1_kPa = 3e3 # kPa
T1_C = 350 # C
st1 = th.state(substance,p=(p1_kPa,'kPa'),T=(T1_C,'C'),name='1')

# state 2s
p2_kPa = 75
st2s = th.state(substance,p=(p2_kPa,'kPa'),s=(st1.s,'kJ/kg K'),name='2s')

h2a_kJperKg = st1.h - isentropicEfficiencyTurbine*(st1.h - st2s.h)

# state 2a
st2a = th.state(substance,p=(p2_kPa,'kPa'),h=(h2a_kJperKg,'kJ/kg'),name='2a')
```
```python
## 6. Calculations (Code Cell)
# Final answer:
T2a_K = st2a.T; print(T2a_K)

# Compare with the isentropic case, T2s_K
T2s_K = st2s.T; print(T2s_K)

# Defining processes for the isentropic and actual compression processes
pr = th.process([(st1,st2a),(st1,st2s)])

# Plotting the isentropic and actual compression processes on a temperature-specific entropy diagram
fig1 = pr.plot("Ts");
fig2 = pr.plot("ph");

# save figure
# fig1.savefig("figure_turbine.pdf")
# fig2.savefig("figure_turbine_ph.pdf")
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We know from the definition of isentropic efficiency that the power input to the isentropic compressor is less than the actual compressor. What we would expect then from a **First Law of Thermodynamics** analysis is that the enthalpy at the exit of the actual turbine should be greater than the isentropic turbine, which we've shown is the case. The temperatures at the exit of the isentropic and actual turbines because they're both at the same pressure and the state is in the saturated liquid-vapor region.

---
### PROBLEM: electricHeatingWaterVaporConstantPressure
**Source:** Jupyter Notebook (electricHeatingWaterVaporConstantPressure.ipynb)
**Topic:** Closed Systems
**Lecture References:** Lecture ID: 1_3375c5yj, Key: Fa25-L4c-1.0 (Electric heating of water vapor at constant pressure)
**Book Reference:** Book Ch. 4: Energy Analysis of Closed Systems

#### Problem Statement and Analysis:
## 1. Problem Statement
A piston cylinder contains 25 g of saturated water vapor at 300 kPa. The piston is kept at constant pressure while heat is transferred out. The cylinder contains a resistor inside of it while a voltage of 120 V is applied and 0.2 A of current passes through it for 5 min. 

**Goal**: 
* Determine the final temperature of the steam
* Determine $(u_2 + p_2 v_2) - (u_1 + p_1 v_1)$

---

## 2. Schematic
Draw a schematic of a piston-cylinder device. Draw a boundary around the inside of the piston cylinder. Show that electrical work is transferred into the piston and heat is transferred out of it.

---

## 3. Assumptions and Approximations
* **Closed system** (no mass in or out).
* **Properties** We can use `pyCalor` to determine properties. 
* **Quasi-equilibrium process** This is a necessary assumption if we are going to relate changes in properties to path functions like work, $W$.
* **Neglect changes in kinetic and potential energy**: $\Delta KE\approx0$, $\Delta PE\approx0$. (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Boundary work** is transferred through expansion ($p dV$).
* **Other work** is transferred through electricity Voltage*Current*Time
* **Heat transfer** Heat is transferred out

---

## 4. Physical Laws and Governing Equations

Conservation of energy: 
$$\DeltaE_\text{CV}=E_\text{in}-E_\text{out}$$

$$\DeltaU+\DeltaKE+\DeltaPE=(W_\text{in}+Q_\text{in})-(W_\text{out}+Q_\text{out})$$

Neglect changes in kinetic and potential energy:
$$\DeltaU=(W_\text{in})-(W_\text{out}+Q_\text{out})$$

$$W_\text{out}=p_1(V_2-V_1)$$

$$W_\text{out}=p_1m(v_2-v_1)$$

$$W_\text{in}=\text{V}I\Deltat$$

Combining yields:

$$m(u_2-u_1)=\text{V}I\Deltat-p_1m(v_2-v_1)-Q_\text{out}$$

Rearranging:

$$m\left[\left(u_2+p_1v_2\right)-\left(u_1+p_1v_1\right)\right]=\text{V}I\Deltat-Q_\text{out}$$

Since $p_2 = p_1$, we have:

$$m\left[\left(u_2+p_2v_2\right)-\left(u_1+p_1v_1\right)\right]=\text{V}I\Deltat-Q_\text{out}$$

The definition of enthalpy is:

$$h=u+pv$$

Therefore,

$$m\left[h_2-h_1\right]=\text{V}I\Deltat-Q_\text{out}$$

$$h_2=\text{V}I\Deltat/m-Q_\text{out}/m+h_1$$

We need to determine the specific volumes at state 2 and state 1.

#### Solution Code:
```python
## 5. Properties (Code Cell)

!pip install pyCalor
from pyCalor import thermo as th

# state 1
m_kg = 25/1000
p1_kPa = 300
x1 = 1

st1 = th.state('water', p = (p1_kPa,'kpa'), x = x1, name='1')

# state 2
p2_kPa = p1_kPa

# inputs
Qout_kJ = 3.7
I_A = 0.2
Volt_V = 120
dt_min = 5
```
```python
# 6 Calculations (Code Cell)
Win_e_J = I_A*Volt_V*(dt_min*60)
Win_e_kJ = Win_e_J/1e3; print(Win_e_kJ)

h2_J = (I_A*Volt_V*(dt_min*60)/m_kg) - (Qout_kJ*1e3) + st1.h*1e3
h2_kJ = h2_J/1000; print(h2_kJ)

# determine state 2 using h2
st2 = th.state('water', p = (p2_kPa,'kpa'), h = h2_kJ, name='2')

# by knowing state 2, we can determine T2
T2_K = st2.T
T2_C = T2_K - 273.15
print('T2: {0:1.2f} deg C'.format(T2_C))

# define the process using pyCalor
pr = th.process([(st1,st2)])

# plot the process on a pressure-specific volume diagram
pr.plot('pv');

# determine u2 + p2*v2 - (u1 + p1*v1)
h2 = st2.u + st2.v*st2.p
h1 = st1.u + st1.v*st1.p

answer = h2 - h1
print('u2 + p2*v2 - (u1 + p1*v1) = {0:1.2f} kJ/kg'.format(answer))

# st2.h - st1.h #kJ/kg
print('h2 - h1 = {0:1.2f} kJ/kg'.format(st2.h - st1.h))
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We determined the temperature of the steam at state 2. We also compared $u_2 + p_2v_2 - (u_1 + p_1v_1)$ with $h_2 - h_1$ and found that they were the same.

---
### PROBLEM: Isentropic nitrogen compressor
**Source:** Jupyter Notebook (compressorAdiabaticNitrogen.ipynb)
**Topic:** Entropy
**Lecture References:** Lecture ID: 1_4ak8fp37, Key: Fa25-L7c-5.0 (Air property tables: Compressor example)
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement
Nitrogen enters an adiabatic compressor at $p_1 =$ 110 kPa and $T_1 =$ 30 $^\circ$ C and exits at $p_2 =$ 682 kPa. The process is reversible. 

**Goal:** Determine the work input per unit mass, $\frac{\dot{W}_\text{in}}{\dot{m}}$.

---

## 2. Schematic 

Draw a schematic that shows a compressor. Draw the control volume around the compressor. There is a single inlet and oulet for mass to flow in and out. Indicate that it is adiabatic and that work is being transferred in.

---

## 3. Assumptions and Approximations
* **Control Volume** (mass crosses the boundary).
* **Properties** We can use pyCalor to determine properties. 
* **Ideal Gas Model** (Justification: Nitrogen at these conditions behaves as an ideal gas, $p v = R T$)
* **Tds Relations** Because the substance is an ideal gas, we can use $Tds$ relations to compute changes in entropy if we assume constant specific heats.
* Neglect changes in kinetic and potential energy ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Reversible process** (Justification: The problem states it.)
* **Adiabatic process** (Justification: The problem states it.)
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).
* We have a single inlet and outlet ($\dot{m}_\text{in}$ and $\dot{m}_\text{out}$).

---

## 4. Physical Laws and Governing Equations
1.  **First Law of Thermodynamics (Energy Balance for Control Volume):**
    $$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

2.  **Conservation of Mass (Mass Balance for a Control Volume):**
    $$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Since this is a steady flow process, we can write:
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}$$

We can then write for a compressor:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1+\frac{w_1^2}{2}+g~z_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2+\frac{w_1^2}{2}+g~z_2\right)$$

Neglecting changes in kinetic and potential energy:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}h_1=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}h_2$$

Since the compressor operates isentropically, we can assume that it is adiabatic:
$$\dot{W}_\text{in}+\dot{m}h_1=\dot{W}_\text{out}+\dot{m}h_2$$

There is only work transferred into the compressor, not out. Therefore:
$$\dot{W}_\text{in}=\dot{m}\left(h_2-h_1\right)$$

We can then write:

$$\frac{\dot{W}_\text{in}}{\dot{m}}=h_2-h_1$$

We know $h_1$ because we have the properties at state 1. We need additional information in order to determine state 2. Since the compressor is reversible and adiabatic (no heat transfer in), then the process is isentropic. Therefore:

$$s_2=s_1$$

We can use this information to determine the enthalpy at state 2. 

### Alternative solution

We can determine the temperature at state 2 by using the $TdS$ relations. For an ideal gas undergoing an isentropic (reversible and adiabatic) process, we can write:

$$\left(\frac{T_2}{T_1}\right)_{s=const}=\left(\frac{p_2}{p_1}\right)^{(k-1)/k}$$

Recall that $k=c_p/c_v$, so to do this calculation we have to select the $k$ at some temperature. We can choose the temperature at the inlet state. By knowing $T_1$, $p_1$, and $p_2$, we can determine $T_2$. 

For an ideal gas, changes in enthalpy can be expressed as:

$$h_2-h_1=c_p\left(T_2-T_1\right)$$

Again, we have to select a specific heat at some temperature. We can take the inlet temperature.

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor
from pyCalor import thermo as th

# Constants and Initial State
p1_kPa = 110 # kPa
T1_C = 30 # C
T1_K = T1_C + 273.15

p2_kPa = 682 # MPa

substance = 'nitrogen'

# Determine state 1
st1 = th.state(substance,T=(T1_C,'C'),p=(p1_kPa,'kPa'),name='1')
s1_kJperKgPerK = st1.s
h1_kJperKg = st1.h
cp_kJperKgPerK = st1.cp
cv_kJperKgPerK = st1.cv
k = cp_kJperKgPerK/cv_kJperKgPerK

# Determine state 2
s2_kJperKgPerK = s1_kJperKgPerK
st2 = th.state(substance,s=(s2_kJperKgPerK,'kJ/kg K'),p=(p2_kPa,'kPa'),name='2')
h2_kJperKg = st2.h

## Alternative solution
T2_K_alt = T1_K*(p2_kPa/p1_kPa)**((k-1)/k)
```
```python
# 6 Calculations (Code Cell)
wIn_kJperKg = h2_kJperKg - h1_kJperKg

print(f"Work input per unit mass: {wIn_kJperKg:.2f} kJ/kg")

wIn_kJperKg_alt = cp_kJperKgPerK*(T2_K_alt - T1_K)

print(f"Work input per unit mass assuming ideal gas and using TdS relations: {wIn_kJperKg_alt:.2f} kJ/kg")
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning

By separating flow work from total work to form the property enthalpy, the work term we calculate is then useful shaft work. The work out per unit mass is a simple formula: 

$$\frac{\dot{W}_\text{in}}{\dot{m}}=h_2-h_1$$

* **Key Insight:** For a steady flow system undergoing an **adiabatic** and **reversible** process, this can be considered as an isentropic process. That is useful because it allows us to determine the exit state of the turbine since we also know the exit pressure. 

* **Alternative Solution** If we assume ideal gas behavior, and if the process is isentropic (reversible and adiabatic) then we can write:

$$\frac{\dot{W}_\text{in}}{\dot{m}}=c_p\left(T_2-T_1\right)$$

For that we have to select specific heats at a certain temperature. We chose the inlet temperature. That turned out to be a good assumption. This approach is simpler and is a good way to first solve the problem. One can check if it is a good assumption by determining actual property values using `pyCalor`.

---
### PROBLEM: coolingSolidBlock
**Source:** Jupyter Notebook (coolingSolidBlock.ipynb)
**Topic:** Closed Systems
**Lecture References:** Lecture ID: 1_0r6wkz1o, Key: Fa25-L5a-1.0 (Cooling of a solid block)
**Book Reference:** Book Ch. 4: Energy Analysis of Closed Systems

#### Problem Statement and Analysis:
## 1. Problem Statement
A 50 kg iron block at a temperature of 80 deg C is immersed into a 0.5 m$^3$ water bath, which is initially at 25 deg C. 

**Goal**: 
* Determine the temperature when equilibrium is reached.

---

## 2. Schematic
Draw three control volumes. One control volume for the iron block (CV1); one control volume for the water bath (CV2); and one combined control volume consisting of CV1 and CV2.

---

## 3. Assumptions and Approximations
* **Closed system** (no mass in or out).
* **No Work Transfer** There is no boundary work or other types of work being done.
* **Neglect changes in kinetic and potential energy** ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The system is stationary, and there are no significant changes in elevation or velocity.)
* **Adiabatic Combined System** The combined control volume of the iron block and the water bath is assumed to be perfectly insulated. (Justification: No heat is transferred to or from the external surroundings, making $Q_\text{net,surroundings}=0$.)
* **Constant Specific Heats** ($c_p$, $c_v=\text{const}$). (Justification: The specific heat property changes are negligible over the process temperature range.
* **Thermal Equilibrium** The iron block and the water reach the same final temperature, $T_2$.

---

## 4. Physical Laws and Governing Equations
- Conservation of energy.

$$\DeltaE_\text{CV1+CV2}=E_\text{in,CV1+CV2}-E_\text{out,CV1+CV2}$$

$$\left(\DeltaU+\DeltaKE+\DeltaPE\right)_\text{CV1+CV2}=(W_\text{in}+Q_\text{in})_\text{CV1+CV2}-(W_\text{out}+Q_\text{out})_\text{CV1+CV2}$$

No work or heat transfer:
$$\left(\DeltaU\right)_\text{CV1+CV2}=0$$

$$\DeltaU_\text{CV1}+\DeltaU_\text{CV2}=0\tag{1}$$

No heat will be transferred out of or into the combined control volumes of CV1 and CV2 (adiabatic).

### Change in internal energy of the iron block

For incompressible solids:

$$du=c_V(T)dT\text{(solids)}$$

$$\Deltau=\int_1^2c_V(T)dT\approxc_\text{V,avg}(T_2-T_\text{1,Fe})$$

We will select the value of $c_\text{V,Fe}$ at $T=T_\text{1,Fe}$, $c_\text{V,Fe}=c_\text{V,Fe}(T_\text{1,Fe})$. Substituting into equation (1):

$$\DeltaU_\text{CV1}=m_\text{Fe}c_\text{V,Fe}(T_2-T_\text{1,Fe})\tag{2}$$

### Conservation of energy of the water bath

For incompressible liquids, $c_p = c_V = c$, therefore:

$$du=c_V(T)dT$$

$$\Deltau=\int_1^2c_V(T)dT\approxc_\text{V,avg}(T_2-T_1)$$

We will select the value of $c_\text{H2O}$ at $T=T_\text{1,H2O}$, $c_\text{V,H2O}=c_\text{V,H2O}(T_\text{1,H2O})$. (We will see in the property tables that the only value for specific heat that is available is for room temperature. This should be okay since the initial and final temperature difference is not that large.) Substituting into equation (1):

$$\DeltaU_\text{CV2}=m_\text{H2O}c_\text{V,H2O}(T_2-T_\text{1,H2O})\tag{3}$$

Combining equations (1)-(3):

$$m_\text{Fe}c_\text{V,Fe}(T_2-T_\text{1,Fe})+m_\text{H2O}c_\text{V,H2O}(T_2-T_\text{1,H2O})=0$$

Rearranging:

$$T_2=\frac{m_\text{Fe}c_\text{V,Fe}T_\text{1,Fe}+m_\text{H2O}c_\text{V,H2O}T_\text{1,H2O}}{m_\text{Fe}c_\text{V,Fe}+m_\text{H2O}c_\text{V,H2O}}$$

When looking up property tables in the textbook, you will see that the only values that are available are $c_p$. Since the substances are incompressible, it is okay to substitute $c_p = c_V$ into the above equation.

### Alternative solution

You could analyze CV1 and CV2, and set the heat transferred out of the iron block to be equal to the heat transferred into the water bath. The combined control volumes would be treated as adiabatic with no work transfer.

#### Solution Code:
```python
## 5. Properties (Code Cell)
vH2O_m3PerKg = 0.001
VH2O_m3 = 0.5

mH2O_kg = VH2O_m3/vH2O_m3PerKg

mFe_kg = 50

T1H2O_C = 25
T1Fe_C = 80

cFe_kJperKgPerK = 0.45 # taken at room temperature
cH2O_kJperKgPerK = 4.18 # taken at 25 deg C
```
```python
# 6 Calculations (Code Cell)
T2_C = (mFe_kg*cFe_kJperKgPerK*T1Fe_C + mH2O_kg*cH2O_kJperKgPerK*T1H2O_C)/(mFe_kg*cFe_kJperKgPerK + mH2O_kg*cH2O_kJperKgPerK)
print(T2_C)
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
It makes sense that the final temperature, $T_2$, is between the initial iron and water temperature.

---
### PROBLEM: Differential Entropy Relations
**Source:** Jupyter Notebook (entropyDifferentialRelations.ipynb)
**Topic:** Entropy
**Lecture References:** Key: Fa25-L7c-4.0 (Differential entropy change relations)
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement

Derive the differential entropy change relations.  

**Goal:** For an ideal gas, show that for an isentropic process, we can relate temperature, pressure, and specific volume between two states by knowing specific heats.

---

## 2. Schematic 

We can choose to analyze a piston-cylinder device that can perform boundary work.

---

## 3. Assumptions and Approximations
* **Internally reversible process** $\left( \frac{\delta Q}{T} \right)_\text{int,rev}=dS$. An internally reversible process is one where all irreversibilities, e.g., friction, temperature differences, etc., occur outside the system's boundaries. Inside the system, the process occurs without any dissipation, maintaining equilibrium and a uniform temperature.
* **Work** The only kind of work a simple compressible system may undergo in an internally reversible process is boundary work.
* **Constant Specific Heats** ($c_p$, $c_v=\text{const}$). (Justification: The specific heat property changes are negligible over the process temperature range, simplifying the calculation of $\Delta~h$ to $c_p~\Delta~T$.

---

## 4. Physical Laws
1.  **First Law of Thermodynamics (Energy Balance for Closed System):**
    $$dU=\deltaQ_\text{int,rev}-\deltaW_\text{int,rev}$$

We can write this as:

$$dU=TdS-pdV$$

$$\impliesTdS=dU+pdV$$

We call this the $TdS$ or Gibbs equation. We can also write this as:
$$Tds=du+pdv$$

Recalling the definition of enthalpy $h = u + pv$, we can write it in differential form:

$$dh=du+pdv+vdp$$

or 

$$du=dh-pdv-vdp$$

Substituting into the $Tds$ equation:

$$Tds=\left(dh-pdv-vdp\right)+pdv$$

Simplifying:

$$Tds=dh-vdp$$

So changes in entropy can be related to other properties:

$$ds=\frac{dh}{T}-\frac{vdp}{T}\tag{1}$$

For an ideal gas we can recall that $dh = c_p dT$ and $p v = R T$. We can write the ideal gas equation as:

$$v=RT/p$$

Substituting that and $dh = c_p dT$ into equation (1):

$$ds=\frac{c_pdT}{T}-\frac{(RT/p)dp}{T}$$

Simplifying:

$$ds=\frac{c_pdT}{T}-\frac{Rdp}{p}$$

Integrating from state 1 to state 2:

$$\int_1^2ds=\int_{T_1}^{T_2}\frac{c_pdT}{T}-R\int_{p_1}^{p_2}\frac{dp}{p}$$

Assuming constant specific heats:

$$\int_1^2ds=c_p\int_{T_1}^{T_2}\frac{dT}{T}-R\int_{p_1}^{p_2}\frac{dp}{p}$$

Then we have:

$$s_2-s_1=c_p\ln\frac{T_2}{T_1}-R\ln\frac{p_2}{p_1}\tag{2}$$

For an ideal gas we can recall that $du = c_v dT$ and $p = R T / v$. Substituting yields:

$$Tds=\left(c_vdT\right)+\left(RT/v\right)dv$$

Rearranging:
$$ds=\left(\frac{c_vdT}{T}\right)+\left(\frac{R}{v}\right)dv$$

Integrating:
$$\int_1^2ds=\int_1^2\frac{c_vdT}{T}+\int_1^2\frac{R}{v}dv$$

Assuming constant specific heats:
$$s_2-s_1=c_v\int_{T_1}^{T_2}\frac{dT}{T}+R\int_{v_1}^{v_2}\frac{dv}{v}$$

$$s_2-s_1=c_v\ln\frac{T_2}{T_1}+R\ln\frac{v_2}{v_1}\tag{3}$$

If isentropic and constant specific heats, we can write equation (2) and (3) as:       

$$0=c_p\ln\frac{T_2}{T_1}-R\ln\frac{p_2}{p_1}$$
             
$$0=c_v\ln\frac{T_2}{T_1}+R\ln\frac{v_2}{v_1}$$

We can rearrange these as:

$$\ln\frac{T_2}{T_1}=\ln\left(\frac{p_2}{p_1}\right)^{\frac{R}{c_p}}$$
             
$$\ln\frac{T_2}{T_1}=\ln\left(\frac{v_2}{v_1}\right)^{-\frac{R}{c_v}}$$

Simplifying:

$$\frac{T_2}{T_1}=\left(\frac{p_2}{p_1}\right)^{\frac{R}{c_p}}$$
             
$$\frac{T_2}{T_1}=\left(\frac{v_2}{v_1}\right)^{-\frac{R}{c_v}}$$

Recalling that $k = c_p/c_v$ and $R = c_p - c_v$, we can write:

$$\frac{T_2}{T_1}=\left(\frac{p_2}{p_1}\right)^{\frac{c_p-c_v}{c_p}}$$
             
$$\frac{T_2}{T_1}=\left(\frac{v_2}{v_1}\right)^{-\frac{c_p-c_v}{c_v}}$$

Rearranging:

$$\frac{T_2}{T_1}=\left(\frac{p_2}{p_1}\right)^{[k/k-(1/k)]}=\left(\frac{p_2}{p_1}\right)^{(k-1)/k}\tag{idealgas,s=const}$$
             
$$\frac{T_2}{T_1}=\left(\frac{v_1}{v_2}\right)^{k-1}\tag{idealgas,s=const}$$

We can set these two equations equal to each other to get our third isentropic relation:

$$\left(\frac{p_2}{p_1}\right)^{(k-1)/k}=\left(\frac{v_1}{v_2}\right)^{k-1}$$

Which we can re-write as:

$$\left(\frac{p_2}{p_1}\right)=\left(\frac{v_1}{v_2}\right)^{k}\tag{idealgas,s=const}$$

We can write these three ideal gas isentropic relations more generally as:

$$Tv^{k-1}=\text{const}$$
$$Tp^{(1-k)/k}=\text{const}$$
$$pv^k=\text{const}$$

where $k = k(T)$.

#### Solution Code:
```python
## 5. Properties (Code Cell)
# None
```
```python
# 6 Calculations (Code Cell)
# None
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
With the $Tds$ relations we can relate changes in entropy to changes in measurable properties like pressure, temperature, and specific volume for an ideal gas. That can be quite useful for computing entropy changes in a process involving an ideal gas. It is also useful for analyzing isentropic processes involving an ideal gas, such as a turbine or compressor. This will be important when analyzing **Gas Power Cycles**.

---
### PROBLEM: Isentropic and adiabatic steam turbine
**Source:** Jupyter Notebook (turbineSteamIsentropicAdiabatic.ipynb)
**Topic:** Entropy
**Lecture References:** Lecture ID: 1_4ak8fp37, Key: Fa25-L7c-3.0 (Isentropic process: Adiabatic turbine)
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement

Steam enters an adiabatic turbine at $p_1 =$ 5 MPa and $T_1 =$ 450 $^\circ$ C and exits at $p_2 =$ 1.4 MPa. The process is reversible. 

**Goal:** Determine the work output per unit mass, $\frac{\dot{W}_\text{out}}{\dot{m}}$.

---

## 2. Schematic 
Draw a schematic that shows a turbine. Draw the control volume around the turbine. There is a single inlet and oulet for mass to flow in and out. Indicate that it is adiabatic and that work is being transferred out.

---

## 3. Assumptions and Approximations
* **Control Volume** (mass crosses the boundary).
* **Properties** We will use pyCalor to determine properties.
* **Neglect changes in kinetic and potential energy** ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Adiabatic process**.
* **Reversible process**.
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).
* We have a single inlet and outlet ($\dot{m}_\text{in}$ and $\dot{m}_\text{out}$).

---

## 4. Physical Laws
1.  **First Law of Thermodynamics (Energy Balance for Control Volume):**
    $$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

2.  **Conservation of Mass (Mass Balance for a Control Volume):**
    $$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Since this is a steady flow process, we can write:
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}$$

We can write our conservation of energy equation as:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1+\frac{w_1^2}{2}+gz_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2+\frac{w_1^2}{2}+gz_2\right)$$

Neglecting kinetic and potential energy effects we can write:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2\right)$$

Applying the adiabatic assumption:
$$\dot{W}_\text{in}+\dot{m}\left(h_1\right)=\dot{W}_\text{out}+\dot{m}\left(h_2\right)$$

Rearranging:
$$\frac{\dot{W}_\text{out}-\dot{W}_\text{in}}{\dot{m}}=h_1-h_2$$

We expect that work is only transferred out, so $\dot{W}_\text{in} = 0$. We can then write:

$$\frac{\dot{W}_\text{out}}{\dot{m}}=h_1-h_2$$

We know $h_1$ because we have the properties at state 1. We need additional information in order to determine state 2. Since the turbine is reversible and adiabatic (no heat transfer in), then the process is isentropic. Therefore:

$$s_1=s_2$$

We can use this information to determine the enthalpy at state 2.

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor numpy matplotlib

from pyCalor import thermo as th

# Constants and Initial State
p1_MPa = 5 # MPa
T1_C = 450 # C

p2_MPa = 1.4 # MPa

substance = 'water'

# Determine state 1
st1 = th.state(substance,T=(T1_C,'C'),p=(p1_MPa,'Mpa'),name='1')
s1_kJperKgPerK = st1.s
h1_kJperKg = st1.h

# Determine state 2
s2_kJperKgPerK = s1_kJperKgPerK
st2 = th.state(substance,s=(s2_kJperKgPerK,'kJ/kg K'),p=(p2_MPa,'Mpa'),name='2')
h2_kJperKg = st2.h
```
```python
# 6 Calculations (Code Cell)
wOut_kJperKg = h1_kJperKg - h2_kJperKg

print(f"Work output per unit mass: {wOut_kJperKg:.2f} kJ/kg")
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning

By separating flow work from total work to form the property enthalpy, the work term we calculate is then useful shaft work. The work out per unit mass is a simple formula: 

$$\frac{\dot{W}_\text{out}}{\dot{m}}=h_1-h_2$$

* **Key Insight:** For a steady flow system undergoing an **adiabatic** and **reversible** process, this can be considered as an isentropic process. That is useful because it allows us to determine the exit state of the turbine since we also know the exit pressure.

---
### PROBLEM: pyCalor
**Source:** Jupyter Notebook (_pyCalor.ipynb)
**Topic:** Properties
**Lecture References:** 
**Book Reference:** Book Ch. 3: Properties of Pure Substances

#### Problem Statement and Analysis:
Instead of using the "tables" in the back of your textbook to determine thermodynamic properties, here we will use a Python module called [`pyCalor`](https://pypi.org/project/pyCalor/).

This Python module was developed in the Department of Mechanical Engineering at the University of California, Berkeley. It is used for teaching undergraduate thermodynamics (ME40).

The software package contains classes `state` and `process`. The following is the description of their use. You can also get the built-in information by typing the following statements in the Python command line:  

`from pyCalor import thermo as th`

`print(th.state.__doc__)`   

`print(th.process.__doc__)`

#### Solution Code:
```python
print(th.process.__doc__)
```
```python
from pyCalor import thermo as th
import matplotlib.pyplot as plt
```
```python
th.state.units
```
```python
st1 = th.state('water', p=(1,'bar'), v=0.1, name="1")
# st1.substance
# print(dir(st1))
# st1.fluidName
# st1.fluidSet
```
```python
st1.plot("pv") # supported plots are: "pv","Ts","ph"
```
```python
st2 = th.state('R134a', x=1, t=300, name="B")
st2.plot("Ts", isoProp="v")
```
```python
st3 = th.state('air', p=(1,'Mpa'), t=(10,'c'))
st3.name = "2a"
```
```python
print(th.state.__doc__)
```
```python
st1 = th.state('water', p=( 1,'bar'), x=0, name="A")
st2 = th.state('water', p=(20,'bar'), s=st1.s,name="B")
st3 = th.state('water', p=(20,'bar'), x=1,name="C")
st4 = th.state('water', p=( 1,'bar'), s=st3.s, name="D")
pr = th.process([(st1,st2),(st2,st3),(st3,st4),(st4,st1)])
pr.plot("pv")
```

#### Final Summary / Reasoning:


---
### PROBLEM: energyTransferClosedSystem
**Source:** Jupyter Notebook (energyTransferClosedSystem.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_0uijb1pt, Key: Fa25-L2a-11.0 (Energy balance of a system)
**Book Reference:** Book Ch. 2: Energy, Energy Transfer, and General Energy Analysis

#### Problem Statement and Analysis:
## 1. Problem Statement
Consider a closed system containing a fluid. The initial internal energy, $U_1$ is given. Shaft work is transferred in and heat is transferred out. 

**Goal** 
- Determine the final internal energy, $U_2$.

---

## 2. Schematic
Draw a rigid container that contains a paddle that can rotate. Draw a boundary around the inside of the container. The container should indicate that it is not insulated. Indicate that work is transferred in and heat is transferred out.

---

## 3. Assumptions and Approximations
* **Closed system** (no mass in or out).
* **Neglect changes in kinetic and potential energy**: $\Delta KE\approx0$, $\Delta PE\approx0$. (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Work** is transferred in through shaft work.
* **Heat** is transferred out.

---

## 4. Physical Laws and Governing Equations
Conservation of energy:

$$E_\text{in}-E_\text{out}=(Q_\text{in}-Q_\text{out})+(W_\text{in}-W_\text{out})$$

Neglecting changes in kinetic and potential energy, we can write:

$$E_\text{in}-E_\text{out}=\DeltaE_\text{system}=U_2-U_1$$

Only work in and heat out:

$$U_2=U_1-Q_\text{out}+W_\text{in}$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
Qout_kJ = 500
Win_kJ = 100

U1_kJ = 800
```
```python
# 6 Calculations (Code Cell)
U2_kJ = U1_kJ + (-Qout_kJ) - (-Win_kJ); print(U2_kJ)
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
From the first law of thermodynamics, since we are transferring more energy out than in, we would expect that the internal energy at state 2 is less than state 1.

---
### PROBLEM: entropyIdealGasExpansion
**Source:** Jupyter Notebook (entropyIdealGasExpansion.ipynb)
**Topic:** Properties
**Lecture References:** 
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement
A rigid container contains 1 kg of air initially at 1 bar, which is connected to another evacuated rigid container ov volume 1 m$^3$ with a valve. The entire system is kept in contact with a thermal reservoir at 300 K. Now the valve is opened.

**Goal:** Determine the change in entropy of the air.

---

## 2. Schematic 
Draw a schematic that shows one container connected to another. Indicate that the temperature is kept constant. Draw a boundary around the left container and indicate state 1. Draw an expanded boundary that includes both containers and call that state 2. No mass in or out.

---

## 3. Assumptions and Approximations
* **Closed system** (no mass in or out).
* **Ideal Gas Model** (Justification: Air at these conditions behaves as an ideal gas, $p v = R T$)
* **Tds Relations** Because the substance is an ideal gas, we can use $Tds$ relations to compute changes in entropy if we assume constant specific heats.
* **Neglect changes in kinetic and potential energy**: $\Delta KE\approx0$, $\Delta PE\approx0$. (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Pure Substance** We can use pyCalor to determine properties such as specific entropy

---

## 4. Physical Laws
Since we are determining the change in entropy of the gas from state 1 to state 2, we can simply determine the specific entropy at state 2 and state 2. The change in entropy is then:

$$\DeltaS=S_2-S_1=m(s_2-s_1)$$

We know state 1, but we need to determine state 2. We know that $p_1 =$101,325 Pa. For state 2, we need the pressure, $p_2$, which we can determine it from the ideal gas equation:

$$p_2=mRT_2/V_2$$

We know that $V_2$ is equal to the volume of both containers, $V_2 = V_I + V_{II}$. We can determine the volume of container 1 as:

$$V_1=mRT_1/p_1$$

where $V_I = V_1$

The volume at state 2 is then:
$$V_2=(mRT_1/p_1)+V_{II}$$

The pressure is then:

$$p_2=mRT_2/V_2$$

With the pressure and the temperature at state 2, we have complete information since it's a pure substance, so we can use `pyCalor` to determine its specific entropy.

** Alternative solution **
Alternatively, we can relate changes in properties to changes in entropy through the $Tds$ relation:

$$Tds=du+pdv$$

Assuming an ideal gas:

$$Tds=c_vdT+pdv$$

Assuming constant specific heats, we can write:

$$s_2-s_1=c_p\ln\frac{T_2}{T_2}-R\ln\frac{p_2}{p_1}$$

Since it's an isothermal process:

$$s_2-s_1=-R\ln\frac{p_2}{p_1}$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
# constants
R_JperKgPerK = 0.2870e3

# state 1
p1_Pa = 1e5
m_kg = 1
T1_K = 300

V1 = R_JperKgPerK*m_kg*T1_K/p1_Pa; print("V1 =",V1,"m3")

V_II = 1
V2 = V1+V_II; print("V2 =",V2,"m3")

# state 2
T2_K = T1_K
p2_Pa = R_JperKgPerK*m_kg*T2_K/V2; print("p2 =",p2_Pa,"Pa")
```
```python
# 6 Calculations (Code Cell)
!pip install pyCalor
from pyCalor import thermo as th
# state 1
st1 = th.state('air',T=T1_K,p=p1_Pa/1000)
s1 = st1.s #kJ/kg/K
print("s1 =",s1,"kJ/kg/K")

st2 = th.state('air',T=T2_K,p=p2_Pa/1000)
s2 = st2.s # kJ/kg/K
print("s2 =",s2,"kJ/kg/K")

DeltaS_kJperK = (s2 - s1)*m_kg; print("DeltaS_kJperK",DeltaS_kJperK,"kJ/K")

# **Alternative Solution**
import numpy as np
DeltaS_kJperK_alt = - R_JperKgPerK*np.log(p2_Pa/p1_Pa)/1000
print("DeltaS_kJperK_alt",DeltaS_kJperK_alt,"kJ/K")
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
Because the gas expansion is a spontaneous process, we could infer that the entropy should increase. Since it is an isothermal process, and since the specific volume is increasing, we would expect from the ideal gas law that the pressure should decrease. 

* **Key Insight:** From the $Tds$ relations, we know that for an isothermal process, decreasing pressure will cause an increase in entropy. Alternatively stated, for an isothermal process, increasing specific volume will increase entropy.

---
### PROBLEM: heatExchangerEntropyGenerationpyCalor
**Source:** Jupyter Notebook (heatExchangerEntropyGenerationpyCalor.ipynb)
**Topic:** Properties
**Lecture References:** Key: Fa25-L7c-5.0 (Heat exchanger entropy balance)
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement
Problem 7-141 from Cengels Thermodynamics 9th edition

Cold water ($c_p$ = 4.18 kJ/kg.°C) leading to a shower enters a well-insulated, thin-walled, double-pipe, counterflow heat exchanger at 10°C at a rate of 0.95 kg/s and is heated to 70°C by hot water ($c_p$ = 4.19 kJ/kg.°C) that enters at 85°C at a rate of 1.6 kg/s. 

Determine (a) the rate of heat transfer and (b) the rate of entropy generation in the heat exchanger.

---

## 2. Schematic
Draw a heat exchanger that is well-insulated on the outside. There are two inlets and two outlets and the two streams do not mix, but they do transfer heat. We will say that the cold water enters the heat exchanger at state 1 and exits at state 2. We will say that the hot water enters the heat exchanger at state 3 and exits at state 4. 

We will draw a control volume around the cold water pipe (states 1 to 2), which we will call Control Volume I (CVI). We will draw another control volume around the hot water pipe (states 3 to 4), which we will call Control Volume II (CVII).

---

## 3. Assumptions and Approximations
* **Adiabatic Combined System** The combined control volume is assumed to be perfectly insulated. (Justification: No heat is transferred to or from the external surroundings, making $Q_\text{net,surroundings}=0$.)
* **Properties** We will use pyCalor to determine properties.
* **Control Volume** (mass crosses the boundary).
* Neglect changes in kinetic and potential energy ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).
* **Isobaric**: Heat exchangers are isobaric devices. (Justification: Negligible changes in pressure between the inlet and exit.)

---

## 4. Physical Laws and Governing Equations
CVI: Analyze the cold water control volume. Assume steady state.

$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}_\text{cold}$$

$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}_\text{cold}\left(h_1+w_1^2/2+gz_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}_\text{cold}\left(h_2+w_2^2/2+gz_1\right)$$

Neglecting potential and kinetic energy differences:

$$\dot{Q}_\text{in}+\dot{m}_\text{cold}\left(h_1\right)=\dot{m}_\text{cold}\left(h_2\right)$$

Differences in specific enthalpy can be determined by pyCalor or by specific heat at constant pressure times the temperature difference:

$$(\dot{Q}_\text{in})_{12}=\dot{m}_\text{cold}\left(h_2-h_1\right)\approx\dot{m}_\text{cold}c_p\left(T_2-T_1\right)$$ 

With that formula we can determine the rate of heat transfer and answer part (a) of the question. It can also be shown that the heat transferred out of Control Volume II (CVII) is:

$$(\dot{Q}_\text{out})_{34}=\dot{m}_\text{hot}\left(h_3-h_4\right)\approx\dot{m}_\text{hot}c_p\left(T_3-T_4\right)$$ 

We can now work on determining the rate of entropy generation:

$$\dot{S}_\text{in}-\dot{S}_\text{out}+\dot{S}_\text{gen}=\frac{dS_\text{system}}{dt}$$

For this we will now combine CVI and CVII. Recall that there is no heat transfer in or out of the combined CVI and CVII. Entopy is only transferred into and out of the combined control volume through mass entering and leaving. We also assume steady state, therefore:

$$\dot{m}_\text{cold}s_1+\dot{m}_\text{hot}s_3-\dot{m}_\text{cold}s_2-\dot{m}_\text{hot}s_4+\dot{S}_\text{gen}=0$$

$$\implies\dot{S}_\text{gen}=-\dot{m}_\text{cold}s_1+-\dot{m}_\text{hot}s_3+\dot{m}_\text{cold}s_2+\dot{m}_\text{hot}s_4$$ 

$$\implies\dot{S}_\text{gen}=\dot{m}_\text{cold}\left(s_2-s_1\right)+\dot{m}_\text{hot}\left(s_4-s_3\right)$$

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor numpy matplotlib
from pyCalor import thermo as th
cpCold_kJperKgperK = 4.18
cpHot_kJperKgperK = 4.19

T1_C = 10
T2_C = 70
mdot12_kgPerS = 0.95

T3_C = 85
mdot34_kgPerS = 1.6

substance = 'water'
```
```python
# 6 Calculations (Code Cell)
QdotIn12_kW = mdot12_kgPerS * cpCold_kJperKgperK* (T2_C  - T1_C) 
print('(a) The rate of heat transfer into the cold water (CVI) is QdotIn12_kW = {0:1.1f} kW.'.format(QdotIn12_kW))

# Let's compare this value with what we get when we use the property tables. 

p1_MPa = 0.1
water_1 = th.state(substance,p=(p1_MPa,'Mpa'),T=(T1_C,'C'),name='1')
water_2 = th.state(substance,p=(p1_MPa,'Mpa'),T=(T2_C,'C'),name='2')

QdotIn12_kW_ = mdot12_kgPerS * (water_2.h  - water_1.h)
print('(a) Alternate answer: QdotIn12_kW = {0:1.1f} kW.'.format(QdotIn12_kW_))

# part (b)
water_3 = th.state(substance,p=(p1_MPa,'Mpa'),T=(T3_C,'C'),name='3')

h4_kJperKg = water_3.h  - QdotIn12_kW_/mdot34_kgPerS

water_4 = th.state(substance,p=(p1_MPa,'Mpa'),h=(h4_kJperKg,'kJ/kg'),name='4')

Sgen_kWperK = mdot12_kgPerS*(water_2.s - water_1.s) + mdot34_kgPerS*(water_4.s - water_3.s)#; print(Sgen_kWperK)
print('(b) Sgen_kWperK = {0:1.3f} kW/K.'.format(Sgen_kWperK))
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
Approximating changes in enthalpy with $c_p \Delta T$ was a good assumption for heating water. The rate of entropy generation was positive, even though the outside of the heat exchanger was well-insulated, since we were transferring heat from a hot fluid to a cold fluid.

---
### PROBLEM: redlichKwong
**Source:** Jupyter Notebook (redlichKwong.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_blyiho9t, Key: Fa25-L3b-6.0 (van der Waals equation of state)
**Book Reference:** Book Ch. 3: Properties of Pure Substances

#### Problem Statement and Analysis:
## 1. Problem Statement
**Goal**: Plot the isotherms at the critical point of water using `pyCalor` and the Redlich-Kwong equation of state.

---

## 2. Schematic
No schematic

---

## 3. Assumptions and Approximations
* **State Postulate** The state postulate allows a finite number of properties to be specified in order to fully describe a state of thermodynamic equilibrium.
* **Pure Substance** We only need two independent variables to determine the state.

---

## 4. Physical Laws and Governing Equations
The Redlich-Kwong equation for water can be written as:

$$p=\frac{RT}{v-b}-\frac{a}{v\sqrt{T}(v+b)}$$

where $p$ is pressure, $v$ is specific volume, $R$ is the specific gas constant, $T$ is temperature, and $a$ and $b$ are constants.

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor

from pyCalor import thermo as th
import numpy as np
import matplotlib.pyplot as plt

# critical point of water
Tc_K = 647.096 
pc_Pa = 22.060e6

# triple point of water
Ttp_K = 273.16
ptp_Pa = 611.6
```
```python
# 6 Calculations (Code Cell)
plt.figure()
plt.clf()

plt.xscale("log")
# plot the saturated liquid and saturated vapor lines
P = np.linspace(ptp_Pa, pc_Pa, 1000) # range of pressures
vvap = [s.v for s in [th.state('Water', x=1, p=(p,'Pa')) for p in P]]
vliq = [s.v for s in [th.state('Water', x=0, p=(p,'Pa')) for p in P]]
plt.plot(vvap, P/1e6, 'k-') # plot the pressure in MPa
plt.plot(vliq, P/1e6, 'k-') # plot the pressure in MPa

# plot the isotherm for the critical temperature using pyCalor
P_ = np.linspace(ptp_Pa/1e6, 30, 1000) # range of pressures, MPa
st = [th.state('Water', p=(p*1e3,'kPa'), T=(Tc_K,'K')) for p in P_]
v = [s.v for s in st]
plt.xscale("log")
plt.plot(v, P_, 'b--')

# plot the isotherm for the critical temperature using Redlich-Kwong
R_JperKgPerK = 461.5
a = 0.42748*((R_JperKgPerK**2)*(Tc_K**2.5))/pc_Pa
b = 0.08664*(R_JperKgPerK*Tc_K)/pc_Pa
v_ = np.linspace(3e-3, 1, 5000)
# Redlich-Kwong equation of state:
p_ = ((R_JperKgPerK*Tc_K)/(v_ - b)) - a/((Tc_K**0.5)*v_*(v_ + b))
plt.plot(v_, p_/1e6, 'g--')

ax = plt.gca()
xmin = 0.8e-3
xmax = 1
ax.set_xlim([xmin, xmax])
ymin = 0
ymax = 25
ax.set_ylim([ymin, ymax])

ax.set_xlabel('$v$ (m$^3$/kg)')
ax.set_ylabel('$p$ (MPa)')
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We were able to plot critical temperature isotherms for water using `pyCalor`, the Redlich-Kwong equation of state. The isotherms match very well for specific volume values greater than the critical specific volume. It would be interesting to see how this equation of state behaves for temperature values less than the critical temperature. Especially if it is possible to define the lines of saturation using this equation of state.

---
### PROBLEM: The Pure Substance
**Source:** Jupyter Notebook (propertiesIndependentDependent.ipynb)
**Topic:** Properties
**Lecture References:** Lecture ID: 1_r5zqwxag, Key: Fa25-L1b-5.0 (Independent and Dependent Properties)
**Book Reference:** Book Ch. 3: Properties of Pure Substances

#### Problem Statement and Analysis:
## 1. Independent Properties and Dependent Properties

In some systems it is necessary to prescribe a large number of indpendent characteristics or peroperties before the state is defined. Recall our simple system that consisted of the weight, cord, drum, brake, and surface. It is necessary to define the state not alone in terms of the position of the weight, but also in terms of the temperature of the brake and the temperature of the drum. If the weight is allowed to fall unrestrained to the surface the temperature of the weight and the temperature of the surface must be included as important and independently varying properties. 

All observable or measurable characteristics are properties, but all need not be independent properties. The diameter of the brake drum increases slightly when it is used to restrain the falling weight, but it can be shown that for each temperature of the brake drum there is a corresponding diameter. Therefore, measurment either of the diameter of the drum or of its temperature may be used to identify the state; measurement of both is unnecessary. If temperature is considered an independent variable, then drum diameter is a dependent variable, and conversely.

---

## 2
Let $P$ denote a dependent property (e.g., pressure) and $x_1, x_2, ... x_n$ enough independent properties to determine the state of a system (e.g., specific volume and temperature). When the quantities $x_1, x_2, ... x_n$ are fixed, then the quantity $P$ is fixed. The mathematical statement of this fact is as follows:

$$P=f(x_1,x_2,...x_n)$$

where $f$ denotes a function. This equation may be interpreted geometrically by the following statement: _There is a continuum in $n+1$ dimensions which preresents the relationship between $P$, $x_1, x_2, ... x_n - a$ dimension being assigned to each of these quantities._ If there are two independent properties, as for pure gases and liquids, then there is a surface in three-dimensional space which will represent the relation between two independent properties and a dependent one.

---

## 3
Any change in the property $P$ may be expressed in terms of its partial derivatives and the changes in the independent properties; thus:

$$dP=\frac{\partialP}{\partialx_1}dx_1+\frac{\partialP}{\partialx_2}dx_2+...\frac{\partialP}{\partialx_n}dx_n$$

Consider a system having two independent properties, $x_1$ and $x_2$. Then the differential of the dependent property $P$ is given by:

$$dP=\frac{\partialP}{\partialx_1}dx_1+\frac{\partialP}{\partialx_2}dx_2$$

Partial-differential calculus teaches that if $P$ is a function of $x_1$ and $x_2$ then the magnitude of the second derivative of $P$ with respect to $x_1$ and $x_2$ is independent of the order of differentation:

$$\frac{\partial}{\partialx_2}\left(\frac{\partialP}{\partialx_1}\right)=\frac{\partial}{\partialx_1}\left(\frac{\partialP}{\partialx_2}\right)$$

---

## 4 
If we have an expression of the form:

$$dP=Mdx_1+Ndx_2$$

Then

$$\frac{\partialM}{\partialx_2}=\frac{\partialN}{\partialx_1}$$

provided that $P$ is a property of the system. This is another way that a property may be identified.

#### Solution Code:
```python
# 5. Properties (Code Cell)
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Define the function for the property P (which is x3)
# Here, we're using a simple parabolic surface: x3 = x1^2 + x2^2
# This represents how a property (x3) changes with two independent variables (x1, x2)
def property_function(x1, x2):
    return x1**2 + x2**2

# --- 3D Surface Plot ---
print("Generating 3D surface plot...")

# Create a meshgrid for x1 and x2 values
# This generates a 2D array of x1 and x2 values to cover the surface
x1_range = np.linspace(-5, 5, 100)
x2_range = np.linspace(-5, 5, 100)
X1, X2 = np.meshgrid(x1_range, x2_range)

# Calculate the corresponding x3 values for each (X1, X2) pair
X3 = property_function(X1, X2)
```
```python
# 6 Calculations (Code Cell)
# Create the 3D plot
fig = plt.figure(figsize=(10, 8))
ax = fig.add_subplot(111, projection='3d')

# Plot the surface
ax.plot_surface(X1, X2, X3, cmap='viridis', edgecolor='none')

# Set labels for the axes
ax.set_xlabel('$x_1$ (Independent Variable 1)', fontsize=12)
ax.set_ylabel('$x_2$ (Independent Variable 2)', fontsize=12)
ax.set_zlabel('$x_3$ (Dependent Property P)', fontsize=12)
ax.set_title('3D Surface Plot: $x_3 = f(x_1, x_2)$', fontsize=14)
ax.view_init(elev=20, azim=-120) # Adjust view angle for better visualization
plt.tight_layout()
plt.savefig('3D-surface-plot-x3-f-x1-x2.png')
plt.show()
print("3D surface plot displayed.")

# --- 2D Plot for a Fixed x1 Value ---
print("\nGenerating 2D plot for a fixed x1 value...")

# Choose a fixed value for x1
fixed_x1_value = 2.0
print(f"Fixed value for x1: {fixed_x1_value}")

# Generate x2 values for the 2D plot
x2_for_2d_plot = np.linspace(-5, 5, 100)

# Calculate x3 values for the fixed x1 and varying x2
x3_for_2d_plot = property_function(fixed_x1_value, x2_for_2d_plot)

# Create the 2D plot
plt.figure(figsize=(8, 6))
plt.plot(x2_for_2d_plot, x3_for_2d_plot, color='blue', linewidth=2)

# Add a point to highlight the fixed x1
# We're showing a specific point on the curve, e.g., when x2 = 0
point_x2 = 0.0
point_x3 = property_function(fixed_x1_value, point_x2)
plt.scatter(point_x2, point_x3, color='red', s=100, zorder=5, label=f'Point at $x_2$={point_x2}')
plt.annotate(f'($x_2$={point_x2}, $x_3$={point_x3:.2f})', (point_x2, point_x3),
             textcoords="offset points", xytext=(0,10), ha='center', fontsize=10, color='red')


# Set labels and title for the 2D plot
plt.xlabel('$x_2$ (Independent Variable 2)', fontsize=12)
plt.ylabel('$x_3$ (Dependent Property P)', fontsize=12)
plt.title(f'2D Plot: $x_3 = f({fixed_x1_value}, x_2)$ for fixed $x_1 = {fixed_x1_value}$', fontsize=14)
plt.grid(True)
plt.legend()
plt.tight_layout()
#plt.savefig('2D-surface-plot-x3-f-x1-x2.png')
plt.show()
print("2D plot displayed.")
```

#### Final Summary / Reasoning:
## The symbols $e$, $u$, $E$, and $U$

A system consisting of a pure substance in a homogeneous and stable state has two independent properties in the absence of motion, gravity, electricity, magnetism, and capillarity. Therefore, we may state that the internal energy of a 1-kg mass of such a system is a fucntion, for example, of temperature and volume of the unit mass. To this function we shall give the symbol $u$, whereas the symbol $e$ may be used to denote the internal energy of a unit system in general. Thsu, for the conditions specified, we may write:

$$e=u(T,v)$$

or simply

$$e=u$$

Values of the function $u$ may be arranged in a table according to values of two arguments, such as temperature and specific volume, or temperature and pressure. Values of $e$ could not be arranged in such a sinmple table because $e$ changes not only with changes in temperature and specific volume, but also with changes in motion, height, electrostatic charge, position in an electrostatic field, etc. Therefore, we distinguish between $u$, the function of two variables, and $e$, the function of many variables. We will use the capital letters $U$ and $E$ to denote the corresponding quantities for systems that are not of a unit mass. Thus, 

$$U=\intudm\text{and}E=\intedm$$

## State Changes in a System Consisting of a Pure Fluid Substance

### The Constant-Volume Process (isochoric, sometimes called isometric)

Consider a system uninfluenced by gravity, electricity, capillarity, or magnetism. If this system is confined within a chamber of invariable volume a change in the state of the fluid can be accomplished by either: (a) rotating a paddle wheel within the fluid, by means of an external falling weight, for instance; or (b) adding heat by the application of a body at higher temperature ($S$). 

Let us perform two experiments, one of the heating time and one of the paddle-wheel type, each starting from the same state (the same pressure, temperature, specific volume, total volume, internal energy, etc.). In the heating experiment, no work is done by or on the system. Therefore, we may write:

$$dQ=mdu$$

In the paddle-wheel experiment, no heat need to flow, but the paddles apply a force to the fluid and move it through a distance. This operation constitutes the application of work to the fluid and results in an acceleration and motion of the parts of the system. The motion will vanish after the completion of the operation. We may write for this experiment:

$$0=mdu+dW$$

Now if we transfer the same amount of heat and work in the first and second experiment, respectively, the final internal energy will be the same for both experiments. 

**Question: If you know state 1, and you know that $u_1 = u_2$ for process 1-2, how can you determine state 2?**

**Answer: Since the specific volume remains unchanged in both experiments, the final specific volumes will be identical. The equivalence of the two independent properties, the specific volume and internal energy, is sufficient to insure equivalence of the two final states.**

Here we have two processes with the same initial states and the same final states. The change in all properties are the same in both. The work involved is less than zero in one process and zero in the other. The heat is zero in one and greater than zero in the other. If the heat and work in these processes had preresented properties, their values would have been the same in both instances. _They are different becasue the end states of a process do not fix the values of heat and work._

The raito of the increase of internal energy in a constant-volume process to the corresponding increase in temperature expressed as a derivative, is called the specific heat at constant volume:

$$c_V=\left(\frac{\partialu}{\partialT}\right)_V$$

### The constant-pressure process (isobaric)

If a fluid is confined in a cylindrical chamber closed at the top by a weighted piston which can move up and down frictionlessly and without clearance, its pressure will remain constant for any process which is carried out slowly. As in the constant-volume process, work or heat can be added to the fluid under the piston. In either event the volume occupied by the fluid will change and the piston will move to a new position. 

Let us consider a system consisting of a unit mass of fluid. The work done by this system on its surroundings is the product of a force and the distance through which it moves; thus, for a slight outward motion of the piston the work done on the piston is $p A ds$ or $p dV$, where $A$ denotes the area of the piston, $ds$ the distance the piston moves, and $dV$ the increase in the volume occupied by the system. The first law applied to the heating process becomes:

$$dU=dQ-pdV$$

Applied to the paddle-wheel process it becomes:

$$dU=dW_\text{p}-pdV$$

where $dW_\text{p}$ denotes a positive number representing the amount of work done by the paddle wheel on the system. 

Since $p$ is constant we may write for $(dU + p dV)$ the single differential $d(U + pV)$, in which $V$ denotes the volume of the fluid. We can write this on a per mass basis as $d(u + pv)$. Now this quantity $(u + pv)$ is made up entirely of properties. That is, it is made up of quantities whose change is fixed by the end states. Therefore, it is itself a property, because the change in it is fixed by the end states and is independent of the prcoess by which the change occurs. Its usefulness in several types of problems justifies assigning to it a name and a symbol. It is called enthalpy and the symbol for its value per unit mass of substance is $h$. 

The paddle-wheel work in the first constant-pressure process is then:

$$dW_\text{p}=mdh$$

and the heat in the second by:

$$dQ=mdh$$

The ratio of the increase in enthalpy in a constant-pressure process to the corresponding increase in temperature, expressed as a derivative, is called the specific heat at constant pressure:

$$c_p=\left(\frac{\partialh}{\partialT}\right)_p$$

### Representation of Changes of State on Diagrams

Constant volume change and constant pressure change are shown respectively by the lines $OV$ and $OP$.

### The Process at Constant Internal Energy

A system consisting of a unit mass of fluid is confined in one part of a chamber, the walls of which are perfectly insulating to heat, by a thin partition. When the partition is removed, the fluid rushes to fill in the evacuated space. If we can remove a series of partitions such at homogeneity is maintained from one step to the next, then we can represent this process by a line on any diagram of properties. 

Another process can be devised where the heat in is equal to the work out.

### The Constant-Temperature Process (Isothermal)

Both the processes at constant internal energy which are described above can be converted to constant-temperature processes if the fluid is made to communicate through conducting walls with a constant-temperature bath. 

For the partition process we have:

$$mdu=dQ$$

For the piston process we have:

$$mdu=dQ-dW$$

### Work Done on a Piston

If a fluid is confined within a cylinder by a piston, work will be done by the fluid if the piston is allowed to move outward. For any small expansion, the work is given by:

$$pAds=pdV$$

where $A$ denotes the area of the piston and $ds$ the distance through which the piston moves. So the total work of a piston is:

$$W=\intpdV$$

However, work and the integral of $p dV$ are not always equal or equivalent and great care must be exercised in making the substitution. The experiment with multiple partitions (constant energy and constant temperature) both have finite values of the integral of $pdV$ and zero values of work. In the paddle-wheel experiment at constant volume the integral of $p dV$ is zero and the work done by the system is less than zero. 

_The substitution of $p dV$ for $dW$ can be made only if all the work involved in the process is done by the fluid on a moving boundary on which it exerts at all times the same pressure that it exerts on its stationary boundaries._

### Adiabatic Process

A process which involves no exchange of heat is called an adiabatic process. The process at constant internal energy in which the partition is withdrawn is an adiabatic process. One simple adiabatic process consists of a slow expansion or compression of a fluid behind a piston. The piston and cylinder walls are perfect thermal insulators. For this process we can write from the First Law:

$$0=mdu+dW$$

Here we can substitute $pdV$ for $dW$ and obtain:

$$du=-pdv$$

The path of this type of exapnsion can be traced on a digram of properties of the fulid provided that the relation between $p$, $v$, and $u$ is known for the fluid in the cylinder. 

We can write the above as: 

$$\frac{du}{dv}=-p$$

So if the initial state is represented by a point $P$ in the $u-v$ diagram of Fig. 9, the initial slope on the diagram is equal to the negative of pressure. The curve may be approximated by following this slope for a short distance to $Q$ where the corresponding pressure may be determined from $U$, $v$, and the known relation, and a new slope may be determined. A second step to $R$ and so on and so forth. 

If the relation between $u$, $p$, and $v$ is algebaric, then it is possible that a complete algebraic statement exists for the relation between any two properties, e.g., $p$ and $v$, for this type of adiabatic expansion. The $u - p - v$ relation for some gases can be represented by an equation of the form:

$$u=A+Bpv$$

where $A$ and $B$ are constants.

---
### PROBLEM: isentropicEfficiencyDeriving
**Source:** Jupyter Notebook (isentropicEfficiencyDeriving.ipynb)
**Topic:** Entropy
**Lecture References:** Lecture ID: 1_tn902g9q, Key: Fa25-L7e-5.0 (Deriving Isentropic Efficiency of a Turbine)
**Book Reference:** Book Ch. 7: Entropy

#### Problem Statement and Analysis:
## 1. Problem Statement
Idealized devices operate isentropically while real devices do not. Real devices are characterized by an isentropic efficiency. You are given the inlet pressure and temperature and the outlet pressure. 

**Goal** 
* Derive the isentropic efficiency for a compressor
* Given an adiabatic air compressor with an inlet pressure and temperature of 100 kPa and 20$^\circ$C, respectively; a compression ratio of 5; and an isentropic efficiency of 0.9, determine the actual temperature at the exit of the compressor.
* Show the isentropic and actual compression processes on a temperature-specific entropy diagram.

---

## 2. Schematic
Draw a control volume around the compressor. Work is transferred in and should be indicated. No heat is transferred in or out and should be indicated. There is a single inlet and outlet of the fluid stream.

---

## 3. Assumptions and Approximations
* **Control Volume** (mass crosses the boundary).
* **Properties** We will use pyCalor to determine properties.
* **Neglect changes in kinetic and potential energy** ($\Delta KE\approx0$, $\Delta PE\approx0$). (Justification: The velocities are typically low, or the change in height is negligible compared to the enthalpy change.)
* **Adiabatic process**.
* **Steady-flow process** ($\Delta m_\text{CV}= 0$, $\Delta E_\text{CV}= 0$, $\Delta S_\text{CV}= 0$).
* We have a single inlet and outlet ($\dot{m}_\text{in}$ and $\dot{m}_\text{out}$).

---

## 4. Physical Laws
1.  **First Law of Thermodynamics (Energy Balance for Control Volume):**
    $$\frac{dE_\text{CV}}{dt}=\dot{E}_\text{in}-\dot{E}_\text{out}$$

2.  **Conservation of Mass (Mass Balance for a Control Volume):**
    $$\frac{dm_\text{CV}}{dt}=\dot{m}_\text{in}-\dot{m}_\text{out}$$

Since this is a steady flow process, we can write:
$$\dot{E}_\text{in}=\dot{E}_\text{out}$$

$$\dot{m}_\text{in}=\dot{m}_\text{out}=\dot{m}$$

We can write our conservation of energy equation as:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1+\frac{w_1^2}{2}+gz_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2+\frac{w_1^2}{2}+gz_2\right)$$

Neglecting kinetic and potential energy effects we can write:
$$\dot{W}_\text{in}+\dot{Q}_\text{in}+\dot{m}\left(h_1\right)=\dot{W}_\text{out}+\dot{Q}_\text{out}+\dot{m}\left(h_2\right)$$

Applying the adiabatic assumption:
$$\dot{W}_\text{in}+\dot{m}\left(h_1\right)=\dot{W}_\text{out}+\dot{m}\left(h_2\right)$$

There is only work transferred in, and not out:
$$\dot{W}_\text{in}=\dot{m}\left(h_2-h_1\right)$$

Using our steady flow equation for power input to the compressor, we can define the minimum work into the compressor by analyzing the isentropic case:

$$\left(\dot{W}_\text{in}\right)_\text{s}=\dot{m}\left(h_\text{2s}-h_1\right)$$

We can also define the actual work into the compressor as:

$$\left(\dot{W}_\text{in}\right)_\text{a}=\dot{m}\left(h_\text{2a}-h_1\right)$$

Therefore, we can define the isentropic efficiency of a compressor by taking the ratio of these two power input equations (neglecting changes in kinetic and potential energy):

$$\eta_\text{C}=\frac{\left(\dot{W}_\text{in}\right)_\text{s}}{\left(\dot{W}_\text{in}\right)_\text{a}}=\frac{h_\text{2s}-h_1}{h_\text{2a}-h_1}$$

By knowing the inlet pressure, $p_1$, and temperature, $T_1$, of a gas, we can determine the specific enthalpy, $h_1$, and entropy, $s_1$. For the isentropic case, we have $s_2 = s_1$, and we can determine the specific enthalpy at state 2, $h_2$, since we know $p_2$. We term this as $h_\text{2s}$.

#### Solution Code:
```python
## 5. Properties (Code Cell)
!pip install pyCalor numpy matplotlib
from pyCalor import thermo as th

substance = 'air'
isentropicEfficiency = 0.9

# state 1
p1_kPa = 100 # kPa
T1_C = 20 # C
st1 = th.state(substance,p=(p1_kPa,'kPa'),T=(T1_C,'C'),name='1')

rp = 5

# state 2s
p2_kPa = rp*p1_kPa
st2s = th.state(substance,p=(p2_kPa,'kPa'),s=(st1.s,'kJ/kg K'),name='2s')

h2a_kJperKg = ((st2s.h - st1.h)/isentropicEfficiency) + st1.h

# state 2a
st2a = th.state(substance,p=(p2_kPa,'kPa'),h=(h2a_kJperKg,'kJ/kg'),name='2a')
```
```python
## 6. Calculations (Code Cell)
# Final answer:
T2a_K = st2a.T; print(T2a_K)

# Compare with the isentropic case, T2s_K
T2s_K = st2s.T; print(T2s_K)

# Defining processes for the isentropic and actual compression processes
pr = th.process([(st1,st2a),(st1,st2s)])

# Plotting the isentropic and actual compression processes on a temperature-specific entropy diagram
fig1 = pr.plot("Ts");

# save figure
# fig1.savefig("figure_1.pdf")
```

#### Final Summary / Reasoning:
## 7. Summary and Reasoning
We know from the definition of isentropic efficiency that the power input to the isentropic compressor is less than the actual compressor. What we would expect then from a **First Law of Thermodynamics** analysis is that the temperature at the exit of the actual compressor should be greater than the isentropic compressor, which we've shown is the case.

---