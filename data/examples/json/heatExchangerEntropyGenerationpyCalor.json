{
  "problem_title": "heatExchangerEntropyGenerationpyCalor",
  "author": "tschutzius",
  "year": "Fa25",
  "difficulty_tags": ["medium"],
  "topic": "Entropy",
  "lecture_reference": {
    "lecture_id": "",
    "subtopics": [
      {
        "key": "Fa25-L7c-5.0",
        "title": "Heat exchanger entropy balance"
      }
    ]
  },
  "book_reference": {
    "chapter_number": 7,
    "title": "Entropy",
    "sections": ["Entropy Balance"]
  },
  "notes": "",
  "problem_statement_raw": "Problem 7-141 from Cengels Thermodynamics 9th edition\n\nCold water ($c_p$ = 4.18 kJ/kg.°C) leading to a shower enters a well-insulated, thin-walled, double-pipe, counterflow heat exchanger at 10°C at a rate of 0.95 kg/s and is heated to 70°C by hot water ($c_p$ = 4.19 kJ/kg.°C) that enters at 85°C at a rate of 1.6 kg/s. \n\nDetermine (a) the rate of heat transfer and (b) the rate of entropy generation in the heat exchanger.",
  "physical_laws_and_assumptions": "Schematic\nDraw a heat exchanger that is well-insulated on the outside. There are two inlets and two outlets and the two streams do not mix, but they do transfer heat. We will say that the cold water enters the heat exchanger at state 1 and exits at state 2. We will say that the hot water enters the heat exchanger at state 3 and exits at state 4. \n\nWe will draw a control volume around the cold water pipe (states 1 to 2), which we will call Control Volume I (CVI). We will draw another control volume around the hot water pipe (states 3 to 4), which we will call Control Volume II (CVII). \n\nAssumptions and Approximations\n* Control Volume (mass crosses the boundary).\n* Cannot be treated as an ideal gas. We will use pyCalor to determine properties.\n* Neglect kinetic and potential energy ($\\Delta KE \\approx 0$, $\\Delta PE \\approx 0$).\n* The outside of the heat exchanger is assumed to be adiabatic.\n* Steady-flow process ($\\Delta m_\\text{CV}= 0$, $\\Delta E_\\text{CV}= 0$, $\\Delta S_\\text{CV}= 0$).\n* We have a single inlet and outlet ($\\dot{m}_\\text{in}$ and $\\dot{m}_\\text{out}$) for the cold water stream.\n* We have a single inlet and outlet ($\\dot{m}_\\text{in}$ and $\\dot{m}_\\text{out}$) for the hot water stream.\n* $(\\dot{Q}_\\text{in})_{12} = (\\dot{Q}_\\text{out})_{34}$\n    \nPhysical Laws and Governing Equations\nCVI: Analyze the cold water control volume. Assume steady state.\n\n$$\\dot{m}_\\text{in} = \\dot{m}_\\text{out} = \\dot{m}_\\text{cold}$$\n\n$$\\dot{E}_\\text{in} = \\dot{E}_\\text{out}$$\n\n$$\\dot{W}_\\text{in} + \\dot{Q}_\\text{in} + \\dot{m}_\\text{cold}\\left(h_1 + w_1^2/2 + gz_1 \\right) = \\dot{W}_\\text{out} + \\dot{Q}_\\text{out} + \\dot{m}_\\text{cold}\\left(h_2 + w_2^2/2 + gz_1 \\right)$$\n\nNeglecting potential and kinetic energy differences:\n\n$$\\dot{Q}_\\text{in} + \\dot{m}_\\text{cold}\\left(h_1\\right) = \\dot{m}_\\text{cold}\\left(h_2 \\right)$$\n\nDifferences in specific enthalpy can be determined by pyCalor or by specific heat at constant pressure times the temperature difference:\n\n$$(\\dot{Q}_\\text{in})_{12} = \\dot{m}_\\text{cold}\\left(h_2 - h_1 \\right) \\approx \\dot{m}_\\text{cold} c_p \\left(T_2 - T_1 \\right)$$ \n\nWith that formula we can determine the rate of heat transfer and answer part (a) of the question. It can also be shown that the heat transferred out of Control Volume II (CVII) is:\n\n$$(\\dot{Q}_\\text{out})_{34} = \\dot{m}_\\text{hot}\\left(h_3 - h_4 \\right) \\approx \\dot{m}_\\text{hot} c_p \\left(T_3 - T_4 \\right)$$ \n\nWe can now work on determining the rate of entropy generation:\n\n$\\dot{S}_\\text{in} - \\dot{S}_\\text{out} + \\dot{S}_\\text{gen} = \\frac{dS_\\text{system}}{dt}$\n\nFor this we will now combine CVI and CVII. Recall that there is no heat transfer in or out of the combined CVI and CVII. Entopy is only transferred into and out of the combined control volume through mass entering and leaving. We also assume steady state, therefore:\n\n$\\dot{m}_\\text{cold}s_1 + \\dot{m}_\\text{hot}s_3 - \\dot{m}_\\text{cold}s_2 - \\dot{m}_\\text{hot}s_4 + \\dot{S}_\\text{gen} = 0$ \n\n$\\implies  \\dot{S}_\\text{gen} = -\\dot{m}_\\text{cold}s_1 + -\\dot{m}_\\text{hot}s_3 + \\dot{m}_\\text{cold}s_2 + \\dot{m}_\\text{hot}s_4$ \n\n$\\implies  \\dot{S}_\\text{gen} = \\dot{m}_\\text{cold} \\left(s_2 - s_1 \\right)  + \\dot{m}_\\text{hot} \\left( s_4 -s_3 \\right)$",
  "solution_code": [
    {
      "step_name": "Properties",
      "code": [
        "!pip install pyCalor",
        "from pyCalor import thermo as th",
        "cpCold_kJperKgperK = 4.18",
        "cpHot_kJperKgperK = 4.19",
        "",
        "T1_C = 10",
        "T2_C = 70",
        "mdot12_kgPerS = 0.95",
        "",
        "T3_C = 85",
        "mdot34_kgPerS = 1.6",
        "",
        "substance = 'water'"
      ]
    },
    {
      "step_name": "Calculations",
      "code": [
        "# 6 Calculations (Code Cell)",
        "QdotIn12_kW = mdot12_kgPerS * cpCold_kJperKgperK* (T2_C  - T1_C) ",
        "print('(a) The rate of heat transfer into the cold water (CVI) is QdotIn12_kW = {0:1.1f} kW.'.format(QdotIn12_kW))",
        "",
        "# Let's compare this value with what we get when we use the property tables. ",
        "",
        "p1_MPa = 0.1",
        "water_1 = th.state(substance,p=(p1_MPa,'Mpa'),T=(T1_C,'C'),name='1')",
        "water_2 = th.state(substance,p=(p1_MPa,'Mpa'),T=(T2_C,'C'),name='2')",
        "",
        "QdotIn12_kW_ = mdot12_kgPerS * (water_2.h  - water_1.h)",
        "print('(a) Alternate answer: QdotIn12_kW = {0:1.1f} kW.'.format(QdotIn12_kW_))",
        "",
        "# part (b)",
        "water_3 = th.state(substance,p=(p1_MPa,'Mpa'),T=(T3_C,'C'),name='3')",
        "",
        "h4_kJperKg = water_3.h  - QdotIn12_kW_/mdot34_kgPerS; print(h4_kJperKg)",
        "",
        "water_4 = th.state(substance,p=(p1_MPa,'Mpa'),h=(h4_kJperKg,'kJ/kg'),name='4')",
        "",
        "Sgen_kWperK = mdot12_kgPerS*(water_2.s - water_1.s) + mdot34_kgPerS*(water_4.s - water_3.s)#; print(Sgen_kWperK)",
        "print('(b) Sgen_kWperK = {0:1.3f} kW/K.'.format(Sgen_kWperK))"
      ]
    }
  ],
  "pedagogical_summary": "Approximating changes in enthalpy with $c_p \\Delta T$ was a good assumption for heating water. The rate of entropy generation was positive, even though the outside of the heat exchanger was well-insulated, since we were transferring heat from a hot fluid to a cold fluid."
}